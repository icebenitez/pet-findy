function QE(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var li=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function fu(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var YE={exports:{}},Wd={},XE={exports:{}},Te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pu=Symbol.for("react.element"),Gk=Symbol.for("react.portal"),Qk=Symbol.for("react.fragment"),Yk=Symbol.for("react.strict_mode"),Xk=Symbol.for("react.profiler"),Jk=Symbol.for("react.provider"),Zk=Symbol.for("react.context"),eb=Symbol.for("react.forward_ref"),tb=Symbol.for("react.suspense"),nb=Symbol.for("react.memo"),rb=Symbol.for("react.lazy"),Ow=Symbol.iterator;function ib(t){return t===null||typeof t!="object"?null:(t=Ow&&t[Ow]||t["@@iterator"],typeof t=="function"?t:null)}var JE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ZE=Object.assign,e1={};function ha(t,e,n){this.props=t,this.context=e,this.refs=e1,this.updater=n||JE}ha.prototype.isReactComponent={};ha.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ha.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function t1(){}t1.prototype=ha.prototype;function dg(t,e,n){this.props=t,this.context=e,this.refs=e1,this.updater=n||JE}var hg=dg.prototype=new t1;hg.constructor=dg;ZE(hg,ha.prototype);hg.isPureReactComponent=!0;var Lw=Array.isArray,n1=Object.prototype.hasOwnProperty,fg={current:null},r1={key:!0,ref:!0,__self:!0,__source:!0};function i1(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)n1.call(e,r)&&!r1.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:pu,type:t,key:o,ref:s,props:i,_owner:fg.current}}function ob(t,e){return{$$typeof:pu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function pg(t){return typeof t=="object"&&t!==null&&t.$$typeof===pu}function sb(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Mw=/\/+/g;function ff(t,e){return typeof t=="object"&&t!==null&&t.key!=null?sb(""+t.key):e.toString(36)}function Pc(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case pu:case Gk:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+ff(s,0):r,Lw(i)?(n="",t!=null&&(n=t.replace(Mw,"$&/")+"/"),Pc(i,e,n,"",function(u){return u})):i!=null&&(pg(i)&&(i=ob(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Mw,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",Lw(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+ff(o,a);s+=Pc(o,e,n,l,i)}else if(l=ib(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+ff(o,a++),s+=Pc(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Yu(t,e,n){if(t==null)return t;var r=[],i=0;return Pc(t,r,"","",function(o){return e.call(n,o,i++)}),r}function ab(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var nn={current:null},kc={transition:null},lb={ReactCurrentDispatcher:nn,ReactCurrentBatchConfig:kc,ReactCurrentOwner:fg};Te.Children={map:Yu,forEach:function(t,e,n){Yu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Yu(t,function(){e++}),e},toArray:function(t){return Yu(t,function(e){return e})||[]},only:function(t){if(!pg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Te.Component=ha;Te.Fragment=Qk;Te.Profiler=Xk;Te.PureComponent=dg;Te.StrictMode=Yk;Te.Suspense=tb;Te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lb;Te.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=ZE({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=fg.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)n1.call(e,l)&&!r1.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:pu,type:t.type,key:i,ref:o,props:r,_owner:s}};Te.createContext=function(t){return t={$$typeof:Zk,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Jk,_context:t},t.Consumer=t};Te.createElement=i1;Te.createFactory=function(t){var e=i1.bind(null,t);return e.type=t,e};Te.createRef=function(){return{current:null}};Te.forwardRef=function(t){return{$$typeof:eb,render:t}};Te.isValidElement=pg;Te.lazy=function(t){return{$$typeof:rb,_payload:{_status:-1,_result:t},_init:ab}};Te.memo=function(t,e){return{$$typeof:nb,type:t,compare:e===void 0?null:e}};Te.startTransition=function(t){var e=kc.transition;kc.transition={};try{t()}finally{kc.transition=e}};Te.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Te.useCallback=function(t,e){return nn.current.useCallback(t,e)};Te.useContext=function(t){return nn.current.useContext(t)};Te.useDebugValue=function(){};Te.useDeferredValue=function(t){return nn.current.useDeferredValue(t)};Te.useEffect=function(t,e){return nn.current.useEffect(t,e)};Te.useId=function(){return nn.current.useId()};Te.useImperativeHandle=function(t,e,n){return nn.current.useImperativeHandle(t,e,n)};Te.useInsertionEffect=function(t,e){return nn.current.useInsertionEffect(t,e)};Te.useLayoutEffect=function(t,e){return nn.current.useLayoutEffect(t,e)};Te.useMemo=function(t,e){return nn.current.useMemo(t,e)};Te.useReducer=function(t,e,n){return nn.current.useReducer(t,e,n)};Te.useRef=function(t){return nn.current.useRef(t)};Te.useState=function(t){return nn.current.useState(t)};Te.useSyncExternalStore=function(t,e,n){return nn.current.useSyncExternalStore(t,e,n)};Te.useTransition=function(){return nn.current.useTransition()};Te.version="18.2.0";XE.exports=Te;var T=XE.exports;const Wn=fu(T),ub=QE({__proto__:null,default:Wn},[T]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cb=T,db=Symbol.for("react.element"),hb=Symbol.for("react.fragment"),fb=Object.prototype.hasOwnProperty,pb=cb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,mb={key:!0,ref:!0,__self:!0,__source:!0};function o1(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)fb.call(e,r)&&!mb.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:db,type:t,key:o,ref:s,props:i,_owner:pb.current}}Wd.Fragment=hb;Wd.jsx=o1;Wd.jsxs=o1;YE.exports=Wd;var R=YE.exports,wp={},s1={exports:{}},Tn={},a1={exports:{}},l1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(B,J){var j=B.length;B.push(J);e:for(;0<j;){var me=j-1>>>1,ke=B[me];if(0<i(ke,J))B[me]=J,B[j]=ke,j=me;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var J=B[0],j=B.pop();if(j!==J){B[0]=j;e:for(var me=0,ke=B.length,ht=ke>>>1;me<ht;){var Be=2*(me+1)-1,b=B[Be],qe=Be+1,Xt=B[qe];if(0>i(b,j))qe<ke&&0>i(Xt,b)?(B[me]=Xt,B[qe]=j,me=qe):(B[me]=b,B[Be]=j,me=Be);else if(qe<ke&&0>i(Xt,j))B[me]=Xt,B[qe]=j,me=qe;else break e}}return J}function i(B,J){var j=B.sortIndex-J.sortIndex;return j!==0?j:B.id-J.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],u=[],d=1,f=null,g=3,v=!1,E=!1,I=!1,A=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(B){for(var J=n(u);J!==null;){if(J.callback===null)r(u);else if(J.startTime<=B)r(u),J.sortIndex=J.expirationTime,e(l,J);else break;J=n(u)}}function P(B){if(I=!1,_(B),!E)if(n(l)!==null)E=!0,wt(D);else{var J=n(u);J!==null&&Se(P,J.startTime-B)}}function D(B,J){E=!1,I&&(I=!1,y(M),M=-1),v=!0;var j=g;try{for(_(J),f=n(l);f!==null&&(!(f.expirationTime>J)||B&&!ce());){var me=f.callback;if(typeof me=="function"){f.callback=null,g=f.priorityLevel;var ke=me(f.expirationTime<=J);J=t.unstable_now(),typeof ke=="function"?f.callback=ke:f===n(l)&&r(l),_(J)}else r(l);f=n(l)}if(f!==null)var ht=!0;else{var Be=n(u);Be!==null&&Se(P,Be.startTime-J),ht=!1}return ht}finally{f=null,g=j,v=!1}}var S=!1,N=null,M=-1,z=5,K=-1;function ce(){return!(t.unstable_now()-K<z)}function Ne(){if(N!==null){var B=t.unstable_now();K=B;var J=!0;try{J=N(!0,B)}finally{J?ve():(S=!1,N=null)}}else S=!1}var ve;if(typeof w=="function")ve=function(){w(Ne)};else if(typeof MessageChannel<"u"){var dt=new MessageChannel,hn=dt.port2;dt.port1.onmessage=Ne,ve=function(){hn.postMessage(null)}}else ve=function(){A(Ne,0)};function wt(B){N=B,S||(S=!0,ve())}function Se(B,J){M=A(function(){B(t.unstable_now())},J)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_continueExecution=function(){E||v||(E=!0,wt(D))},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(B){switch(g){case 1:case 2:case 3:var J=3;break;default:J=g}var j=g;g=J;try{return B()}finally{g=j}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(B,J){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var j=g;g=B;try{return J()}finally{g=j}},t.unstable_scheduleCallback=function(B,J,j){var me=t.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?me+j:me):j=me,B){case 1:var ke=-1;break;case 2:ke=250;break;case 5:ke=1073741823;break;case 4:ke=1e4;break;default:ke=5e3}return ke=j+ke,B={id:d++,callback:J,priorityLevel:B,startTime:j,expirationTime:ke,sortIndex:-1},j>me?(B.sortIndex=j,e(u,B),n(l)===null&&B===n(u)&&(I?(y(M),M=-1):I=!0,Se(P,j-me))):(B.sortIndex=ke,e(l,B),E||v||(E=!0,wt(D))),B},t.unstable_shouldYield=ce,t.unstable_wrapCallback=function(B){var J=g;return function(){var j=g;g=J;try{return B.apply(this,arguments)}finally{g=j}}}})(l1);a1.exports=l1;var gb=a1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u1=T,_n=gb;function U(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var c1=new Set,Rl={};function jo(t,e){Hs(t,e),Hs(t+"Capture",e)}function Hs(t,e){for(Rl[t]=e,t=0;t<e.length;t++)c1.add(e[t])}var Br=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_p=Object.prototype.hasOwnProperty,vb=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Vw={},Fw={};function yb(t){return _p.call(Fw,t)?!0:_p.call(Vw,t)?!1:vb.test(t)?Fw[t]=!0:(Vw[t]=!0,!1)}function wb(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function _b(t,e,n,r){if(e===null||typeof e>"u"||wb(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function rn(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var Ut={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ut[t]=new rn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ut[e]=new rn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ut[t]=new rn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ut[t]=new rn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ut[t]=new rn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ut[t]=new rn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ut[t]=new rn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ut[t]=new rn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ut[t]=new rn(t,5,!1,t.toLowerCase(),null,!1,!1)});var mg=/[\-:]([a-z])/g;function gg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(mg,gg);Ut[e]=new rn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(mg,gg);Ut[e]=new rn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(mg,gg);Ut[e]=new rn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ut[t]=new rn(t,1,!1,t.toLowerCase(),null,!1,!1)});Ut.xlinkHref=new rn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ut[t]=new rn(t,1,!1,t.toLowerCase(),null,!0,!0)});function vg(t,e,n,r){var i=Ut.hasOwnProperty(e)?Ut[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(_b(e,n,i,r)&&(n=null),r||i===null?yb(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Yr=u1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Xu=Symbol.for("react.element"),gs=Symbol.for("react.portal"),vs=Symbol.for("react.fragment"),yg=Symbol.for("react.strict_mode"),Ep=Symbol.for("react.profiler"),d1=Symbol.for("react.provider"),h1=Symbol.for("react.context"),wg=Symbol.for("react.forward_ref"),Tp=Symbol.for("react.suspense"),Ip=Symbol.for("react.suspense_list"),_g=Symbol.for("react.memo"),hi=Symbol.for("react.lazy"),f1=Symbol.for("react.offscreen"),Uw=Symbol.iterator;function ba(t){return t===null||typeof t!="object"?null:(t=Uw&&t[Uw]||t["@@iterator"],typeof t=="function"?t:null)}var Ye=Object.assign,pf;function Qa(t){if(pf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);pf=e&&e[1]||""}return`
`+pf+t}var mf=!1;function gf(t,e){if(!t||mf)return"";mf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{mf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Qa(t):""}function Eb(t){switch(t.tag){case 5:return Qa(t.type);case 16:return Qa("Lazy");case 13:return Qa("Suspense");case 19:return Qa("SuspenseList");case 0:case 2:case 15:return t=gf(t.type,!1),t;case 11:return t=gf(t.type.render,!1),t;case 1:return t=gf(t.type,!0),t;default:return""}}function Sp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case vs:return"Fragment";case gs:return"Portal";case Ep:return"Profiler";case yg:return"StrictMode";case Tp:return"Suspense";case Ip:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case h1:return(t.displayName||"Context")+".Consumer";case d1:return(t._context.displayName||"Context")+".Provider";case wg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case _g:return e=t.displayName||null,e!==null?e:Sp(t.type)||"Memo";case hi:e=t._payload,t=t._init;try{return Sp(t(e))}catch{}}return null}function Tb(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Sp(e);case 8:return e===yg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ui(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function p1(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Ib(t){var e=p1(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ju(t){t._valueTracker||(t._valueTracker=Ib(t))}function m1(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=p1(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Gc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Cp(t,e){var n=e.checked;return Ye({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Bw(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ui(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function g1(t,e){e=e.checked,e!=null&&vg(t,"checked",e,!1)}function Rp(t,e){g1(t,e);var n=Ui(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ap(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ap(t,e.type,Ui(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function jw(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Ap(t,e,n){(e!=="number"||Gc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ya=Array.isArray;function Ns(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ui(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Pp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(U(91));return Ye({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function $w(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(U(92));if(Ya(n)){if(1<n.length)throw Error(U(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ui(n)}}function v1(t,e){var n=Ui(e.value),r=Ui(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function zw(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function y1(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function kp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?y1(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Zu,w1=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Zu=Zu||document.createElement("div"),Zu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Zu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Al(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var al={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Sb=["Webkit","ms","Moz","O"];Object.keys(al).forEach(function(t){Sb.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),al[e]=al[t]})});function _1(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||al.hasOwnProperty(t)&&al[t]?(""+e).trim():e+"px"}function E1(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=_1(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var Cb=Ye({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function bp(t,e){if(e){if(Cb[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(U(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(U(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(U(61))}if(e.style!=null&&typeof e.style!="object")throw Error(U(62))}}function xp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Np=null;function Eg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Dp=null,Ds=null,Os=null;function Hw(t){if(t=vu(t)){if(typeof Dp!="function")throw Error(U(280));var e=t.stateNode;e&&(e=Yd(e),Dp(t.stateNode,t.type,e))}}function T1(t){Ds?Os?Os.push(t):Os=[t]:Ds=t}function I1(){if(Ds){var t=Ds,e=Os;if(Os=Ds=null,Hw(t),e)for(t=0;t<e.length;t++)Hw(e[t])}}function S1(t,e){return t(e)}function C1(){}var vf=!1;function R1(t,e,n){if(vf)return t(e,n);vf=!0;try{return S1(t,e,n)}finally{vf=!1,(Ds!==null||Os!==null)&&(C1(),I1())}}function Pl(t,e){var n=t.stateNode;if(n===null)return null;var r=Yd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(U(231,e,typeof n));return n}var Op=!1;if(Br)try{var xa={};Object.defineProperty(xa,"passive",{get:function(){Op=!0}}),window.addEventListener("test",xa,xa),window.removeEventListener("test",xa,xa)}catch{Op=!1}function Rb(t,e,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var ll=!1,Qc=null,Yc=!1,Lp=null,Ab={onError:function(t){ll=!0,Qc=t}};function Pb(t,e,n,r,i,o,s,a,l){ll=!1,Qc=null,Rb.apply(Ab,arguments)}function kb(t,e,n,r,i,o,s,a,l){if(Pb.apply(this,arguments),ll){if(ll){var u=Qc;ll=!1,Qc=null}else throw Error(U(198));Yc||(Yc=!0,Lp=u)}}function $o(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function A1(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Ww(t){if($o(t)!==t)throw Error(U(188))}function bb(t){var e=t.alternate;if(!e){if(e=$o(t),e===null)throw Error(U(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ww(i),t;if(o===r)return Ww(i),e;o=o.sibling}throw Error(U(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(U(189))}}if(n.alternate!==r)throw Error(U(190))}if(n.tag!==3)throw Error(U(188));return n.stateNode.current===n?t:e}function P1(t){return t=bb(t),t!==null?k1(t):null}function k1(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=k1(t);if(e!==null)return e;t=t.sibling}return null}var b1=_n.unstable_scheduleCallback,qw=_n.unstable_cancelCallback,xb=_n.unstable_shouldYield,Nb=_n.unstable_requestPaint,ct=_n.unstable_now,Db=_n.unstable_getCurrentPriorityLevel,Tg=_n.unstable_ImmediatePriority,x1=_n.unstable_UserBlockingPriority,Xc=_n.unstable_NormalPriority,Ob=_n.unstable_LowPriority,N1=_n.unstable_IdlePriority,qd=null,dr=null;function Lb(t){if(dr&&typeof dr.onCommitFiberRoot=="function")try{dr.onCommitFiberRoot(qd,t,void 0,(t.current.flags&128)===128)}catch{}}var qn=Math.clz32?Math.clz32:Fb,Mb=Math.log,Vb=Math.LN2;function Fb(t){return t>>>=0,t===0?32:31-(Mb(t)/Vb|0)|0}var ec=64,tc=4194304;function Xa(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Jc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=Xa(a):(o&=s,o!==0&&(r=Xa(o)))}else s=n&~i,s!==0?r=Xa(s):o!==0&&(r=Xa(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-qn(e),i=1<<n,r|=t[n],e&=~i;return r}function Ub(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bb(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-qn(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=Ub(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function Mp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function D1(){var t=ec;return ec<<=1,!(ec&4194240)&&(ec=64),t}function yf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function mu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-qn(e),t[e]=n}function jb(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-qn(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function Ig(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-qn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Oe=0;function O1(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var L1,Sg,M1,V1,F1,Vp=!1,nc=[],Ri=null,Ai=null,Pi=null,kl=new Map,bl=new Map,mi=[],$b="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Kw(t,e){switch(t){case"focusin":case"focusout":Ri=null;break;case"dragenter":case"dragleave":Ai=null;break;case"mouseover":case"mouseout":Pi=null;break;case"pointerover":case"pointerout":kl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":bl.delete(e.pointerId)}}function Na(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=vu(e),e!==null&&Sg(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function zb(t,e,n,r,i){switch(e){case"focusin":return Ri=Na(Ri,t,e,n,r,i),!0;case"dragenter":return Ai=Na(Ai,t,e,n,r,i),!0;case"mouseover":return Pi=Na(Pi,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return kl.set(o,Na(kl.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,bl.set(o,Na(bl.get(o)||null,t,e,n,r,i)),!0}return!1}function U1(t){var e=ho(t.target);if(e!==null){var n=$o(e);if(n!==null){if(e=n.tag,e===13){if(e=A1(n),e!==null){t.blockedOn=e,F1(t.priority,function(){M1(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function bc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Fp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Np=r,n.target.dispatchEvent(r),Np=null}else return e=vu(n),e!==null&&Sg(e),t.blockedOn=n,!1;e.shift()}return!0}function Gw(t,e,n){bc(t)&&n.delete(e)}function Hb(){Vp=!1,Ri!==null&&bc(Ri)&&(Ri=null),Ai!==null&&bc(Ai)&&(Ai=null),Pi!==null&&bc(Pi)&&(Pi=null),kl.forEach(Gw),bl.forEach(Gw)}function Da(t,e){t.blockedOn===e&&(t.blockedOn=null,Vp||(Vp=!0,_n.unstable_scheduleCallback(_n.unstable_NormalPriority,Hb)))}function xl(t){function e(i){return Da(i,t)}if(0<nc.length){Da(nc[0],t);for(var n=1;n<nc.length;n++){var r=nc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ri!==null&&Da(Ri,t),Ai!==null&&Da(Ai,t),Pi!==null&&Da(Pi,t),kl.forEach(e),bl.forEach(e),n=0;n<mi.length;n++)r=mi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<mi.length&&(n=mi[0],n.blockedOn===null);)U1(n),n.blockedOn===null&&mi.shift()}var Ls=Yr.ReactCurrentBatchConfig,Zc=!0;function Wb(t,e,n,r){var i=Oe,o=Ls.transition;Ls.transition=null;try{Oe=1,Cg(t,e,n,r)}finally{Oe=i,Ls.transition=o}}function qb(t,e,n,r){var i=Oe,o=Ls.transition;Ls.transition=null;try{Oe=4,Cg(t,e,n,r)}finally{Oe=i,Ls.transition=o}}function Cg(t,e,n,r){if(Zc){var i=Fp(t,e,n,r);if(i===null)Pf(t,e,r,ed,n),Kw(t,r);else if(zb(i,t,e,n,r))r.stopPropagation();else if(Kw(t,r),e&4&&-1<$b.indexOf(t)){for(;i!==null;){var o=vu(i);if(o!==null&&L1(o),o=Fp(t,e,n,r),o===null&&Pf(t,e,r,ed,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Pf(t,e,r,null,n)}}var ed=null;function Fp(t,e,n,r){if(ed=null,t=Eg(r),t=ho(t),t!==null)if(e=$o(t),e===null)t=null;else if(n=e.tag,n===13){if(t=A1(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ed=t,null}function B1(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Db()){case Tg:return 1;case x1:return 4;case Xc:case Ob:return 16;case N1:return 536870912;default:return 16}default:return 16}}var Ti=null,Rg=null,xc=null;function j1(){if(xc)return xc;var t,e=Rg,n=e.length,r,i="value"in Ti?Ti.value:Ti.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return xc=i.slice(t,1<r?1-r:void 0)}function Nc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function rc(){return!0}function Qw(){return!1}function In(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?rc:Qw,this.isPropagationStopped=Qw,this}return Ye(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=rc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=rc)},persist:function(){},isPersistent:rc}),e}var fa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ag=In(fa),gu=Ye({},fa,{view:0,detail:0}),Kb=In(gu),wf,_f,Oa,Kd=Ye({},gu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Oa&&(Oa&&t.type==="mousemove"?(wf=t.screenX-Oa.screenX,_f=t.screenY-Oa.screenY):_f=wf=0,Oa=t),wf)},movementY:function(t){return"movementY"in t?t.movementY:_f}}),Yw=In(Kd),Gb=Ye({},Kd,{dataTransfer:0}),Qb=In(Gb),Yb=Ye({},gu,{relatedTarget:0}),Ef=In(Yb),Xb=Ye({},fa,{animationName:0,elapsedTime:0,pseudoElement:0}),Jb=In(Xb),Zb=Ye({},fa,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ex=In(Zb),tx=Ye({},fa,{data:0}),Xw=In(tx),nx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ix={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ox(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=ix[t])?!!e[t]:!1}function Pg(){return ox}var sx=Ye({},gu,{key:function(t){if(t.key){var e=nx[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Nc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?rx[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pg,charCode:function(t){return t.type==="keypress"?Nc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Nc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ax=In(sx),lx=Ye({},Kd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jw=In(lx),ux=Ye({},gu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pg}),cx=In(ux),dx=Ye({},fa,{propertyName:0,elapsedTime:0,pseudoElement:0}),hx=In(dx),fx=Ye({},Kd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),px=In(fx),mx=[9,13,27,32],kg=Br&&"CompositionEvent"in window,ul=null;Br&&"documentMode"in document&&(ul=document.documentMode);var gx=Br&&"TextEvent"in window&&!ul,$1=Br&&(!kg||ul&&8<ul&&11>=ul),Zw=" ",e0=!1;function z1(t,e){switch(t){case"keyup":return mx.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function H1(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ys=!1;function vx(t,e){switch(t){case"compositionend":return H1(e);case"keypress":return e.which!==32?null:(e0=!0,Zw);case"textInput":return t=e.data,t===Zw&&e0?null:t;default:return null}}function yx(t,e){if(ys)return t==="compositionend"||!kg&&z1(t,e)?(t=j1(),xc=Rg=Ti=null,ys=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return $1&&e.locale!=="ko"?null:e.data;default:return null}}var wx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function t0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!wx[t.type]:e==="textarea"}function W1(t,e,n,r){T1(r),e=td(e,"onChange"),0<e.length&&(n=new Ag("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var cl=null,Nl=null;function _x(t){nT(t,0)}function Gd(t){var e=Es(t);if(m1(e))return t}function Ex(t,e){if(t==="change")return e}var q1=!1;if(Br){var Tf;if(Br){var If="oninput"in document;if(!If){var n0=document.createElement("div");n0.setAttribute("oninput","return;"),If=typeof n0.oninput=="function"}Tf=If}else Tf=!1;q1=Tf&&(!document.documentMode||9<document.documentMode)}function r0(){cl&&(cl.detachEvent("onpropertychange",K1),Nl=cl=null)}function K1(t){if(t.propertyName==="value"&&Gd(Nl)){var e=[];W1(e,Nl,t,Eg(t)),R1(_x,e)}}function Tx(t,e,n){t==="focusin"?(r0(),cl=e,Nl=n,cl.attachEvent("onpropertychange",K1)):t==="focusout"&&r0()}function Ix(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Gd(Nl)}function Sx(t,e){if(t==="click")return Gd(e)}function Cx(t,e){if(t==="input"||t==="change")return Gd(e)}function Rx(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Qn=typeof Object.is=="function"?Object.is:Rx;function Dl(t,e){if(Qn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!_p.call(e,i)||!Qn(t[i],e[i]))return!1}return!0}function i0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function o0(t,e){var n=i0(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=i0(n)}}function G1(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?G1(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Q1(){for(var t=window,e=Gc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Gc(t.document)}return e}function bg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Ax(t){var e=Q1(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&G1(n.ownerDocument.documentElement,n)){if(r!==null&&bg(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=o0(n,o);var s=o0(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Px=Br&&"documentMode"in document&&11>=document.documentMode,ws=null,Up=null,dl=null,Bp=!1;function s0(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Bp||ws==null||ws!==Gc(r)||(r=ws,"selectionStart"in r&&bg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),dl&&Dl(dl,r)||(dl=r,r=td(Up,"onSelect"),0<r.length&&(e=new Ag("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ws)))}function ic(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var _s={animationend:ic("Animation","AnimationEnd"),animationiteration:ic("Animation","AnimationIteration"),animationstart:ic("Animation","AnimationStart"),transitionend:ic("Transition","TransitionEnd")},Sf={},Y1={};Br&&(Y1=document.createElement("div").style,"AnimationEvent"in window||(delete _s.animationend.animation,delete _s.animationiteration.animation,delete _s.animationstart.animation),"TransitionEvent"in window||delete _s.transitionend.transition);function Qd(t){if(Sf[t])return Sf[t];if(!_s[t])return t;var e=_s[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Y1)return Sf[t]=e[n];return t}var X1=Qd("animationend"),J1=Qd("animationiteration"),Z1=Qd("animationstart"),eT=Qd("transitionend"),tT=new Map,a0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function qi(t,e){tT.set(t,e),jo(e,[t])}for(var Cf=0;Cf<a0.length;Cf++){var Rf=a0[Cf],kx=Rf.toLowerCase(),bx=Rf[0].toUpperCase()+Rf.slice(1);qi(kx,"on"+bx)}qi(X1,"onAnimationEnd");qi(J1,"onAnimationIteration");qi(Z1,"onAnimationStart");qi("dblclick","onDoubleClick");qi("focusin","onFocus");qi("focusout","onBlur");qi(eT,"onTransitionEnd");Hs("onMouseEnter",["mouseout","mouseover"]);Hs("onMouseLeave",["mouseout","mouseover"]);Hs("onPointerEnter",["pointerout","pointerover"]);Hs("onPointerLeave",["pointerout","pointerover"]);jo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));jo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));jo("onBeforeInput",["compositionend","keypress","textInput","paste"]);jo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));jo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));jo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ja="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xx=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ja));function l0(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,kb(r,e,void 0,t),t.currentTarget=null}function nT(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;l0(i,a,u),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;l0(i,a,u),o=l}}}if(Yc)throw t=Lp,Yc=!1,Lp=null,t}function je(t,e){var n=e[Wp];n===void 0&&(n=e[Wp]=new Set);var r=t+"__bubble";n.has(r)||(rT(e,t,2,!1),n.add(r))}function Af(t,e,n){var r=0;e&&(r|=4),rT(n,t,r,e)}var oc="_reactListening"+Math.random().toString(36).slice(2);function Ol(t){if(!t[oc]){t[oc]=!0,c1.forEach(function(n){n!=="selectionchange"&&(xx.has(n)||Af(n,!1,t),Af(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[oc]||(e[oc]=!0,Af("selectionchange",!1,e))}}function rT(t,e,n,r){switch(B1(e)){case 1:var i=Wb;break;case 4:i=qb;break;default:i=Cg}n=i.bind(null,e,n,t),i=void 0,!Op||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Pf(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=ho(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}R1(function(){var u=o,d=Eg(n),f=[];e:{var g=tT.get(t);if(g!==void 0){var v=Ag,E=t;switch(t){case"keypress":if(Nc(n)===0)break e;case"keydown":case"keyup":v=ax;break;case"focusin":E="focus",v=Ef;break;case"focusout":E="blur",v=Ef;break;case"beforeblur":case"afterblur":v=Ef;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Yw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=Qb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=cx;break;case X1:case J1:case Z1:v=Jb;break;case eT:v=hx;break;case"scroll":v=Kb;break;case"wheel":v=px;break;case"copy":case"cut":case"paste":v=ex;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Jw}var I=(e&4)!==0,A=!I&&t==="scroll",y=I?g!==null?g+"Capture":null:g;I=[];for(var w=u,_;w!==null;){_=w;var P=_.stateNode;if(_.tag===5&&P!==null&&(_=P,y!==null&&(P=Pl(w,y),P!=null&&I.push(Ll(w,P,_)))),A)break;w=w.return}0<I.length&&(g=new v(g,E,null,n,d),f.push({event:g,listeners:I}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",g&&n!==Np&&(E=n.relatedTarget||n.fromElement)&&(ho(E)||E[jr]))break e;if((v||g)&&(g=d.window===d?d:(g=d.ownerDocument)?g.defaultView||g.parentWindow:window,v?(E=n.relatedTarget||n.toElement,v=u,E=E?ho(E):null,E!==null&&(A=$o(E),E!==A||E.tag!==5&&E.tag!==6)&&(E=null)):(v=null,E=u),v!==E)){if(I=Yw,P="onMouseLeave",y="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(I=Jw,P="onPointerLeave",y="onPointerEnter",w="pointer"),A=v==null?g:Es(v),_=E==null?g:Es(E),g=new I(P,w+"leave",v,n,d),g.target=A,g.relatedTarget=_,P=null,ho(d)===u&&(I=new I(y,w+"enter",E,n,d),I.target=_,I.relatedTarget=A,P=I),A=P,v&&E)t:{for(I=v,y=E,w=0,_=I;_;_=ls(_))w++;for(_=0,P=y;P;P=ls(P))_++;for(;0<w-_;)I=ls(I),w--;for(;0<_-w;)y=ls(y),_--;for(;w--;){if(I===y||y!==null&&I===y.alternate)break t;I=ls(I),y=ls(y)}I=null}else I=null;v!==null&&u0(f,g,v,I,!1),E!==null&&A!==null&&u0(f,A,E,I,!0)}}e:{if(g=u?Es(u):window,v=g.nodeName&&g.nodeName.toLowerCase(),v==="select"||v==="input"&&g.type==="file")var D=Ex;else if(t0(g))if(q1)D=Cx;else{D=Ix;var S=Tx}else(v=g.nodeName)&&v.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(D=Sx);if(D&&(D=D(t,u))){W1(f,D,n,d);break e}S&&S(t,g,u),t==="focusout"&&(S=g._wrapperState)&&S.controlled&&g.type==="number"&&Ap(g,"number",g.value)}switch(S=u?Es(u):window,t){case"focusin":(t0(S)||S.contentEditable==="true")&&(ws=S,Up=u,dl=null);break;case"focusout":dl=Up=ws=null;break;case"mousedown":Bp=!0;break;case"contextmenu":case"mouseup":case"dragend":Bp=!1,s0(f,n,d);break;case"selectionchange":if(Px)break;case"keydown":case"keyup":s0(f,n,d)}var N;if(kg)e:{switch(t){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else ys?z1(t,n)&&(M="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(M="onCompositionStart");M&&($1&&n.locale!=="ko"&&(ys||M!=="onCompositionStart"?M==="onCompositionEnd"&&ys&&(N=j1()):(Ti=d,Rg="value"in Ti?Ti.value:Ti.textContent,ys=!0)),S=td(u,M),0<S.length&&(M=new Xw(M,t,null,n,d),f.push({event:M,listeners:S}),N?M.data=N:(N=H1(n),N!==null&&(M.data=N)))),(N=gx?vx(t,n):yx(t,n))&&(u=td(u,"onBeforeInput"),0<u.length&&(d=new Xw("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=N))}nT(f,e)})}function Ll(t,e,n){return{instance:t,listener:e,currentTarget:n}}function td(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Pl(t,n),o!=null&&r.unshift(Ll(t,o,i)),o=Pl(t,e),o!=null&&r.push(Ll(t,o,i))),t=t.return}return r}function ls(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function u0(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Pl(n,o),l!=null&&s.unshift(Ll(n,l,a))):i||(l=Pl(n,o),l!=null&&s.push(Ll(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var Nx=/\r\n?/g,Dx=/\u0000|\uFFFD/g;function c0(t){return(typeof t=="string"?t:""+t).replace(Nx,`
`).replace(Dx,"")}function sc(t,e,n){if(e=c0(e),c0(t)!==e&&n)throw Error(U(425))}function nd(){}var jp=null,$p=null;function zp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Hp=typeof setTimeout=="function"?setTimeout:void 0,Ox=typeof clearTimeout=="function"?clearTimeout:void 0,d0=typeof Promise=="function"?Promise:void 0,Lx=typeof queueMicrotask=="function"?queueMicrotask:typeof d0<"u"?function(t){return d0.resolve(null).then(t).catch(Mx)}:Hp;function Mx(t){setTimeout(function(){throw t})}function kf(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),xl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);xl(e)}function ki(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function h0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var pa=Math.random().toString(36).slice(2),or="__reactFiber$"+pa,Ml="__reactProps$"+pa,jr="__reactContainer$"+pa,Wp="__reactEvents$"+pa,Vx="__reactListeners$"+pa,Fx="__reactHandles$"+pa;function ho(t){var e=t[or];if(e)return e;for(var n=t.parentNode;n;){if(e=n[jr]||n[or]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=h0(t);t!==null;){if(n=t[or])return n;t=h0(t)}return e}t=n,n=t.parentNode}return null}function vu(t){return t=t[or]||t[jr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Es(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(U(33))}function Yd(t){return t[Ml]||null}var qp=[],Ts=-1;function Ki(t){return{current:t}}function ze(t){0>Ts||(t.current=qp[Ts],qp[Ts]=null,Ts--)}function Fe(t,e){Ts++,qp[Ts]=t.current,t.current=e}var Bi={},Qt=Ki(Bi),ln=Ki(!1),Ao=Bi;function Ws(t,e){var n=t.type.contextTypes;if(!n)return Bi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function un(t){return t=t.childContextTypes,t!=null}function rd(){ze(ln),ze(Qt)}function f0(t,e,n){if(Qt.current!==Bi)throw Error(U(168));Fe(Qt,e),Fe(ln,n)}function iT(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(U(108,Tb(t)||"Unknown",i));return Ye({},n,r)}function id(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Bi,Ao=Qt.current,Fe(Qt,t),Fe(ln,ln.current),!0}function p0(t,e,n){var r=t.stateNode;if(!r)throw Error(U(169));n?(t=iT(t,e,Ao),r.__reactInternalMemoizedMergedChildContext=t,ze(ln),ze(Qt),Fe(Qt,t)):ze(ln),Fe(ln,n)}var Pr=null,Xd=!1,bf=!1;function oT(t){Pr===null?Pr=[t]:Pr.push(t)}function Ux(t){Xd=!0,oT(t)}function Gi(){if(!bf&&Pr!==null){bf=!0;var t=0,e=Oe;try{var n=Pr;for(Oe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Pr=null,Xd=!1}catch(i){throw Pr!==null&&(Pr=Pr.slice(t+1)),b1(Tg,Gi),i}finally{Oe=e,bf=!1}}return null}var Is=[],Ss=0,od=null,sd=0,An=[],Pn=0,Po=null,br=1,xr="";function ao(t,e){Is[Ss++]=sd,Is[Ss++]=od,od=t,sd=e}function sT(t,e,n){An[Pn++]=br,An[Pn++]=xr,An[Pn++]=Po,Po=t;var r=br;t=xr;var i=32-qn(r)-1;r&=~(1<<i),n+=1;var o=32-qn(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,br=1<<32-qn(e)+i|n<<i|r,xr=o+t}else br=1<<o|n<<i|r,xr=t}function xg(t){t.return!==null&&(ao(t,1),sT(t,1,0))}function Ng(t){for(;t===od;)od=Is[--Ss],Is[Ss]=null,sd=Is[--Ss],Is[Ss]=null;for(;t===Po;)Po=An[--Pn],An[Pn]=null,xr=An[--Pn],An[Pn]=null,br=An[--Pn],An[Pn]=null}var wn=null,gn=null,He=!1,zn=null;function aT(t,e){var n=Nn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function m0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,wn=t,gn=ki(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,wn=t,gn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Po!==null?{id:br,overflow:xr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Nn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,wn=t,gn=null,!0):!1;default:return!1}}function Kp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Gp(t){if(He){var e=gn;if(e){var n=e;if(!m0(t,e)){if(Kp(t))throw Error(U(418));e=ki(n.nextSibling);var r=wn;e&&m0(t,e)?aT(r,n):(t.flags=t.flags&-4097|2,He=!1,wn=t)}}else{if(Kp(t))throw Error(U(418));t.flags=t.flags&-4097|2,He=!1,wn=t}}}function g0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;wn=t}function ac(t){if(t!==wn)return!1;if(!He)return g0(t),He=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!zp(t.type,t.memoizedProps)),e&&(e=gn)){if(Kp(t))throw lT(),Error(U(418));for(;e;)aT(t,e),e=ki(e.nextSibling)}if(g0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(U(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){gn=ki(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}gn=null}}else gn=wn?ki(t.stateNode.nextSibling):null;return!0}function lT(){for(var t=gn;t;)t=ki(t.nextSibling)}function qs(){gn=wn=null,He=!1}function Dg(t){zn===null?zn=[t]:zn.push(t)}var Bx=Yr.ReactCurrentBatchConfig;function Bn(t,e){if(t&&t.defaultProps){e=Ye({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var ad=Ki(null),ld=null,Cs=null,Og=null;function Lg(){Og=Cs=ld=null}function Mg(t){var e=ad.current;ze(ad),t._currentValue=e}function Qp(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ms(t,e){ld=t,Og=Cs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(an=!0),t.firstContext=null)}function On(t){var e=t._currentValue;if(Og!==t)if(t={context:t,memoizedValue:e,next:null},Cs===null){if(ld===null)throw Error(U(308));Cs=t,ld.dependencies={lanes:0,firstContext:t}}else Cs=Cs.next=t;return e}var fo=null;function Vg(t){fo===null?fo=[t]:fo.push(t)}function uT(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Vg(e)):(n.next=i.next,i.next=n),e.interleaved=n,$r(t,r)}function $r(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var fi=!1;function Fg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function cT(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Lr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function bi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Pe&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,$r(t,n)}return i=r.interleaved,i===null?(e.next=e,Vg(r)):(e.next=i.next,i.next=e),r.interleaved=e,$r(t,n)}function Dc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ig(t,n)}}function v0(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ud(t,e,n,r){var i=t.updateQueue;fi=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==s&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;s=0,d=u=l=null,a=o;do{var g=a.lane,v=a.eventTime;if((r&g)===g){d!==null&&(d=d.next={eventTime:v,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var E=t,I=a;switch(g=e,v=n,I.tag){case 1:if(E=I.payload,typeof E=="function"){f=E.call(v,f,g);break e}f=E;break e;case 3:E.flags=E.flags&-65537|128;case 0:if(E=I.payload,g=typeof E=="function"?E.call(v,f,g):E,g==null)break e;f=Ye({},f,g);break e;case 2:fi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,g=i.effects,g===null?i.effects=[a]:g.push(a))}else v={eventTime:v,lane:g,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=v,l=f):d=d.next=v,s|=g;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;g=a,a=g.next,g.next=null,i.lastBaseUpdate=g,i.shared.pending=null}}while(!0);if(d===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);bo|=s,t.lanes=s,t.memoizedState=f}}function y0(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(U(191,i));i.call(r)}}}var dT=new u1.Component().refs;function Yp(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ye({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Jd={isMounted:function(t){return(t=t._reactInternals)?$o(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=tn(),i=Ni(t),o=Lr(r,i);o.payload=e,n!=null&&(o.callback=n),e=bi(t,o,i),e!==null&&(Kn(e,t,i,r),Dc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=tn(),i=Ni(t),o=Lr(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=bi(t,o,i),e!==null&&(Kn(e,t,i,r),Dc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=tn(),r=Ni(t),i=Lr(n,r);i.tag=2,e!=null&&(i.callback=e),e=bi(t,i,r),e!==null&&(Kn(e,t,r,n),Dc(e,t,r))}};function w0(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!Dl(n,r)||!Dl(i,o):!0}function hT(t,e,n){var r=!1,i=Bi,o=e.contextType;return typeof o=="object"&&o!==null?o=On(o):(i=un(e)?Ao:Qt.current,r=e.contextTypes,o=(r=r!=null)?Ws(t,i):Bi),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Jd,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function _0(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Jd.enqueueReplaceState(e,e.state,null)}function Xp(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=dT,Fg(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=On(o):(o=un(e)?Ao:Qt.current,i.context=Ws(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Yp(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Jd.enqueueReplaceState(i,i.state,null),ud(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function La(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(U(309));var r=n.stateNode}if(!r)throw Error(U(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;a===dT&&(a=i.refs={}),s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(U(284));if(!n._owner)throw Error(U(290,t))}return t}function lc(t,e){throw t=Object.prototype.toString.call(e),Error(U(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function E0(t){var e=t._init;return e(t._payload)}function fT(t){function e(y,w){if(t){var _=y.deletions;_===null?(y.deletions=[w],y.flags|=16):_.push(w)}}function n(y,w){if(!t)return null;for(;w!==null;)e(y,w),w=w.sibling;return null}function r(y,w){for(y=new Map;w!==null;)w.key!==null?y.set(w.key,w):y.set(w.index,w),w=w.sibling;return y}function i(y,w){return y=Di(y,w),y.index=0,y.sibling=null,y}function o(y,w,_){return y.index=_,t?(_=y.alternate,_!==null?(_=_.index,_<w?(y.flags|=2,w):_):(y.flags|=2,w)):(y.flags|=1048576,w)}function s(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,w,_,P){return w===null||w.tag!==6?(w=Vf(_,y.mode,P),w.return=y,w):(w=i(w,_),w.return=y,w)}function l(y,w,_,P){var D=_.type;return D===vs?d(y,w,_.props.children,P,_.key):w!==null&&(w.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===hi&&E0(D)===w.type)?(P=i(w,_.props),P.ref=La(y,w,_),P.return=y,P):(P=Uc(_.type,_.key,_.props,null,y.mode,P),P.ref=La(y,w,_),P.return=y,P)}function u(y,w,_,P){return w===null||w.tag!==4||w.stateNode.containerInfo!==_.containerInfo||w.stateNode.implementation!==_.implementation?(w=Ff(_,y.mode,P),w.return=y,w):(w=i(w,_.children||[]),w.return=y,w)}function d(y,w,_,P,D){return w===null||w.tag!==7?(w=Io(_,y.mode,P,D),w.return=y,w):(w=i(w,_),w.return=y,w)}function f(y,w,_){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Vf(""+w,y.mode,_),w.return=y,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Xu:return _=Uc(w.type,w.key,w.props,null,y.mode,_),_.ref=La(y,null,w),_.return=y,_;case gs:return w=Ff(w,y.mode,_),w.return=y,w;case hi:var P=w._init;return f(y,P(w._payload),_)}if(Ya(w)||ba(w))return w=Io(w,y.mode,_,null),w.return=y,w;lc(y,w)}return null}function g(y,w,_,P){var D=w!==null?w.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return D!==null?null:a(y,w,""+_,P);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Xu:return _.key===D?l(y,w,_,P):null;case gs:return _.key===D?u(y,w,_,P):null;case hi:return D=_._init,g(y,w,D(_._payload),P)}if(Ya(_)||ba(_))return D!==null?null:d(y,w,_,P,null);lc(y,_)}return null}function v(y,w,_,P,D){if(typeof P=="string"&&P!==""||typeof P=="number")return y=y.get(_)||null,a(w,y,""+P,D);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Xu:return y=y.get(P.key===null?_:P.key)||null,l(w,y,P,D);case gs:return y=y.get(P.key===null?_:P.key)||null,u(w,y,P,D);case hi:var S=P._init;return v(y,w,_,S(P._payload),D)}if(Ya(P)||ba(P))return y=y.get(_)||null,d(w,y,P,D,null);lc(w,P)}return null}function E(y,w,_,P){for(var D=null,S=null,N=w,M=w=0,z=null;N!==null&&M<_.length;M++){N.index>M?(z=N,N=null):z=N.sibling;var K=g(y,N,_[M],P);if(K===null){N===null&&(N=z);break}t&&N&&K.alternate===null&&e(y,N),w=o(K,w,M),S===null?D=K:S.sibling=K,S=K,N=z}if(M===_.length)return n(y,N),He&&ao(y,M),D;if(N===null){for(;M<_.length;M++)N=f(y,_[M],P),N!==null&&(w=o(N,w,M),S===null?D=N:S.sibling=N,S=N);return He&&ao(y,M),D}for(N=r(y,N);M<_.length;M++)z=v(N,y,M,_[M],P),z!==null&&(t&&z.alternate!==null&&N.delete(z.key===null?M:z.key),w=o(z,w,M),S===null?D=z:S.sibling=z,S=z);return t&&N.forEach(function(ce){return e(y,ce)}),He&&ao(y,M),D}function I(y,w,_,P){var D=ba(_);if(typeof D!="function")throw Error(U(150));if(_=D.call(_),_==null)throw Error(U(151));for(var S=D=null,N=w,M=w=0,z=null,K=_.next();N!==null&&!K.done;M++,K=_.next()){N.index>M?(z=N,N=null):z=N.sibling;var ce=g(y,N,K.value,P);if(ce===null){N===null&&(N=z);break}t&&N&&ce.alternate===null&&e(y,N),w=o(ce,w,M),S===null?D=ce:S.sibling=ce,S=ce,N=z}if(K.done)return n(y,N),He&&ao(y,M),D;if(N===null){for(;!K.done;M++,K=_.next())K=f(y,K.value,P),K!==null&&(w=o(K,w,M),S===null?D=K:S.sibling=K,S=K);return He&&ao(y,M),D}for(N=r(y,N);!K.done;M++,K=_.next())K=v(N,y,M,K.value,P),K!==null&&(t&&K.alternate!==null&&N.delete(K.key===null?M:K.key),w=o(K,w,M),S===null?D=K:S.sibling=K,S=K);return t&&N.forEach(function(Ne){return e(y,Ne)}),He&&ao(y,M),D}function A(y,w,_,P){if(typeof _=="object"&&_!==null&&_.type===vs&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Xu:e:{for(var D=_.key,S=w;S!==null;){if(S.key===D){if(D=_.type,D===vs){if(S.tag===7){n(y,S.sibling),w=i(S,_.props.children),w.return=y,y=w;break e}}else if(S.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===hi&&E0(D)===S.type){n(y,S.sibling),w=i(S,_.props),w.ref=La(y,S,_),w.return=y,y=w;break e}n(y,S);break}else e(y,S);S=S.sibling}_.type===vs?(w=Io(_.props.children,y.mode,P,_.key),w.return=y,y=w):(P=Uc(_.type,_.key,_.props,null,y.mode,P),P.ref=La(y,w,_),P.return=y,y=P)}return s(y);case gs:e:{for(S=_.key;w!==null;){if(w.key===S)if(w.tag===4&&w.stateNode.containerInfo===_.containerInfo&&w.stateNode.implementation===_.implementation){n(y,w.sibling),w=i(w,_.children||[]),w.return=y,y=w;break e}else{n(y,w);break}else e(y,w);w=w.sibling}w=Ff(_,y.mode,P),w.return=y,y=w}return s(y);case hi:return S=_._init,A(y,w,S(_._payload),P)}if(Ya(_))return E(y,w,_,P);if(ba(_))return I(y,w,_,P);lc(y,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,w!==null&&w.tag===6?(n(y,w.sibling),w=i(w,_),w.return=y,y=w):(n(y,w),w=Vf(_,y.mode,P),w.return=y,y=w),s(y)):n(y,w)}return A}var Ks=fT(!0),pT=fT(!1),yu={},hr=Ki(yu),Vl=Ki(yu),Fl=Ki(yu);function po(t){if(t===yu)throw Error(U(174));return t}function Ug(t,e){switch(Fe(Fl,e),Fe(Vl,t),Fe(hr,yu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:kp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=kp(e,t)}ze(hr),Fe(hr,e)}function Gs(){ze(hr),ze(Vl),ze(Fl)}function mT(t){po(Fl.current);var e=po(hr.current),n=kp(e,t.type);e!==n&&(Fe(Vl,t),Fe(hr,n))}function Bg(t){Vl.current===t&&(ze(hr),ze(Vl))}var Ge=Ki(0);function cd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var xf=[];function jg(){for(var t=0;t<xf.length;t++)xf[t]._workInProgressVersionPrimary=null;xf.length=0}var Oc=Yr.ReactCurrentDispatcher,Nf=Yr.ReactCurrentBatchConfig,ko=0,Qe=null,Et=null,Ct=null,dd=!1,hl=!1,Ul=0,jx=0;function jt(){throw Error(U(321))}function $g(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Qn(t[n],e[n]))return!1;return!0}function zg(t,e,n,r,i,o){if(ko=o,Qe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Oc.current=t===null||t.memoizedState===null?Wx:qx,t=n(r,i),hl){o=0;do{if(hl=!1,Ul=0,25<=o)throw Error(U(301));o+=1,Ct=Et=null,e.updateQueue=null,Oc.current=Kx,t=n(r,i)}while(hl)}if(Oc.current=hd,e=Et!==null&&Et.next!==null,ko=0,Ct=Et=Qe=null,dd=!1,e)throw Error(U(300));return t}function Hg(){var t=Ul!==0;return Ul=0,t}function ir(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?Qe.memoizedState=Ct=t:Ct=Ct.next=t,Ct}function Ln(){if(Et===null){var t=Qe.alternate;t=t!==null?t.memoizedState:null}else t=Et.next;var e=Ct===null?Qe.memoizedState:Ct.next;if(e!==null)Ct=e,Et=t;else{if(t===null)throw Error(U(310));Et=t,t={memoizedState:Et.memoizedState,baseState:Et.baseState,baseQueue:Et.baseQueue,queue:Et.queue,next:null},Ct===null?Qe.memoizedState=Ct=t:Ct=Ct.next=t}return Ct}function Bl(t,e){return typeof e=="function"?e(t):e}function Df(t){var e=Ln(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var r=Et,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,u=o;do{var d=u.lane;if((ko&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,s=r):l=l.next=f,Qe.lanes|=d,bo|=d}u=u.next}while(u!==null&&u!==o);l===null?s=r:l.next=a,Qn(r,e.memoizedState)||(an=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,Qe.lanes|=o,bo|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Of(t){var e=Ln(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);Qn(o,e.memoizedState)||(an=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function gT(){}function vT(t,e){var n=Qe,r=Ln(),i=e(),o=!Qn(r.memoizedState,i);if(o&&(r.memoizedState=i,an=!0),r=r.queue,Wg(_T.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Ct!==null&&Ct.memoizedState.tag&1){if(n.flags|=2048,jl(9,wT.bind(null,n,r,i,e),void 0,null),Rt===null)throw Error(U(349));ko&30||yT(n,e,i)}return i}function yT(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Qe.updateQueue,e===null?(e={lastEffect:null,stores:null},Qe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function wT(t,e,n,r){e.value=n,e.getSnapshot=r,ET(e)&&TT(t)}function _T(t,e,n){return n(function(){ET(e)&&TT(t)})}function ET(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Qn(t,n)}catch{return!0}}function TT(t){var e=$r(t,1);e!==null&&Kn(e,t,1,-1)}function T0(t){var e=ir();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Bl,lastRenderedState:t},e.queue=t,t=t.dispatch=Hx.bind(null,Qe,t),[e.memoizedState,t]}function jl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Qe.updateQueue,e===null?(e={lastEffect:null,stores:null},Qe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function IT(){return Ln().memoizedState}function Lc(t,e,n,r){var i=ir();Qe.flags|=t,i.memoizedState=jl(1|e,n,void 0,r===void 0?null:r)}function Zd(t,e,n,r){var i=Ln();r=r===void 0?null:r;var o=void 0;if(Et!==null){var s=Et.memoizedState;if(o=s.destroy,r!==null&&$g(r,s.deps)){i.memoizedState=jl(e,n,o,r);return}}Qe.flags|=t,i.memoizedState=jl(1|e,n,o,r)}function I0(t,e){return Lc(8390656,8,t,e)}function Wg(t,e){return Zd(2048,8,t,e)}function ST(t,e){return Zd(4,2,t,e)}function CT(t,e){return Zd(4,4,t,e)}function RT(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function AT(t,e,n){return n=n!=null?n.concat([t]):null,Zd(4,4,RT.bind(null,e,t),n)}function qg(){}function PT(t,e){var n=Ln();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&$g(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function kT(t,e){var n=Ln();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&$g(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function bT(t,e,n){return ko&21?(Qn(n,e)||(n=D1(),Qe.lanes|=n,bo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,an=!0),t.memoizedState=n)}function $x(t,e){var n=Oe;Oe=n!==0&&4>n?n:4,t(!0);var r=Nf.transition;Nf.transition={};try{t(!1),e()}finally{Oe=n,Nf.transition=r}}function xT(){return Ln().memoizedState}function zx(t,e,n){var r=Ni(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},NT(t))DT(e,n);else if(n=uT(t,e,n,r),n!==null){var i=tn();Kn(n,t,r,i),OT(n,e,r)}}function Hx(t,e,n){var r=Ni(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(NT(t))DT(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,Qn(a,s)){var l=e.interleaved;l===null?(i.next=i,Vg(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=uT(t,e,i,r),n!==null&&(i=tn(),Kn(n,t,r,i),OT(n,e,r))}}function NT(t){var e=t.alternate;return t===Qe||e!==null&&e===Qe}function DT(t,e){hl=dd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function OT(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ig(t,n)}}var hd={readContext:On,useCallback:jt,useContext:jt,useEffect:jt,useImperativeHandle:jt,useInsertionEffect:jt,useLayoutEffect:jt,useMemo:jt,useReducer:jt,useRef:jt,useState:jt,useDebugValue:jt,useDeferredValue:jt,useTransition:jt,useMutableSource:jt,useSyncExternalStore:jt,useId:jt,unstable_isNewReconciler:!1},Wx={readContext:On,useCallback:function(t,e){return ir().memoizedState=[t,e===void 0?null:e],t},useContext:On,useEffect:I0,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Lc(4194308,4,RT.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Lc(4194308,4,t,e)},useInsertionEffect:function(t,e){return Lc(4,2,t,e)},useMemo:function(t,e){var n=ir();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ir();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=zx.bind(null,Qe,t),[r.memoizedState,t]},useRef:function(t){var e=ir();return t={current:t},e.memoizedState=t},useState:T0,useDebugValue:qg,useDeferredValue:function(t){return ir().memoizedState=t},useTransition:function(){var t=T0(!1),e=t[0];return t=$x.bind(null,t[1]),ir().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Qe,i=ir();if(He){if(n===void 0)throw Error(U(407));n=n()}else{if(n=e(),Rt===null)throw Error(U(349));ko&30||yT(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,I0(_T.bind(null,r,o,t),[t]),r.flags|=2048,jl(9,wT.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=ir(),e=Rt.identifierPrefix;if(He){var n=xr,r=br;n=(r&~(1<<32-qn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ul++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=jx++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},qx={readContext:On,useCallback:PT,useContext:On,useEffect:Wg,useImperativeHandle:AT,useInsertionEffect:ST,useLayoutEffect:CT,useMemo:kT,useReducer:Df,useRef:IT,useState:function(){return Df(Bl)},useDebugValue:qg,useDeferredValue:function(t){var e=Ln();return bT(e,Et.memoizedState,t)},useTransition:function(){var t=Df(Bl)[0],e=Ln().memoizedState;return[t,e]},useMutableSource:gT,useSyncExternalStore:vT,useId:xT,unstable_isNewReconciler:!1},Kx={readContext:On,useCallback:PT,useContext:On,useEffect:Wg,useImperativeHandle:AT,useInsertionEffect:ST,useLayoutEffect:CT,useMemo:kT,useReducer:Of,useRef:IT,useState:function(){return Of(Bl)},useDebugValue:qg,useDeferredValue:function(t){var e=Ln();return Et===null?e.memoizedState=t:bT(e,Et.memoizedState,t)},useTransition:function(){var t=Of(Bl)[0],e=Ln().memoizedState;return[t,e]},useMutableSource:gT,useSyncExternalStore:vT,useId:xT,unstable_isNewReconciler:!1};function Qs(t,e){try{var n="",r=e;do n+=Eb(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Lf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Jp(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Gx=typeof WeakMap=="function"?WeakMap:Map;function LT(t,e,n){n=Lr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){pd||(pd=!0,lm=r),Jp(t,e)},n}function MT(t,e,n){n=Lr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Jp(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Jp(t,e),typeof r!="function"&&(xi===null?xi=new Set([this]):xi.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function S0(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Gx;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=lN.bind(null,t,e,n),e.then(t,t))}function C0(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function R0(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Lr(-1,1),e.tag=2,bi(n,e,1))),n.lanes|=1),t)}var Qx=Yr.ReactCurrentOwner,an=!1;function Zt(t,e,n,r){e.child=t===null?pT(e,null,n,r):Ks(e,t.child,n,r)}function A0(t,e,n,r,i){n=n.render;var o=e.ref;return Ms(e,i),r=zg(t,e,n,r,o,i),n=Hg(),t!==null&&!an?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,zr(t,e,i)):(He&&n&&xg(e),e.flags|=1,Zt(t,e,r,i),e.child)}function P0(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!ev(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,VT(t,e,o,r,i)):(t=Uc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Dl,n(s,r)&&t.ref===e.ref)return zr(t,e,i)}return e.flags|=1,t=Di(o,r),t.ref=e.ref,t.return=e,e.child=t}function VT(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Dl(o,r)&&t.ref===e.ref)if(an=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(an=!0);else return e.lanes=t.lanes,zr(t,e,i)}return Zp(t,e,n,r,i)}function FT(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Fe(As,mn),mn|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Fe(As,mn),mn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Fe(As,mn),mn|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Fe(As,mn),mn|=r;return Zt(t,e,i,n),e.child}function UT(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Zp(t,e,n,r,i){var o=un(n)?Ao:Qt.current;return o=Ws(e,o),Ms(e,i),n=zg(t,e,n,r,o,i),r=Hg(),t!==null&&!an?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,zr(t,e,i)):(He&&r&&xg(e),e.flags|=1,Zt(t,e,n,i),e.child)}function k0(t,e,n,r,i){if(un(n)){var o=!0;id(e)}else o=!1;if(Ms(e,i),e.stateNode===null)Mc(t,e),hT(e,n,r),Xp(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=On(u):(u=un(n)?Ao:Qt.current,u=Ws(e,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==u)&&_0(e,s,r,u),fi=!1;var g=e.memoizedState;s.state=g,ud(e,r,s,i),l=e.memoizedState,a!==r||g!==l||ln.current||fi?(typeof d=="function"&&(Yp(e,n,d,r),l=e.memoizedState),(a=fi||w0(e,n,a,r,g,l,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,cT(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Bn(e.type,a),s.props=u,f=e.pendingProps,g=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=On(l):(l=un(n)?Ao:Qt.current,l=Ws(e,l));var v=n.getDerivedStateFromProps;(d=typeof v=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==f||g!==l)&&_0(e,s,r,l),fi=!1,g=e.memoizedState,s.state=g,ud(e,r,s,i);var E=e.memoizedState;a!==f||g!==E||ln.current||fi?(typeof v=="function"&&(Yp(e,n,v,r),E=e.memoizedState),(u=fi||w0(e,n,u,r,g,E,l)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,E,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,E,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=E),s.props=r,s.state=E,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),r=!1)}return em(t,e,n,r,o,i)}function em(t,e,n,r,i,o){UT(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&p0(e,n,!1),zr(t,e,o);r=e.stateNode,Qx.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=Ks(e,t.child,null,o),e.child=Ks(e,null,a,o)):Zt(t,e,a,o),e.memoizedState=r.state,i&&p0(e,n,!0),e.child}function BT(t){var e=t.stateNode;e.pendingContext?f0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&f0(t,e.context,!1),Ug(t,e.containerInfo)}function b0(t,e,n,r,i){return qs(),Dg(i),e.flags|=256,Zt(t,e,n,r),e.child}var tm={dehydrated:null,treeContext:null,retryLane:0};function nm(t){return{baseLanes:t,cachePool:null,transitions:null}}function jT(t,e,n){var r=e.pendingProps,i=Ge.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Fe(Ge,i&1),t===null)return Gp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=nh(s,r,0,null),t=Io(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=nm(n),e.memoizedState=tm,t):Kg(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return Yx(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Di(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Di(a,o):(o=Io(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?nm(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=tm,r}return o=t.child,t=o.sibling,r=Di(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Kg(t,e){return e=nh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function uc(t,e,n,r){return r!==null&&Dg(r),Ks(e,t.child,null,n),t=Kg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Yx(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=Lf(Error(U(422))),uc(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=nh({mode:"visible",children:r.children},i,0,null),o=Io(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Ks(e,t.child,null,s),e.child.memoizedState=nm(s),e.memoizedState=tm,o);if(!(e.mode&1))return uc(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(U(419)),r=Lf(o,r,void 0),uc(t,e,s,r)}if(a=(s&t.childLanes)!==0,an||a){if(r=Rt,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,$r(t,i),Kn(r,t,i,-1))}return Zg(),r=Lf(Error(U(421))),uc(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=uN.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,gn=ki(i.nextSibling),wn=e,He=!0,zn=null,t!==null&&(An[Pn++]=br,An[Pn++]=xr,An[Pn++]=Po,br=t.id,xr=t.overflow,Po=e),e=Kg(e,r.children),e.flags|=4096,e)}function x0(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Qp(t.return,e,n)}function Mf(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function $T(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Zt(t,e,r.children,n),r=Ge.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&x0(t,n,e);else if(t.tag===19)x0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Fe(Ge,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&cd(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Mf(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&cd(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Mf(e,!0,n,null,o);break;case"together":Mf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Mc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function zr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),bo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(U(153));if(e.child!==null){for(t=e.child,n=Di(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Di(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Xx(t,e,n){switch(e.tag){case 3:BT(e),qs();break;case 5:mT(e);break;case 1:un(e.type)&&id(e);break;case 4:Ug(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Fe(ad,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Fe(Ge,Ge.current&1),e.flags|=128,null):n&e.child.childLanes?jT(t,e,n):(Fe(Ge,Ge.current&1),t=zr(t,e,n),t!==null?t.sibling:null);Fe(Ge,Ge.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return $T(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Fe(Ge,Ge.current),r)break;return null;case 22:case 23:return e.lanes=0,FT(t,e,n)}return zr(t,e,n)}var zT,rm,HT,WT;zT=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};rm=function(){};HT=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,po(hr.current);var o=null;switch(n){case"input":i=Cp(t,i),r=Cp(t,r),o=[];break;case"select":i=Ye({},i,{value:void 0}),r=Ye({},r,{value:void 0}),o=[];break;case"textarea":i=Pp(t,i),r=Pp(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=nd)}bp(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Rl.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Rl.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&je("scroll",t),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};WT=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ma(t,e){if(!He)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function $t(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Jx(t,e,n){var r=e.pendingProps;switch(Ng(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $t(e),null;case 1:return un(e.type)&&rd(),$t(e),null;case 3:return r=e.stateNode,Gs(),ze(ln),ze(Qt),jg(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ac(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,zn!==null&&(dm(zn),zn=null))),rm(t,e),$t(e),null;case 5:Bg(e);var i=po(Fl.current);if(n=e.type,t!==null&&e.stateNode!=null)HT(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(U(166));return $t(e),null}if(t=po(hr.current),ac(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[or]=e,r[Ml]=o,t=(e.mode&1)!==0,n){case"dialog":je("cancel",r),je("close",r);break;case"iframe":case"object":case"embed":je("load",r);break;case"video":case"audio":for(i=0;i<Ja.length;i++)je(Ja[i],r);break;case"source":je("error",r);break;case"img":case"image":case"link":je("error",r),je("load",r);break;case"details":je("toggle",r);break;case"input":Bw(r,o),je("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},je("invalid",r);break;case"textarea":$w(r,o),je("invalid",r)}bp(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&sc(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&sc(r.textContent,a,t),i=["children",""+a]):Rl.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&je("scroll",r)}switch(n){case"input":Ju(r),jw(r,o,!0);break;case"textarea":Ju(r),zw(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=nd)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=y1(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[or]=e,t[Ml]=r,zT(t,e,!1,!1),e.stateNode=t;e:{switch(s=xp(n,r),n){case"dialog":je("cancel",t),je("close",t),i=r;break;case"iframe":case"object":case"embed":je("load",t),i=r;break;case"video":case"audio":for(i=0;i<Ja.length;i++)je(Ja[i],t);i=r;break;case"source":je("error",t),i=r;break;case"img":case"image":case"link":je("error",t),je("load",t),i=r;break;case"details":je("toggle",t),i=r;break;case"input":Bw(t,r),i=Cp(t,r),je("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ye({},r,{value:void 0}),je("invalid",t);break;case"textarea":$w(t,r),i=Pp(t,r),je("invalid",t);break;default:i=r}bp(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?E1(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&w1(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Al(t,l):typeof l=="number"&&Al(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Rl.hasOwnProperty(o)?l!=null&&o==="onScroll"&&je("scroll",t):l!=null&&vg(t,o,l,s))}switch(n){case"input":Ju(t),jw(t,r,!1);break;case"textarea":Ju(t),zw(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ui(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Ns(t,!!r.multiple,o,!1):r.defaultValue!=null&&Ns(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=nd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return $t(e),null;case 6:if(t&&e.stateNode!=null)WT(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(U(166));if(n=po(Fl.current),po(hr.current),ac(e)){if(r=e.stateNode,n=e.memoizedProps,r[or]=e,(o=r.nodeValue!==n)&&(t=wn,t!==null))switch(t.tag){case 3:sc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&sc(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[or]=e,e.stateNode=r}return $t(e),null;case 13:if(ze(Ge),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(He&&gn!==null&&e.mode&1&&!(e.flags&128))lT(),qs(),e.flags|=98560,o=!1;else if(o=ac(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(U(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(U(317));o[or]=e}else qs(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;$t(e),o=!1}else zn!==null&&(dm(zn),zn=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ge.current&1?It===0&&(It=3):Zg())),e.updateQueue!==null&&(e.flags|=4),$t(e),null);case 4:return Gs(),rm(t,e),t===null&&Ol(e.stateNode.containerInfo),$t(e),null;case 10:return Mg(e.type._context),$t(e),null;case 17:return un(e.type)&&rd(),$t(e),null;case 19:if(ze(Ge),o=e.memoizedState,o===null)return $t(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)Ma(o,!1);else{if(It!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=cd(t),s!==null){for(e.flags|=128,Ma(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Fe(Ge,Ge.current&1|2),e.child}t=t.sibling}o.tail!==null&&ct()>Ys&&(e.flags|=128,r=!0,Ma(o,!1),e.lanes=4194304)}else{if(!r)if(t=cd(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ma(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!He)return $t(e),null}else 2*ct()-o.renderingStartTime>Ys&&n!==1073741824&&(e.flags|=128,r=!0,Ma(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=ct(),e.sibling=null,n=Ge.current,Fe(Ge,r?n&1|2:n&1),e):($t(e),null);case 22:case 23:return Jg(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?mn&1073741824&&($t(e),e.subtreeFlags&6&&(e.flags|=8192)):$t(e),null;case 24:return null;case 25:return null}throw Error(U(156,e.tag))}function Zx(t,e){switch(Ng(e),e.tag){case 1:return un(e.type)&&rd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Gs(),ze(ln),ze(Qt),jg(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Bg(e),null;case 13:if(ze(Ge),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(U(340));qs()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ze(Ge),null;case 4:return Gs(),null;case 10:return Mg(e.type._context),null;case 22:case 23:return Jg(),null;case 24:return null;default:return null}}var cc=!1,Wt=!1,eN=typeof WeakSet=="function"?WeakSet:Set,Y=null;function Rs(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){et(t,e,r)}else n.current=null}function im(t,e,n){try{n()}catch(r){et(t,e,r)}}var N0=!1;function tN(t,e){if(jp=Zc,t=Q1(),bg(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,d=0,f=t,g=null;t:for(;;){for(var v;f!==n||i!==0&&f.nodeType!==3||(a=s+i),f!==o||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(v=f.firstChild)!==null;)g=f,f=v;for(;;){if(f===t)break t;if(g===n&&++u===i&&(a=s),g===o&&++d===r&&(l=s),(v=f.nextSibling)!==null)break;f=g,g=f.parentNode}f=v}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for($p={focusedElem:t,selectionRange:n},Zc=!1,Y=e;Y!==null;)if(e=Y,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Y=t;else for(;Y!==null;){e=Y;try{var E=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var I=E.memoizedProps,A=E.memoizedState,y=e.stateNode,w=y.getSnapshotBeforeUpdate(e.elementType===e.type?I:Bn(e.type,I),A);y.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(P){et(e,e.return,P)}if(t=e.sibling,t!==null){t.return=e.return,Y=t;break}Y=e.return}return E=N0,N0=!1,E}function fl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&im(e,n,o)}i=i.next}while(i!==r)}}function eh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function om(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function qT(t){var e=t.alternate;e!==null&&(t.alternate=null,qT(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[or],delete e[Ml],delete e[Wp],delete e[Vx],delete e[Fx])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function KT(t){return t.tag===5||t.tag===3||t.tag===4}function D0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||KT(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function sm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=nd));else if(r!==4&&(t=t.child,t!==null))for(sm(t,e,n),t=t.sibling;t!==null;)sm(t,e,n),t=t.sibling}function am(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(am(t,e,n),t=t.sibling;t!==null;)am(t,e,n),t=t.sibling}var Nt=null,jn=!1;function ui(t,e,n){for(n=n.child;n!==null;)GT(t,e,n),n=n.sibling}function GT(t,e,n){if(dr&&typeof dr.onCommitFiberUnmount=="function")try{dr.onCommitFiberUnmount(qd,n)}catch{}switch(n.tag){case 5:Wt||Rs(n,e);case 6:var r=Nt,i=jn;Nt=null,ui(t,e,n),Nt=r,jn=i,Nt!==null&&(jn?(t=Nt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Nt.removeChild(n.stateNode));break;case 18:Nt!==null&&(jn?(t=Nt,n=n.stateNode,t.nodeType===8?kf(t.parentNode,n):t.nodeType===1&&kf(t,n),xl(t)):kf(Nt,n.stateNode));break;case 4:r=Nt,i=jn,Nt=n.stateNode.containerInfo,jn=!0,ui(t,e,n),Nt=r,jn=i;break;case 0:case 11:case 14:case 15:if(!Wt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&im(n,e,s),i=i.next}while(i!==r)}ui(t,e,n);break;case 1:if(!Wt&&(Rs(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){et(n,e,a)}ui(t,e,n);break;case 21:ui(t,e,n);break;case 22:n.mode&1?(Wt=(r=Wt)||n.memoizedState!==null,ui(t,e,n),Wt=r):ui(t,e,n);break;default:ui(t,e,n)}}function O0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new eN),e.forEach(function(r){var i=cN.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Un(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:Nt=a.stateNode,jn=!1;break e;case 3:Nt=a.stateNode.containerInfo,jn=!0;break e;case 4:Nt=a.stateNode.containerInfo,jn=!0;break e}a=a.return}if(Nt===null)throw Error(U(160));GT(o,s,i),Nt=null,jn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){et(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)QT(e,t),e=e.sibling}function QT(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Un(e,t),rr(t),r&4){try{fl(3,t,t.return),eh(3,t)}catch(I){et(t,t.return,I)}try{fl(5,t,t.return)}catch(I){et(t,t.return,I)}}break;case 1:Un(e,t),rr(t),r&512&&n!==null&&Rs(n,n.return);break;case 5:if(Un(e,t),rr(t),r&512&&n!==null&&Rs(n,n.return),t.flags&32){var i=t.stateNode;try{Al(i,"")}catch(I){et(t,t.return,I)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&g1(i,o),xp(a,s);var u=xp(a,o);for(s=0;s<l.length;s+=2){var d=l[s],f=l[s+1];d==="style"?E1(i,f):d==="dangerouslySetInnerHTML"?w1(i,f):d==="children"?Al(i,f):vg(i,d,f,u)}switch(a){case"input":Rp(i,o);break;case"textarea":v1(i,o);break;case"select":var g=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var v=o.value;v!=null?Ns(i,!!o.multiple,v,!1):g!==!!o.multiple&&(o.defaultValue!=null?Ns(i,!!o.multiple,o.defaultValue,!0):Ns(i,!!o.multiple,o.multiple?[]:"",!1))}i[Ml]=o}catch(I){et(t,t.return,I)}}break;case 6:if(Un(e,t),rr(t),r&4){if(t.stateNode===null)throw Error(U(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(I){et(t,t.return,I)}}break;case 3:if(Un(e,t),rr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{xl(e.containerInfo)}catch(I){et(t,t.return,I)}break;case 4:Un(e,t),rr(t);break;case 13:Un(e,t),rr(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Yg=ct())),r&4&&O0(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Wt=(u=Wt)||d,Un(e,t),Wt=u):Un(e,t),rr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(Y=t,d=t.child;d!==null;){for(f=Y=d;Y!==null;){switch(g=Y,v=g.child,g.tag){case 0:case 11:case 14:case 15:fl(4,g,g.return);break;case 1:Rs(g,g.return);var E=g.stateNode;if(typeof E.componentWillUnmount=="function"){r=g,n=g.return;try{e=r,E.props=e.memoizedProps,E.state=e.memoizedState,E.componentWillUnmount()}catch(I){et(r,n,I)}}break;case 5:Rs(g,g.return);break;case 22:if(g.memoizedState!==null){M0(f);continue}}v!==null?(v.return=g,Y=v):M0(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=_1("display",s))}catch(I){et(t,t.return,I)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(I){et(t,t.return,I)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Un(e,t),rr(t),r&4&&O0(t);break;case 21:break;default:Un(e,t),rr(t)}}function rr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(KT(n)){var r=n;break e}n=n.return}throw Error(U(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Al(i,""),r.flags&=-33);var o=D0(t);am(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=D0(t);sm(t,a,s);break;default:throw Error(U(161))}}catch(l){et(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function nN(t,e,n){Y=t,YT(t)}function YT(t,e,n){for(var r=(t.mode&1)!==0;Y!==null;){var i=Y,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||cc;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Wt;a=cc;var u=Wt;if(cc=s,(Wt=l)&&!u)for(Y=i;Y!==null;)s=Y,l=s.child,s.tag===22&&s.memoizedState!==null?V0(i):l!==null?(l.return=s,Y=l):V0(i);for(;o!==null;)Y=o,YT(o),o=o.sibling;Y=i,cc=a,Wt=u}L0(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Y=o):L0(t)}}function L0(t){for(;Y!==null;){var e=Y;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Wt||eh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Wt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Bn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&y0(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}y0(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&xl(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}Wt||e.flags&512&&om(e)}catch(g){et(e,e.return,g)}}if(e===t){Y=null;break}if(n=e.sibling,n!==null){n.return=e.return,Y=n;break}Y=e.return}}function M0(t){for(;Y!==null;){var e=Y;if(e===t){Y=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Y=n;break}Y=e.return}}function V0(t){for(;Y!==null;){var e=Y;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{eh(4,e)}catch(l){et(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){et(e,i,l)}}var o=e.return;try{om(e)}catch(l){et(e,o,l)}break;case 5:var s=e.return;try{om(e)}catch(l){et(e,s,l)}}}catch(l){et(e,e.return,l)}if(e===t){Y=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Y=a;break}Y=e.return}}var rN=Math.ceil,fd=Yr.ReactCurrentDispatcher,Gg=Yr.ReactCurrentOwner,Dn=Yr.ReactCurrentBatchConfig,Pe=0,Rt=null,gt=null,Mt=0,mn=0,As=Ki(0),It=0,$l=null,bo=0,th=0,Qg=0,pl=null,on=null,Yg=0,Ys=1/0,Ar=null,pd=!1,lm=null,xi=null,dc=!1,Ii=null,md=0,ml=0,um=null,Vc=-1,Fc=0;function tn(){return Pe&6?ct():Vc!==-1?Vc:Vc=ct()}function Ni(t){return t.mode&1?Pe&2&&Mt!==0?Mt&-Mt:Bx.transition!==null?(Fc===0&&(Fc=D1()),Fc):(t=Oe,t!==0||(t=window.event,t=t===void 0?16:B1(t.type)),t):1}function Kn(t,e,n,r){if(50<ml)throw ml=0,um=null,Error(U(185));mu(t,n,r),(!(Pe&2)||t!==Rt)&&(t===Rt&&(!(Pe&2)&&(th|=n),It===4&&gi(t,Mt)),cn(t,r),n===1&&Pe===0&&!(e.mode&1)&&(Ys=ct()+500,Xd&&Gi()))}function cn(t,e){var n=t.callbackNode;Bb(t,e);var r=Jc(t,t===Rt?Mt:0);if(r===0)n!==null&&qw(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&qw(n),e===1)t.tag===0?Ux(F0.bind(null,t)):oT(F0.bind(null,t)),Lx(function(){!(Pe&6)&&Gi()}),n=null;else{switch(O1(r)){case 1:n=Tg;break;case 4:n=x1;break;case 16:n=Xc;break;case 536870912:n=N1;break;default:n=Xc}n=iI(n,XT.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function XT(t,e){if(Vc=-1,Fc=0,Pe&6)throw Error(U(327));var n=t.callbackNode;if(Vs()&&t.callbackNode!==n)return null;var r=Jc(t,t===Rt?Mt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=gd(t,r);else{e=r;var i=Pe;Pe|=2;var o=ZT();(Rt!==t||Mt!==e)&&(Ar=null,Ys=ct()+500,To(t,e));do try{sN();break}catch(a){JT(t,a)}while(!0);Lg(),fd.current=o,Pe=i,gt!==null?e=0:(Rt=null,Mt=0,e=It)}if(e!==0){if(e===2&&(i=Mp(t),i!==0&&(r=i,e=cm(t,i))),e===1)throw n=$l,To(t,0),gi(t,r),cn(t,ct()),n;if(e===6)gi(t,r);else{if(i=t.current.alternate,!(r&30)&&!iN(i)&&(e=gd(t,r),e===2&&(o=Mp(t),o!==0&&(r=o,e=cm(t,o))),e===1))throw n=$l,To(t,0),gi(t,r),cn(t,ct()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(U(345));case 2:lo(t,on,Ar);break;case 3:if(gi(t,r),(r&130023424)===r&&(e=Yg+500-ct(),10<e)){if(Jc(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){tn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Hp(lo.bind(null,t,on,Ar),e);break}lo(t,on,Ar);break;case 4:if(gi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-qn(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=ct()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*rN(r/1960))-r,10<r){t.timeoutHandle=Hp(lo.bind(null,t,on,Ar),r);break}lo(t,on,Ar);break;case 5:lo(t,on,Ar);break;default:throw Error(U(329))}}}return cn(t,ct()),t.callbackNode===n?XT.bind(null,t):null}function cm(t,e){var n=pl;return t.current.memoizedState.isDehydrated&&(To(t,e).flags|=256),t=gd(t,e),t!==2&&(e=on,on=n,e!==null&&dm(e)),t}function dm(t){on===null?on=t:on.push.apply(on,t)}function iN(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Qn(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function gi(t,e){for(e&=~Qg,e&=~th,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-qn(e),r=1<<n;t[n]=-1,e&=~r}}function F0(t){if(Pe&6)throw Error(U(327));Vs();var e=Jc(t,0);if(!(e&1))return cn(t,ct()),null;var n=gd(t,e);if(t.tag!==0&&n===2){var r=Mp(t);r!==0&&(e=r,n=cm(t,r))}if(n===1)throw n=$l,To(t,0),gi(t,e),cn(t,ct()),n;if(n===6)throw Error(U(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,lo(t,on,Ar),cn(t,ct()),null}function Xg(t,e){var n=Pe;Pe|=1;try{return t(e)}finally{Pe=n,Pe===0&&(Ys=ct()+500,Xd&&Gi())}}function xo(t){Ii!==null&&Ii.tag===0&&!(Pe&6)&&Vs();var e=Pe;Pe|=1;var n=Dn.transition,r=Oe;try{if(Dn.transition=null,Oe=1,t)return t()}finally{Oe=r,Dn.transition=n,Pe=e,!(Pe&6)&&Gi()}}function Jg(){mn=As.current,ze(As)}function To(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Ox(n)),gt!==null)for(n=gt.return;n!==null;){var r=n;switch(Ng(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&rd();break;case 3:Gs(),ze(ln),ze(Qt),jg();break;case 5:Bg(r);break;case 4:Gs();break;case 13:ze(Ge);break;case 19:ze(Ge);break;case 10:Mg(r.type._context);break;case 22:case 23:Jg()}n=n.return}if(Rt=t,gt=t=Di(t.current,null),Mt=mn=e,It=0,$l=null,Qg=th=bo=0,on=pl=null,fo!==null){for(e=0;e<fo.length;e++)if(n=fo[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}fo=null}return t}function JT(t,e){do{var n=gt;try{if(Lg(),Oc.current=hd,dd){for(var r=Qe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}dd=!1}if(ko=0,Ct=Et=Qe=null,hl=!1,Ul=0,Gg.current=null,n===null||n.return===null){It=1,$l=e,gt=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=Mt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var g=d.alternate;g?(d.updateQueue=g.updateQueue,d.memoizedState=g.memoizedState,d.lanes=g.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=C0(s);if(v!==null){v.flags&=-257,R0(v,s,a,o,e),v.mode&1&&S0(o,u,e),e=v,l=u;var E=e.updateQueue;if(E===null){var I=new Set;I.add(l),e.updateQueue=I}else E.add(l);break e}else{if(!(e&1)){S0(o,u,e),Zg();break e}l=Error(U(426))}}else if(He&&a.mode&1){var A=C0(s);if(A!==null){!(A.flags&65536)&&(A.flags|=256),R0(A,s,a,o,e),Dg(Qs(l,a));break e}}o=l=Qs(l,a),It!==4&&(It=2),pl===null?pl=[o]:pl.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var y=LT(o,l,e);v0(o,y);break e;case 1:a=l;var w=o.type,_=o.stateNode;if(!(o.flags&128)&&(typeof w.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(xi===null||!xi.has(_)))){o.flags|=65536,e&=-e,o.lanes|=e;var P=MT(o,a,e);v0(o,P);break e}}o=o.return}while(o!==null)}tI(n)}catch(D){e=D,gt===n&&n!==null&&(gt=n=n.return);continue}break}while(!0)}function ZT(){var t=fd.current;return fd.current=hd,t===null?hd:t}function Zg(){(It===0||It===3||It===2)&&(It=4),Rt===null||!(bo&268435455)&&!(th&268435455)||gi(Rt,Mt)}function gd(t,e){var n=Pe;Pe|=2;var r=ZT();(Rt!==t||Mt!==e)&&(Ar=null,To(t,e));do try{oN();break}catch(i){JT(t,i)}while(!0);if(Lg(),Pe=n,fd.current=r,gt!==null)throw Error(U(261));return Rt=null,Mt=0,It}function oN(){for(;gt!==null;)eI(gt)}function sN(){for(;gt!==null&&!xb();)eI(gt)}function eI(t){var e=rI(t.alternate,t,mn);t.memoizedProps=t.pendingProps,e===null?tI(t):gt=e,Gg.current=null}function tI(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Zx(n,e),n!==null){n.flags&=32767,gt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{It=6,gt=null;return}}else if(n=Jx(n,e,mn),n!==null){gt=n;return}if(e=e.sibling,e!==null){gt=e;return}gt=e=t}while(e!==null);It===0&&(It=5)}function lo(t,e,n){var r=Oe,i=Dn.transition;try{Dn.transition=null,Oe=1,aN(t,e,n,r)}finally{Dn.transition=i,Oe=r}return null}function aN(t,e,n,r){do Vs();while(Ii!==null);if(Pe&6)throw Error(U(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(U(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(jb(t,o),t===Rt&&(gt=Rt=null,Mt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||dc||(dc=!0,iI(Xc,function(){return Vs(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Dn.transition,Dn.transition=null;var s=Oe;Oe=1;var a=Pe;Pe|=4,Gg.current=null,tN(t,n),QT(n,t),Ax($p),Zc=!!jp,$p=jp=null,t.current=n,nN(n),Nb(),Pe=a,Oe=s,Dn.transition=o}else t.current=n;if(dc&&(dc=!1,Ii=t,md=i),o=t.pendingLanes,o===0&&(xi=null),Lb(n.stateNode),cn(t,ct()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(pd)throw pd=!1,t=lm,lm=null,t;return md&1&&t.tag!==0&&Vs(),o=t.pendingLanes,o&1?t===um?ml++:(ml=0,um=t):ml=0,Gi(),null}function Vs(){if(Ii!==null){var t=O1(md),e=Dn.transition,n=Oe;try{if(Dn.transition=null,Oe=16>t?16:t,Ii===null)var r=!1;else{if(t=Ii,Ii=null,md=0,Pe&6)throw Error(U(331));var i=Pe;for(Pe|=4,Y=t.current;Y!==null;){var o=Y,s=o.child;if(Y.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Y=u;Y!==null;){var d=Y;switch(d.tag){case 0:case 11:case 15:fl(8,d,o)}var f=d.child;if(f!==null)f.return=d,Y=f;else for(;Y!==null;){d=Y;var g=d.sibling,v=d.return;if(qT(d),d===u){Y=null;break}if(g!==null){g.return=v,Y=g;break}Y=v}}}var E=o.alternate;if(E!==null){var I=E.child;if(I!==null){E.child=null;do{var A=I.sibling;I.sibling=null,I=A}while(I!==null)}}Y=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,Y=s;else e:for(;Y!==null;){if(o=Y,o.flags&2048)switch(o.tag){case 0:case 11:case 15:fl(9,o,o.return)}var y=o.sibling;if(y!==null){y.return=o.return,Y=y;break e}Y=o.return}}var w=t.current;for(Y=w;Y!==null;){s=Y;var _=s.child;if(s.subtreeFlags&2064&&_!==null)_.return=s,Y=_;else e:for(s=w;Y!==null;){if(a=Y,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:eh(9,a)}}catch(D){et(a,a.return,D)}if(a===s){Y=null;break e}var P=a.sibling;if(P!==null){P.return=a.return,Y=P;break e}Y=a.return}}if(Pe=i,Gi(),dr&&typeof dr.onPostCommitFiberRoot=="function")try{dr.onPostCommitFiberRoot(qd,t)}catch{}r=!0}return r}finally{Oe=n,Dn.transition=e}}return!1}function U0(t,e,n){e=Qs(n,e),e=LT(t,e,1),t=bi(t,e,1),e=tn(),t!==null&&(mu(t,1,e),cn(t,e))}function et(t,e,n){if(t.tag===3)U0(t,t,n);else for(;e!==null;){if(e.tag===3){U0(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(xi===null||!xi.has(r))){t=Qs(n,t),t=MT(e,t,1),e=bi(e,t,1),t=tn(),e!==null&&(mu(e,1,t),cn(e,t));break}}e=e.return}}function lN(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=tn(),t.pingedLanes|=t.suspendedLanes&n,Rt===t&&(Mt&n)===n&&(It===4||It===3&&(Mt&130023424)===Mt&&500>ct()-Yg?To(t,0):Qg|=n),cn(t,e)}function nI(t,e){e===0&&(t.mode&1?(e=tc,tc<<=1,!(tc&130023424)&&(tc=4194304)):e=1);var n=tn();t=$r(t,e),t!==null&&(mu(t,e,n),cn(t,n))}function uN(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),nI(t,n)}function cN(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(U(314))}r!==null&&r.delete(e),nI(t,n)}var rI;rI=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||ln.current)an=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return an=!1,Xx(t,e,n);an=!!(t.flags&131072)}else an=!1,He&&e.flags&1048576&&sT(e,sd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Mc(t,e),t=e.pendingProps;var i=Ws(e,Qt.current);Ms(e,n),i=zg(null,e,r,t,i,n);var o=Hg();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,un(r)?(o=!0,id(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Fg(e),i.updater=Jd,e.stateNode=i,i._reactInternals=e,Xp(e,r,t,n),e=em(null,e,r,!0,o,n)):(e.tag=0,He&&o&&xg(e),Zt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Mc(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=hN(r),t=Bn(r,t),i){case 0:e=Zp(null,e,r,t,n);break e;case 1:e=k0(null,e,r,t,n);break e;case 11:e=A0(null,e,r,t,n);break e;case 14:e=P0(null,e,r,Bn(r.type,t),n);break e}throw Error(U(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Bn(r,i),Zp(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Bn(r,i),k0(t,e,r,i,n);case 3:e:{if(BT(e),t===null)throw Error(U(387));r=e.pendingProps,o=e.memoizedState,i=o.element,cT(t,e),ud(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Qs(Error(U(423)),e),e=b0(t,e,r,n,i);break e}else if(r!==i){i=Qs(Error(U(424)),e),e=b0(t,e,r,n,i);break e}else for(gn=ki(e.stateNode.containerInfo.firstChild),wn=e,He=!0,zn=null,n=pT(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(qs(),r===i){e=zr(t,e,n);break e}Zt(t,e,r,n)}e=e.child}return e;case 5:return mT(e),t===null&&Gp(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,zp(r,i)?s=null:o!==null&&zp(r,o)&&(e.flags|=32),UT(t,e),Zt(t,e,s,n),e.child;case 6:return t===null&&Gp(e),null;case 13:return jT(t,e,n);case 4:return Ug(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ks(e,null,r,n):Zt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Bn(r,i),A0(t,e,r,i,n);case 7:return Zt(t,e,e.pendingProps,n),e.child;case 8:return Zt(t,e,e.pendingProps.children,n),e.child;case 12:return Zt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,Fe(ad,r._currentValue),r._currentValue=s,o!==null)if(Qn(o.value,s)){if(o.children===i.children&&!ln.current){e=zr(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Lr(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Qp(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(U(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Qp(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Zt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ms(e,n),i=On(i),r=r(i),e.flags|=1,Zt(t,e,r,n),e.child;case 14:return r=e.type,i=Bn(r,e.pendingProps),i=Bn(r.type,i),P0(t,e,r,i,n);case 15:return VT(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Bn(r,i),Mc(t,e),e.tag=1,un(r)?(t=!0,id(e)):t=!1,Ms(e,n),hT(e,r,i),Xp(e,r,i,n),em(null,e,r,!0,t,n);case 19:return $T(t,e,n);case 22:return FT(t,e,n)}throw Error(U(156,e.tag))};function iI(t,e){return b1(t,e)}function dN(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nn(t,e,n,r){return new dN(t,e,n,r)}function ev(t){return t=t.prototype,!(!t||!t.isReactComponent)}function hN(t){if(typeof t=="function")return ev(t)?1:0;if(t!=null){if(t=t.$$typeof,t===wg)return 11;if(t===_g)return 14}return 2}function Di(t,e){var n=t.alternate;return n===null?(n=Nn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Uc(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")ev(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case vs:return Io(n.children,i,o,e);case yg:s=8,i|=8;break;case Ep:return t=Nn(12,n,e,i|2),t.elementType=Ep,t.lanes=o,t;case Tp:return t=Nn(13,n,e,i),t.elementType=Tp,t.lanes=o,t;case Ip:return t=Nn(19,n,e,i),t.elementType=Ip,t.lanes=o,t;case f1:return nh(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case d1:s=10;break e;case h1:s=9;break e;case wg:s=11;break e;case _g:s=14;break e;case hi:s=16,r=null;break e}throw Error(U(130,t==null?t:typeof t,""))}return e=Nn(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Io(t,e,n,r){return t=Nn(7,t,r,e),t.lanes=n,t}function nh(t,e,n,r){return t=Nn(22,t,r,e),t.elementType=f1,t.lanes=n,t.stateNode={isHidden:!1},t}function Vf(t,e,n){return t=Nn(6,t,null,e),t.lanes=n,t}function Ff(t,e,n){return e=Nn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function fN(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yf(0),this.expirationTimes=yf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yf(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function tv(t,e,n,r,i,o,s,a,l){return t=new fN(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Nn(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fg(o),t}function pN(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:gs,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function oI(t){if(!t)return Bi;t=t._reactInternals;e:{if($o(t)!==t||t.tag!==1)throw Error(U(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(un(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(U(171))}if(t.tag===1){var n=t.type;if(un(n))return iT(t,n,e)}return e}function sI(t,e,n,r,i,o,s,a,l){return t=tv(n,r,!0,t,i,o,s,a,l),t.context=oI(null),n=t.current,r=tn(),i=Ni(n),o=Lr(r,i),o.callback=e??null,bi(n,o,i),t.current.lanes=i,mu(t,i,r),cn(t,r),t}function rh(t,e,n,r){var i=e.current,o=tn(),s=Ni(i);return n=oI(n),e.context===null?e.context=n:e.pendingContext=n,e=Lr(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=bi(i,e,s),t!==null&&(Kn(t,i,s,o),Dc(t,i,s)),s}function vd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function B0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function nv(t,e){B0(t,e),(t=t.alternate)&&B0(t,e)}function mN(){return null}var aI=typeof reportError=="function"?reportError:function(t){console.error(t)};function rv(t){this._internalRoot=t}ih.prototype.render=rv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(U(409));rh(t,e,null,null)};ih.prototype.unmount=rv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;xo(function(){rh(null,t,null,null)}),e[jr]=null}};function ih(t){this._internalRoot=t}ih.prototype.unstable_scheduleHydration=function(t){if(t){var e=V1();t={blockedOn:null,target:t,priority:e};for(var n=0;n<mi.length&&e!==0&&e<mi[n].priority;n++);mi.splice(n,0,t),n===0&&U1(t)}};function iv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function oh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function j0(){}function gN(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=vd(s);o.call(u)}}var s=sI(e,r,t,0,null,!1,!1,"",j0);return t._reactRootContainer=s,t[jr]=s.current,Ol(t.nodeType===8?t.parentNode:t),xo(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=vd(l);a.call(u)}}var l=tv(t,0,!1,null,null,!1,!1,"",j0);return t._reactRootContainer=l,t[jr]=l.current,Ol(t.nodeType===8?t.parentNode:t),xo(function(){rh(e,l,n,r)}),l}function sh(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=vd(s);a.call(l)}}rh(e,s,t,i)}else s=gN(n,e,t,i,r);return vd(s)}L1=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Xa(e.pendingLanes);n!==0&&(Ig(e,n|1),cn(e,ct()),!(Pe&6)&&(Ys=ct()+500,Gi()))}break;case 13:xo(function(){var r=$r(t,1);if(r!==null){var i=tn();Kn(r,t,1,i)}}),nv(t,1)}};Sg=function(t){if(t.tag===13){var e=$r(t,134217728);if(e!==null){var n=tn();Kn(e,t,134217728,n)}nv(t,134217728)}};M1=function(t){if(t.tag===13){var e=Ni(t),n=$r(t,e);if(n!==null){var r=tn();Kn(n,t,e,r)}nv(t,e)}};V1=function(){return Oe};F1=function(t,e){var n=Oe;try{return Oe=t,e()}finally{Oe=n}};Dp=function(t,e,n){switch(e){case"input":if(Rp(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Yd(r);if(!i)throw Error(U(90));m1(r),Rp(r,i)}}}break;case"textarea":v1(t,n);break;case"select":e=n.value,e!=null&&Ns(t,!!n.multiple,e,!1)}};S1=Xg;C1=xo;var vN={usingClientEntryPoint:!1,Events:[vu,Es,Yd,T1,I1,Xg]},Va={findFiberByHostInstance:ho,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},yN={bundleType:Va.bundleType,version:Va.version,rendererPackageName:Va.rendererPackageName,rendererConfig:Va.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Yr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=P1(t),t===null?null:t.stateNode},findFiberByHostInstance:Va.findFiberByHostInstance||mN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hc.isDisabled&&hc.supportsFiber)try{qd=hc.inject(yN),dr=hc}catch{}}Tn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vN;Tn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!iv(e))throw Error(U(200));return pN(t,e,null,n)};Tn.createRoot=function(t,e){if(!iv(t))throw Error(U(299));var n=!1,r="",i=aI;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=tv(t,1,!1,null,null,n,!1,r,i),t[jr]=e.current,Ol(t.nodeType===8?t.parentNode:t),new rv(e)};Tn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(U(188)):(t=Object.keys(t).join(","),Error(U(268,t)));return t=P1(e),t=t===null?null:t.stateNode,t};Tn.flushSync=function(t){return xo(t)};Tn.hydrate=function(t,e,n){if(!oh(e))throw Error(U(200));return sh(null,t,e,!0,n)};Tn.hydrateRoot=function(t,e,n){if(!iv(t))throw Error(U(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=aI;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=sI(e,null,t,1,n??null,i,!1,o,s),t[jr]=e.current,Ol(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new ih(e)};Tn.render=function(t,e,n){if(!oh(e))throw Error(U(200));return sh(null,t,e,!1,n)};Tn.unmountComponentAtNode=function(t){if(!oh(t))throw Error(U(40));return t._reactRootContainer?(xo(function(){sh(null,null,t,!1,function(){t._reactRootContainer=null,t[jr]=null})}),!0):!1};Tn.unstable_batchedUpdates=Xg;Tn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!oh(n))throw Error(U(200));if(t==null||t._reactInternals===void 0)throw Error(U(38));return sh(t,e,n,!1,r)};Tn.version="18.2.0-next-9e3b772b8-20220608";function lI(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(lI)}catch(t){console.error(t)}}lI(),s1.exports=Tn;var ov=s1.exports;const mo=fu(ov),wN=QE({__proto__:null,default:mo},[ov]);var $0=ov;wp.createRoot=$0.createRoot,wp.hydrateRoot=$0.hydrateRoot;/**
 * @remix-run/router v1.15.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function tt(){return tt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tt.apply(this,arguments)}var ut;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ut||(ut={}));const z0="popstate";function _N(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:s,hash:a}=r.location;return zl("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:No(i)}return TN(e,n,null,t)}function _e(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Xs(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function EN(){return Math.random().toString(36).substr(2,8)}function H0(t,e){return{usr:t.state,key:t.key,idx:e}}function zl(t,e,n,r){return n===void 0&&(n=null),tt({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Xr(e):e,{state:n,key:e&&e.key||r||EN()})}function No(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Xr(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function TN(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=ut.Pop,l=null,u=d();u==null&&(u=0,s.replaceState(tt({},s.state,{idx:u}),""));function d(){return(s.state||{idx:null}).idx}function f(){a=ut.Pop;let A=d(),y=A==null?null:A-u;u=A,l&&l({action:a,location:I.location,delta:y})}function g(A,y){a=ut.Push;let w=zl(I.location,A,y);n&&n(w,A),u=d()+1;let _=H0(w,u),P=I.createHref(w);try{s.pushState(_,"",P)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;i.location.assign(P)}o&&l&&l({action:a,location:I.location,delta:1})}function v(A,y){a=ut.Replace;let w=zl(I.location,A,y);n&&n(w,A),u=d();let _=H0(w,u),P=I.createHref(w);s.replaceState(_,"",P),o&&l&&l({action:a,location:I.location,delta:0})}function E(A){let y=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof A=="string"?A:No(A);return w=w.replace(/ $/,"%20"),_e(y,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,y)}let I={get action(){return a},get location(){return t(i,s)},listen(A){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(z0,f),l=A,()=>{i.removeEventListener(z0,f),l=null}},createHref(A){return e(i,A)},createURL:E,encodeLocation(A){let y=E(A);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:g,replace:v,go(A){return s.go(A)}};return I}var Ze;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Ze||(Ze={}));const IN=new Set(["lazy","caseSensitive","path","id","index","children"]);function SN(t){return t.index===!0}function hm(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,o)=>{let s=[...n,o],a=typeof i.id=="string"?i.id:s.join("-");if(_e(i.index!==!0||!i.children,"Cannot specify children on an index route"),_e(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),SN(i)){let l=tt({},i,e(i),{id:a});return r[a]=l,l}else{let l=tt({},i,e(i),{id:a,children:void 0});return r[a]=l,i.children&&(l.children=hm(i.children,e,s,r)),l}})}function Ps(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Xr(e):e,i=ma(r.pathname||"/",n);if(i==null)return null;let o=uI(t);RN(o);let s=null;for(let a=0;s==null&&a<o.length;++a){let l=FN(i);s=LN(o[a],l)}return s}function CN(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function uI(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(_e(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Mr([r,l.relativePath]),d=n.concat(l);o.children&&o.children.length>0&&(_e(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),uI(o.children,e,d,u)),!(o.path==null&&!o.index)&&e.push({path:u,score:DN(u,o.index),routesMeta:d})};return t.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of cI(o.path))i(o,s,l)}),e}function cI(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=cI(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function RN(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:ON(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const AN=/^:[\w-]+$/,PN=3,kN=2,bN=1,xN=10,NN=-2,W0=t=>t==="*";function DN(t,e){let n=t.split("/"),r=n.length;return n.some(W0)&&(r+=NN),e&&(r+=kN),n.filter(i=>!W0(i)).reduce((i,o)=>i+(AN.test(o)?PN:o===""?bN:xN),r)}function ON(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function LN(t,e){let{routesMeta:n}=t,r={},i="/",o=[];for(let s=0;s<n.length;++s){let a=n[s],l=s===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",d=MN({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!d)return null;Object.assign(r,d.params);let f=a.route;o.push({params:r,pathname:Mr([i,d.pathname]),pathnameBase:jN(Mr([i,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(i=Mr([i,d.pathnameBase]))}return o}function MN(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=VN(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,d,f)=>{let{paramName:g,isOptional:v}=d;if(g==="*"){let I=a[f]||"";s=o.slice(0,o.length-I.length).replace(/(.)\/+$/,"$1")}const E=a[f];return v&&!E?u[g]=void 0:u[g]=(E||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:s,pattern:t}}function VN(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Xs(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function FN(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Xs(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function ma(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function UN(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Xr(t):t;return{pathname:n?n.startsWith("/")?n:BN(n,e):e,search:$N(r),hash:zN(i)}}function BN(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Uf(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function dI(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function sv(t,e){let n=dI(t);return e?n.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function av(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Xr(t):(i=tt({},t),_e(!i.pathname||!i.pathname.includes("?"),Uf("?","pathname","search",i)),_e(!i.pathname||!i.pathname.includes("#"),Uf("#","pathname","hash",i)),_e(!i.search||!i.search.includes("#"),Uf("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,a;if(s==null)a=n;else{let f=e.length-1;if(!r&&s.startsWith("..")){let g=s.split("/");for(;g[0]==="..";)g.shift(),f-=1;i.pathname=g.join("/")}a=f>=0?e[f]:"/"}let l=UN(i,a),u=s&&s!=="/"&&s.endsWith("/"),d=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const Mr=t=>t.join("/").replace(/\/\/+/g,"/"),jN=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),$N=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,zN=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class lv{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function hI(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const fI=["post","put","patch","delete"],HN=new Set(fI),WN=["get",...fI],qN=new Set(WN),KN=new Set([301,302,303,307,308]),GN=new Set([307,308]),Bf={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},QN={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Fa={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},pI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,YN=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),mI="remix-router-transitions";function XN(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;_e(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let k=t.detectErrorBoundary;i=x=>({hasErrorBoundary:k(x)})}else i=YN;let o={},s=hm(t.routes,i,void 0,o),a,l=t.basename||"/",u=tt({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1},t.future),d=null,f=new Set,g=null,v=null,E=null,I=t.hydrationData!=null,A=Ps(s,t.history.location,l),y=null;if(A==null){let k=Rn(404,{pathname:t.history.location.pathname}),{matches:x,route:L}=Z0(s);A=x,y={[L.id]:k}}let w,_=A.some(k=>k.route.lazy),P=A.some(k=>k.route.loader);if(_)w=!1;else if(!P)w=!0;else if(u.v7_partialHydration){let k=t.hydrationData?t.hydrationData.loaderData:null,x=t.hydrationData?t.hydrationData.errors:null;w=A.every(L=>L.route.loader&&L.route.loader.hydrate!==!0&&(k&&k[L.route.id]!==void 0||x&&x[L.route.id]!==void 0))}else w=t.hydrationData!=null;let D,S={historyAction:t.history.action,location:t.history.location,matches:A,initialized:w,navigation:Bf,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||y,fetchers:new Map,blockers:new Map},N=ut.Pop,M=!1,z,K=!1,ce=new Map,Ne=null,ve=!1,dt=!1,hn=[],wt=[],Se=new Map,B=0,J=-1,j=new Map,me=new Set,ke=new Map,ht=new Map,Be=new Set,b=new Map,qe=new Map,Xt=!1;function Yo(){if(d=t.history.listen(k=>{let{action:x,location:L,delta:H}=k;if(Xt){Xt=!1;return}Xs(qe.size===0||H!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let G=Sa({currentLocation:S.location,nextLocation:L,historyAction:x});if(G&&H!=null){Xt=!0,t.history.go(H*-1),er(G,{state:"blocked",location:L,proceed(){er(G,{state:"proceeding",proceed:void 0,reset:void 0,location:L}),t.history.go(H)},reset(){let he=new Map(S.blockers);he.set(G,Fa),Ke({blockers:he})}});return}return Ce(x,L)}),n){lD(e,ce);let k=()=>uD(e,ce);e.addEventListener("pagehide",k),Ne=()=>e.removeEventListener("pagehide",k)}return S.initialized||Ce(ut.Pop,S.location,{initialHydration:!0}),D}function Ir(){d&&d(),Ne&&Ne(),f.clear(),z&&z.abort(),S.fetchers.forEach((k,x)=>no(x)),S.blockers.forEach((k,x)=>Rr(x))}function ft(k){return f.add(k),()=>f.delete(k)}function Ke(k,x){x===void 0&&(x={}),S=tt({},S,k);let L=[],H=[];u.v7_fetcherPersist&&S.fetchers.forEach((G,he)=>{G.state==="idle"&&(Be.has(he)?H.push(he):L.push(he))}),[...f].forEach(G=>G(S,{deletedFetchers:H,unstable_viewTransitionOpts:x.viewTransitionOpts,unstable_flushSync:x.flushSync===!0})),u.v7_fetcherPersist&&(L.forEach(G=>S.fetchers.delete(G)),H.forEach(G=>no(G)))}function Mn(k,x,L){var H,G;let{flushSync:he}=L===void 0?{}:L,te=S.actionData!=null&&S.navigation.formMethod!=null&&$n(S.navigation.formMethod)&&S.navigation.state==="loading"&&((H=k.state)==null?void 0:H._isRedirect)!==!0,Z;x.actionData?Object.keys(x.actionData).length>0?Z=x.actionData:Z=null:te?Z=S.actionData:Z=null;let $=x.loaderData?J0(S.loaderData,x.loaderData,x.matches||[],x.errors):S.loaderData,re=S.blockers;re.size>0&&(re=new Map(re),re.forEach((le,Re)=>re.set(Re,Fa)));let Me=M===!0||S.navigation.formMethod!=null&&$n(S.navigation.formMethod)&&((G=k.state)==null?void 0:G._isRedirect)!==!0;a&&(s=a,a=void 0),ve||N===ut.Pop||(N===ut.Push?t.history.push(k,k.state):N===ut.Replace&&t.history.replace(k,k.state));let ne;if(N===ut.Pop){let le=ce.get(S.location.pathname);le&&le.has(k.pathname)?ne={currentLocation:S.location,nextLocation:k}:ce.has(k.pathname)&&(ne={currentLocation:k,nextLocation:S.location})}else if(K){let le=ce.get(S.location.pathname);le?le.add(k.pathname):(le=new Set([k.pathname]),ce.set(S.location.pathname,le)),ne={currentLocation:S.location,nextLocation:k}}Ke(tt({},x,{actionData:Z,loaderData:$,historyAction:N,location:k,initialized:!0,navigation:Bf,revalidation:"idle",restoreScrollPosition:Jo(k,x.matches||S.matches),preventScrollReset:Me,blockers:re}),{viewTransitionOpts:ne,flushSync:he===!0}),N=ut.Pop,M=!1,K=!1,ve=!1,dt=!1,hn=[],wt=[]}async function ei(k,x){if(typeof k=="number"){t.history.go(k);return}let L=fm(S.location,S.matches,l,u.v7_prependBasename,k,u.v7_relativeSplatPath,x==null?void 0:x.fromRouteId,x==null?void 0:x.relative),{path:H,submission:G,error:he}=q0(u.v7_normalizeFormMethod,!1,L,x),te=S.location,Z=zl(S.location,H,x&&x.state);Z=tt({},Z,t.history.encodeLocation(Z));let $=x&&x.replace!=null?x.replace:void 0,re=ut.Push;$===!0?re=ut.Replace:$===!1||G!=null&&$n(G.formMethod)&&G.formAction===S.location.pathname+S.location.search&&(re=ut.Replace);let Me=x&&"preventScrollReset"in x?x.preventScrollReset===!0:void 0,ne=(x&&x.unstable_flushSync)===!0,le=Sa({currentLocation:te,nextLocation:Z,historyAction:re});if(le){er(le,{state:"blocked",location:Z,proceed(){er(le,{state:"proceeding",proceed:void 0,reset:void 0,location:Z}),ei(k,x)},reset(){let Re=new Map(S.blockers);Re.set(le,Fa),Ke({blockers:Re})}});return}return await Ce(re,Z,{submission:G,pendingError:he,preventScrollReset:Me,replace:x&&x.replace,enableViewTransition:x&&x.unstable_viewTransition,flushSync:ne})}function ti(){if(Sr(),Ke({revalidation:"loading"}),S.navigation.state!=="submitting"){if(S.navigation.state==="idle"){Ce(S.historyAction,S.location,{startUninterruptedRevalidation:!0});return}Ce(N||S.historyAction,S.navigation.location,{overrideNavigation:S.navigation})}}async function Ce(k,x,L){z&&z.abort(),z=null,N=k,ve=(L&&L.startUninterruptedRevalidation)===!0,Ra(S.location,S.matches),M=(L&&L.preventScrollReset)===!0,K=(L&&L.enableViewTransition)===!0;let H=a||s,G=L&&L.overrideNavigation,he=Ps(H,x,l),te=(L&&L.flushSync)===!0;if(!he){let Re=Rn(404,{pathname:x.pathname}),{matches:bt,route:st}=Z0(H);ii(),Mn(x,{matches:bt,loaderData:{},errors:{[st.id]:Re}},{flushSync:te});return}if(S.initialized&&!dt&&nD(S.location,x)&&!(L&&L.submission&&$n(L.submission.formMethod))){Mn(x,{matches:he},{flushSync:te});return}z=new AbortController;let Z=Ba(t.history,x,z.signal,L&&L.submission),$,re;if(L&&L.pendingError)re={[gl(he).route.id]:L.pendingError};else if(L&&L.submission&&$n(L.submission.formMethod)){let Re=await ni(Z,x,L.submission,he,{replace:L.replace,flushSync:te});if(Re.shortCircuited)return;$=Re.pendingActionData,re=Re.pendingActionError,G=jf(x,L.submission),te=!1,Z=new Request(Z.url,{signal:Z.signal})}let{shortCircuited:Me,loaderData:ne,errors:le}=await Vn(Z,x,he,G,L&&L.submission,L&&L.fetcherSubmission,L&&L.replace,L&&L.initialHydration===!0,te,$,re);Me||(z=null,Mn(x,tt({matches:he},$?{actionData:$}:{},{loaderData:ne,errors:le})))}async function ni(k,x,L,H,G){G===void 0&&(G={}),Sr();let he=sD(x,L);Ke({navigation:he},{flushSync:G.flushSync===!0});let te,Z=mm(H,x);if(!Z.route.action&&!Z.route.lazy)te={type:Ze.error,error:Rn(405,{method:k.method,pathname:x.pathname,routeId:Z.route.id})};else if(te=await Ua("action",k,Z,H,o,i,l,u.v7_relativeSplatPath),k.signal.aborted)return{shortCircuited:!0};if(vo(te)){let $;return G&&G.replace!=null?$=G.replace:$=te.location===S.location.pathname+S.location.search,await _t(S,te,{submission:L,replace:$}),{shortCircuited:!0}}if(ks(te)){let $=gl(H,Z.route.id);return(G&&G.replace)!==!0&&(N=ut.Push),{pendingActionData:{},pendingActionError:{[$.route.id]:te.error}}}if(go(te))throw Rn(400,{type:"defer-action"});return{pendingActionData:{[Z.route.id]:te.data}}}async function Vn(k,x,L,H,G,he,te,Z,$,re,Me){let ne=H||jf(x,G),le=G||he||n_(ne),Re=a||s,[bt,st]=K0(t.history,S,L,le,x,u.v7_partialHydration&&Z===!0,dt,hn,wt,Be,ke,me,Re,l,re,Me);if(ii(ge=>!(L&&L.some(De=>De.route.id===ge))||bt&&bt.some(De=>De.route.id===ge)),J=++B,bt.length===0&&st.length===0){let ge=Cr();return Mn(x,tt({matches:L,loaderData:{},errors:Me||null},re?{actionData:re}:{},ge?{fetchers:new Map(S.fetchers)}:{}),{flushSync:$}),{shortCircuited:!0}}if(!ve&&(!u.v7_partialHydration||!Z)){st.forEach(De=>{let Bt=S.fetchers.get(De.key),ns=ja(void 0,Bt?Bt.data:void 0);S.fetchers.set(De.key,ns)});let ge=re||S.actionData;Ke(tt({navigation:ne},ge?Object.keys(ge).length===0?{actionData:null}:{actionData:ge}:{},st.length>0?{fetchers:new Map(S.fetchers)}:{}),{flushSync:$})}st.forEach(ge=>{Se.has(ge.key)&&fn(ge.key),ge.controller&&Se.set(ge.key,ge.controller)});let Cn=()=>st.forEach(ge=>fn(ge.key));z&&z.signal.addEventListener("abort",Cn);let{results:xt,loaderResults:oi,fetcherResults:Fn}=await be(S.matches,L,bt,st,k);if(k.signal.aborted)return{shortCircuited:!0};z&&z.signal.removeEventListener("abort",Cn),st.forEach(ge=>Se.delete(ge.key));let tr=e_(xt);if(tr){if(tr.idx>=bt.length){let ge=st[tr.idx-bt.length].key;me.add(ge)}return await _t(S,tr.result,{replace:te}),{shortCircuited:!0}}let{loaderData:ro,errors:io}=X0(S,L,bt,oi,Me,st,Fn,b);b.forEach((ge,De)=>{ge.subscribe(Bt=>{(Bt||ge.done)&&b.delete(De)})}),u.v7_partialHydration&&Z&&S.errors&&Object.entries(S.errors).filter(ge=>{let[De]=ge;return!bt.some(Bt=>Bt.route.id===De)}).forEach(ge=>{let[De,Bt]=ge;io=Object.assign(io||{},{[De]:Bt})});let es=Cr(),si=Zn(J),ts=es||si||st.length>0;return tt({loaderData:ro,errors:io},ts?{fetchers:new Map(S.fetchers)}:{})}function Ta(k,x,L,H){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");Se.has(k)&&fn(k);let G=(H&&H.unstable_flushSync)===!0,he=a||s,te=fm(S.location,S.matches,l,u.v7_prependBasename,L,u.v7_relativeSplatPath,x,H==null?void 0:H.relative),Z=Ps(he,te,l);if(!Z){ri(k,x,Rn(404,{pathname:te}),{flushSync:G});return}let{path:$,submission:re,error:Me}=q0(u.v7_normalizeFormMethod,!0,te,H);if(Me){ri(k,x,Me,{flushSync:G});return}let ne=mm(Z,$);if(M=(H&&H.preventScrollReset)===!0,re&&$n(re.formMethod)){kt(k,x,$,ne,Z,G,re);return}ke.set(k,{routeId:x,path:$}),to(k,x,$,ne,Z,G,re)}async function kt(k,x,L,H,G,he,te){if(Sr(),ke.delete(k),!H.route.action&&!H.route.lazy){let De=Rn(405,{method:te.formMethod,pathname:L,routeId:x});ri(k,x,De,{flushSync:he});return}let Z=S.fetchers.get(k);Jn(k,aD(te,Z),{flushSync:he});let $=new AbortController,re=Ba(t.history,L,$.signal,te);Se.set(k,$);let Me=B,ne=await Ua("action",re,H,G,o,i,l,u.v7_relativeSplatPath);if(re.signal.aborted){Se.get(k)===$&&Se.delete(k);return}if(u.v7_fetcherPersist&&Be.has(k)){if(vo(ne)||ks(ne)){Jn(k,di(void 0));return}}else{if(vo(ne))if(Se.delete(k),J>Me){Jn(k,di(void 0));return}else return me.add(k),Jn(k,ja(te)),_t(S,ne,{fetcherSubmission:te});if(ks(ne)){ri(k,x,ne.error);return}}if(go(ne))throw Rn(400,{type:"defer-action"});let le=S.navigation.location||S.location,Re=Ba(t.history,le,$.signal),bt=a||s,st=S.navigation.state!=="idle"?Ps(bt,S.navigation.location,l):S.matches;_e(st,"Didn't find any matches after fetcher action");let Cn=++B;j.set(k,Cn);let xt=ja(te,ne.data);S.fetchers.set(k,xt);let[oi,Fn]=K0(t.history,S,st,te,le,!1,dt,hn,wt,Be,ke,me,bt,l,{[H.route.id]:ne.data},void 0);Fn.filter(De=>De.key!==k).forEach(De=>{let Bt=De.key,ns=S.fetchers.get(Bt),rf=ja(void 0,ns?ns.data:void 0);S.fetchers.set(Bt,rf),Se.has(Bt)&&fn(Bt),De.controller&&Se.set(Bt,De.controller)}),Ke({fetchers:new Map(S.fetchers)});let tr=()=>Fn.forEach(De=>fn(De.key));$.signal.addEventListener("abort",tr);let{results:ro,loaderResults:io,fetcherResults:es}=await be(S.matches,st,oi,Fn,Re);if($.signal.aborted)return;$.signal.removeEventListener("abort",tr),j.delete(k),Se.delete(k),Fn.forEach(De=>Se.delete(De.key));let si=e_(ro);if(si){if(si.idx>=oi.length){let De=Fn[si.idx-oi.length].key;me.add(De)}return _t(S,si.result)}let{loaderData:ts,errors:ge}=X0(S,S.matches,oi,io,void 0,Fn,es,b);if(S.fetchers.has(k)){let De=di(ne.data);S.fetchers.set(k,De)}Zn(Cn),S.navigation.state==="loading"&&Cn>J?(_e(N,"Expected pending action"),z&&z.abort(),Mn(S.navigation.location,{matches:st,loaderData:ts,errors:ge,fetchers:new Map(S.fetchers)})):(Ke({errors:ge,loaderData:J0(S.loaderData,ts,st,ge),fetchers:new Map(S.fetchers)}),dt=!1)}async function to(k,x,L,H,G,he,te){let Z=S.fetchers.get(k);Jn(k,ja(te,Z?Z.data:void 0),{flushSync:he});let $=new AbortController,re=Ba(t.history,L,$.signal);Se.set(k,$);let Me=B,ne=await Ua("loader",re,H,G,o,i,l,u.v7_relativeSplatPath);if(go(ne)&&(ne=await yI(ne,re.signal,!0)||ne),Se.get(k)===$&&Se.delete(k),!re.signal.aborted){if(Be.has(k)){Jn(k,di(void 0));return}if(vo(ne))if(J>Me){Jn(k,di(void 0));return}else{me.add(k),await _t(S,ne);return}if(ks(ne)){ri(k,x,ne.error);return}_e(!go(ne),"Unhandled fetcher deferred data"),Jn(k,di(ne.data))}}async function _t(k,x,L){let{submission:H,fetcherSubmission:G,replace:he}=L===void 0?{}:L;x.revalidate&&(dt=!0);let te=zl(k.location,x.location,{_isRedirect:!0});if(_e(te,"Expected a location on the redirect navigation"),n){let le=!1;if(x.reloadDocument)le=!0;else if(pI.test(x.location)){const Re=t.history.createURL(x.location);le=Re.origin!==e.location.origin||ma(Re.pathname,l)==null}if(le){he?e.location.replace(x.location):e.location.assign(x.location);return}}z=null;let Z=he===!0?ut.Replace:ut.Push,{formMethod:$,formAction:re,formEncType:Me}=k.navigation;!H&&!G&&$&&re&&Me&&(H=n_(k.navigation));let ne=H||G;if(GN.has(x.status)&&ne&&$n(ne.formMethod))await Ce(Z,te,{submission:tt({},ne,{formAction:x.location}),preventScrollReset:M});else{let le=jf(te,H);await Ce(Z,te,{overrideNavigation:le,fetcherSubmission:G,preventScrollReset:M})}}async function be(k,x,L,H,G){let he=await Promise.all([...L.map($=>Ua("loader",G,$,x,o,i,l,u.v7_relativeSplatPath)),...H.map($=>$.matches&&$.match&&$.controller?Ua("loader",Ba(t.history,$.path,$.controller.signal),$.match,$.matches,o,i,l,u.v7_relativeSplatPath):{type:Ze.error,error:Rn(404,{pathname:$.path})})]),te=he.slice(0,L.length),Z=he.slice(L.length);return await Promise.all([t_(k,L,te,te.map(()=>G.signal),!1,S.loaderData),t_(k,H.map($=>$.match),Z,H.map($=>$.controller?$.controller.signal:null),!0)]),{results:he,loaderResults:te,fetcherResults:Z}}function Sr(){dt=!0,hn.push(...ii()),ke.forEach((k,x)=>{Se.has(x)&&(wt.push(x),fn(x))})}function Jn(k,x,L){L===void 0&&(L={}),S.fetchers.set(k,x),Ke({fetchers:new Map(S.fetchers)},{flushSync:(L&&L.flushSync)===!0})}function ri(k,x,L,H){H===void 0&&(H={});let G=gl(S.matches,x);no(k),Ke({errors:{[G.route.id]:L},fetchers:new Map(S.fetchers)},{flushSync:(H&&H.flushSync)===!0})}function Xo(k){return u.v7_fetcherPersist&&(ht.set(k,(ht.get(k)||0)+1),Be.has(k)&&Be.delete(k)),S.fetchers.get(k)||QN}function no(k){let x=S.fetchers.get(k);Se.has(k)&&!(x&&x.state==="loading"&&j.has(k))&&fn(k),ke.delete(k),j.delete(k),me.delete(k),Be.delete(k),S.fetchers.delete(k)}function Ia(k){if(u.v7_fetcherPersist){let x=(ht.get(k)||0)-1;x<=0?(ht.delete(k),Be.add(k)):ht.set(k,x)}else no(k);Ke({fetchers:new Map(S.fetchers)})}function fn(k){let x=Se.get(k);_e(x,"Expected fetch controller: "+k),x.abort(),Se.delete(k)}function pn(k){for(let x of k){let L=Xo(x),H=di(L.data);S.fetchers.set(x,H)}}function Cr(){let k=[],x=!1;for(let L of me){let H=S.fetchers.get(L);_e(H,"Expected fetcher: "+L),H.state==="loading"&&(me.delete(L),k.push(L),x=!0)}return pn(k),x}function Zn(k){let x=[];for(let[L,H]of j)if(H<k){let G=S.fetchers.get(L);_e(G,"Expected fetcher: "+L),G.state==="loading"&&(fn(L),j.delete(L),x.push(L))}return pn(x),x.length>0}function nf(k,x){let L=S.blockers.get(k)||Fa;return qe.get(k)!==x&&qe.set(k,x),L}function Rr(k){S.blockers.delete(k),qe.delete(k)}function er(k,x){let L=S.blockers.get(k)||Fa;_e(L.state==="unblocked"&&x.state==="blocked"||L.state==="blocked"&&x.state==="blocked"||L.state==="blocked"&&x.state==="proceeding"||L.state==="blocked"&&x.state==="unblocked"||L.state==="proceeding"&&x.state==="unblocked","Invalid blocker state transition: "+L.state+" -> "+x.state);let H=new Map(S.blockers);H.set(k,x),Ke({blockers:H})}function Sa(k){let{currentLocation:x,nextLocation:L,historyAction:H}=k;if(qe.size===0)return;qe.size>1&&Xs(!1,"A router only supports one blocker at a time");let G=Array.from(qe.entries()),[he,te]=G[G.length-1],Z=S.blockers.get(he);if(!(Z&&Z.state==="proceeding")&&te({currentLocation:x,nextLocation:L,historyAction:H}))return he}function ii(k){let x=[];return b.forEach((L,H)=>{(!k||k(H))&&(L.cancel(),x.push(H),b.delete(H))}),x}function Ca(k,x,L){if(g=k,E=x,v=L||null,!I&&S.navigation===Bf){I=!0;let H=Jo(S.location,S.matches);H!=null&&Ke({restoreScrollPosition:H})}return()=>{g=null,E=null,v=null}}function zu(k,x){return v&&v(k,x.map(H=>CN(H,S.loaderData)))||k.key}function Ra(k,x){if(g&&E){let L=zu(k,x);g[L]=E()}}function Jo(k,x){if(g){let L=zu(k,x),H=g[L];if(typeof H=="number")return H}return null}function Zo(k){o={},a=hm(k,i,void 0,o)}return D={get basename(){return l},get future(){return u},get state(){return S},get routes(){return s},get window(){return e},initialize:Yo,subscribe:ft,enableScrollRestoration:Ca,navigate:ei,fetch:Ta,revalidate:ti,createHref:k=>t.history.createHref(k),encodeLocation:k=>t.history.encodeLocation(k),getFetcher:Xo,deleteFetcher:Ia,dispose:Ir,getBlocker:nf,deleteBlocker:Rr,_internalFetchControllers:Se,_internalActiveDeferreds:b,_internalSetRoutes:Zo},D}function JN(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function fm(t,e,n,r,i,o,s,a){let l,u;if(s){l=[];for(let f of e)if(l.push(f),f.route.id===s){u=f;break}}else l=e,u=e[e.length-1];let d=av(i||".",sv(l,o),ma(t.pathname,n)||t.pathname,a==="path");return i==null&&(d.search=t.search,d.hash=t.hash),(i==null||i===""||i===".")&&u&&u.route.index&&!uv(d.search)&&(d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(d.pathname=d.pathname==="/"?n:Mr([n,d.pathname])),No(d)}function q0(t,e,n,r){if(!r||!JN(r))return{path:n};if(r.formMethod&&!oD(r.formMethod))return{path:n,error:Rn(405,{method:r.formMethod})};let i=()=>({path:n,error:Rn(400,{type:"invalid-body"})}),o=r.formMethod||"get",s=t?o.toUpperCase():o.toLowerCase(),a=vI(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!$n(s))return i();let g=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((v,E)=>{let[I,A]=E;return""+v+I+"="+A+`
`},""):String(r.body);return{path:n,submission:{formMethod:s,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:g}}}else if(r.formEncType==="application/json"){if(!$n(s))return i();try{let g=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:s,formAction:a,formEncType:r.formEncType,formData:void 0,json:g,text:void 0}}}catch{return i()}}}_e(typeof FormData=="function","FormData is not available in this environment");let l,u;if(r.formData)l=pm(r.formData),u=r.formData;else if(r.body instanceof FormData)l=pm(r.body),u=r.body;else if(r.body instanceof URLSearchParams)l=r.body,u=Y0(l);else if(r.body==null)l=new URLSearchParams,u=new FormData;else try{l=new URLSearchParams(r.body),u=Y0(l)}catch{return i()}let d={formMethod:s,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if($n(d.formMethod))return{path:n,submission:d};let f=Xr(n);return e&&f.search&&uv(f.search)&&l.append("index",""),f.search="?"+l,{path:No(f),submission:d}}function ZN(t,e){let n=t;if(e){let r=t.findIndex(i=>i.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function K0(t,e,n,r,i,o,s,a,l,u,d,f,g,v,E,I){let A=I?Object.values(I)[0]:E?Object.values(E)[0]:void 0,y=t.createURL(e.location),w=t.createURL(i),_=I?Object.keys(I)[0]:void 0,D=ZN(n,_).filter((N,M)=>{let{route:z}=N;if(z.lazy)return!0;if(z.loader==null)return!1;if(o)return z.loader.hydrate?!0:e.loaderData[z.id]===void 0&&(!e.errors||e.errors[z.id]===void 0);if(eD(e.loaderData,e.matches[M],N)||a.some(Ne=>Ne===N.route.id))return!0;let K=e.matches[M],ce=N;return G0(N,tt({currentUrl:y,currentParams:K.params,nextUrl:w,nextParams:ce.params},r,{actionResult:A,defaultShouldRevalidate:s||y.pathname+y.search===w.pathname+w.search||y.search!==w.search||gI(K,ce)}))}),S=[];return d.forEach((N,M)=>{if(o||!n.some(ve=>ve.route.id===N.routeId)||u.has(M))return;let z=Ps(g,N.path,v);if(!z){S.push({key:M,routeId:N.routeId,path:N.path,matches:null,match:null,controller:null});return}let K=e.fetchers.get(M),ce=mm(z,N.path),Ne=!1;f.has(M)?Ne=!1:l.includes(M)?Ne=!0:K&&K.state!=="idle"&&K.data===void 0?Ne=s:Ne=G0(ce,tt({currentUrl:y,currentParams:e.matches[e.matches.length-1].params,nextUrl:w,nextParams:n[n.length-1].params},r,{actionResult:A,defaultShouldRevalidate:s})),Ne&&S.push({key:M,routeId:N.routeId,path:N.path,matches:z,match:ce,controller:new AbortController})}),[D,S]}function eD(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function gI(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function G0(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function Q0(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];_e(i,"No route found in manifest");let o={};for(let s in r){let l=i[s]!==void 0&&s!=="hasErrorBoundary";Xs(!l,'Route "'+i.id+'" has a static property "'+s+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+s+'" will be ignored.')),!l&&!IN.has(s)&&(o[s]=r[s])}Object.assign(i,o),Object.assign(i,tt({},e(i),{lazy:void 0}))}async function Ua(t,e,n,r,i,o,s,a,l){l===void 0&&(l={});let u,d,f,g=I=>{let A,y=new Promise((w,_)=>A=_);return f=()=>A(),e.signal.addEventListener("abort",f),Promise.race([I({request:e,params:n.params,context:l.requestContext}),y])};try{let I=n.route[t];if(n.route.lazy)if(I){let A,y=await Promise.all([g(I).catch(w=>{A=w}),Q0(n.route,o,i)]);if(A)throw A;d=y[0]}else if(await Q0(n.route,o,i),I=n.route[t],I)d=await g(I);else if(t==="action"){let A=new URL(e.url),y=A.pathname+A.search;throw Rn(405,{method:e.method,pathname:y,routeId:n.route.id})}else return{type:Ze.data,data:void 0};else if(I)d=await g(I);else{let A=new URL(e.url),y=A.pathname+A.search;throw Rn(404,{pathname:y})}_e(d!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(I){u=Ze.error,d=I}finally{f&&e.signal.removeEventListener("abort",f)}if(iD(d)){let I=d.status;if(KN.has(I)){let y=d.headers.get("Location");if(_e(y,"Redirects returned/thrown from loaders/actions must have a Location header"),!pI.test(y))y=fm(new URL(e.url),r.slice(0,r.indexOf(n)+1),s,!0,y,a);else if(!l.isStaticRequest){let w=new URL(e.url),_=y.startsWith("//")?new URL(w.protocol+y):new URL(y),P=ma(_.pathname,s)!=null;_.origin===w.origin&&P&&(y=_.pathname+_.search+_.hash)}if(l.isStaticRequest)throw d.headers.set("Location",y),d;return{type:Ze.redirect,status:I,location:y,revalidate:d.headers.get("X-Remix-Revalidate")!==null,reloadDocument:d.headers.get("X-Remix-Reload-Document")!==null}}if(l.isRouteRequest)throw{type:u===Ze.error?Ze.error:Ze.data,response:d};let A;try{let y=d.headers.get("Content-Type");y&&/\bapplication\/json\b/.test(y)?d.body==null?A=null:A=await d.json():A=await d.text()}catch(y){return{type:Ze.error,error:y}}return u===Ze.error?{type:u,error:new lv(I,d.statusText,A),headers:d.headers}:{type:Ze.data,data:A,statusCode:d.status,headers:d.headers}}if(u===Ze.error)return{type:u,error:d};if(rD(d)){var v,E;return{type:Ze.deferred,deferredData:d,statusCode:(v=d.init)==null?void 0:v.status,headers:((E=d.init)==null?void 0:E.headers)&&new Headers(d.init.headers)}}return{type:Ze.data,data:d}}function Ba(t,e,n,r){let i=t.createURL(vI(e)).toString(),o={signal:n};if(r&&$n(r.formMethod)){let{formMethod:s,formEncType:a}=r;o.method=s.toUpperCase(),a==="application/json"?(o.headers=new Headers({"Content-Type":a}),o.body=JSON.stringify(r.json)):a==="text/plain"?o.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?o.body=pm(r.formData):o.body=r.formData}return new Request(i,o)}function pm(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function Y0(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function tD(t,e,n,r,i){let o={},s=null,a,l=!1,u={};return n.forEach((d,f)=>{let g=e[f].route.id;if(_e(!vo(d),"Cannot handle redirect results in processLoaderData"),ks(d)){let v=gl(t,g),E=d.error;r&&(E=Object.values(r)[0],r=void 0),s=s||{},s[v.route.id]==null&&(s[v.route.id]=E),o[g]=void 0,l||(l=!0,a=hI(d.error)?d.error.status:500),d.headers&&(u[g]=d.headers)}else go(d)?(i.set(g,d.deferredData),o[g]=d.deferredData.data):o[g]=d.data,d.statusCode!=null&&d.statusCode!==200&&!l&&(a=d.statusCode),d.headers&&(u[g]=d.headers)}),r&&(s=r,o[Object.keys(r)[0]]=void 0),{loaderData:o,errors:s,statusCode:a||200,loaderHeaders:u}}function X0(t,e,n,r,i,o,s,a){let{loaderData:l,errors:u}=tD(e,n,r,i,a);for(let d=0;d<o.length;d++){let{key:f,match:g,controller:v}=o[d];_e(s!==void 0&&s[d]!==void 0,"Did not find corresponding fetcher result");let E=s[d];if(!(v&&v.signal.aborted))if(ks(E)){let I=gl(t.matches,g==null?void 0:g.route.id);u&&u[I.route.id]||(u=tt({},u,{[I.route.id]:E.error})),t.fetchers.delete(f)}else if(vo(E))_e(!1,"Unhandled fetcher revalidation redirect");else if(go(E))_e(!1,"Unhandled fetcher deferred data");else{let I=di(E.data);t.fetchers.set(f,I)}}return{loaderData:l,errors:u}}function J0(t,e,n,r){let i=tt({},e);for(let o of n){let s=o.route.id;if(e.hasOwnProperty(s)?e[s]!==void 0&&(i[s]=e[s]):t[s]!==void 0&&o.route.loader&&(i[s]=t[s]),r&&r.hasOwnProperty(s))break}return i}function gl(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function Z0(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Rn(t,e){let{pathname:n,routeId:r,method:i,type:o}=e===void 0?{}:e,s="Unknown Server Error",a="Unknown @remix-run/router error";return t===400?(s="Bad Request",i&&n&&r?a="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":o==="defer-action"?a="defer() is not supported in actions":o==="invalid-body"&&(a="Unable to encode submission body")):t===403?(s="Forbidden",a='Route "'+r+'" does not match URL "'+n+'"'):t===404?(s="Not Found",a='No route matches URL "'+n+'"'):t===405&&(s="Method Not Allowed",i&&n&&r?a="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(a='Invalid request method "'+i.toUpperCase()+'"')),new lv(t||500,s,new Error(a),!0)}function e_(t){for(let e=t.length-1;e>=0;e--){let n=t[e];if(vo(n))return{result:n,idx:e}}}function vI(t){let e=typeof t=="string"?Xr(t):t;return No(tt({},e,{hash:""}))}function nD(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function go(t){return t.type===Ze.deferred}function ks(t){return t.type===Ze.error}function vo(t){return(t&&t.type)===Ze.redirect}function rD(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function iD(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function oD(t){return qN.has(t.toLowerCase())}function $n(t){return HN.has(t.toLowerCase())}async function t_(t,e,n,r,i,o){for(let s=0;s<n.length;s++){let a=n[s],l=e[s];if(!l)continue;let u=t.find(f=>f.route.id===l.route.id),d=u!=null&&!gI(u,l)&&(o&&o[l.route.id])!==void 0;if(go(a)&&(i||d)){let f=r[s];_e(f,"Expected an AbortSignal for revalidating fetcher deferred result"),await yI(a,f,i).then(g=>{g&&(n[s]=g||n[s])})}}}async function yI(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:Ze.data,data:t.deferredData.unwrappedData}}catch(i){return{type:Ze.error,error:i}}return{type:Ze.data,data:t.deferredData.data}}}function uv(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function mm(t,e){let n=typeof e=="string"?Xr(e).search:e.search;if(t[t.length-1].route.index&&uv(n||""))return t[t.length-1];let r=dI(t);return r[r.length-1]}function n_(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:o,json:s}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(o!=null)return{formMethod:e,formAction:n,formEncType:r,formData:o,json:void 0,text:void 0};if(s!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:s,text:void 0}}}function jf(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function sD(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function ja(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function aD(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function di(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function lD(t,e){try{let n=t.sessionStorage.getItem(mI);if(n){let r=JSON.parse(n);for(let[i,o]of Object.entries(r||{}))o&&Array.isArray(o)&&e.set(i,new Set(o||[]))}}catch{}}function uD(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(mI,JSON.stringify(n))}catch(r){Xs(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.22.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hl(){return Hl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hl.apply(this,arguments)}const ah=T.createContext(null),wI=T.createContext(null),zo=T.createContext(null),lh=T.createContext(null),Jr=T.createContext({outlet:null,matches:[],isDataRoute:!1}),_I=T.createContext(null);function cD(t,e){let{relative:n}=e===void 0?{}:e;wu()||_e(!1);let{basename:r,navigator:i}=T.useContext(zo),{hash:o,pathname:s,search:a}=II(t,{relative:n}),l=s;return r!=="/"&&(l=s==="/"?r:Mr([r,s])),i.createHref({pathname:l,search:a,hash:o})}function wu(){return T.useContext(lh)!=null}function uh(){return wu()||_e(!1),T.useContext(lh).location}function EI(t){T.useContext(zo).static||T.useLayoutEffect(t)}function ch(){let{isDataRoute:t}=T.useContext(Jr);return t?ID():dD()}function dD(){wu()||_e(!1);let t=T.useContext(ah),{basename:e,future:n,navigator:r}=T.useContext(zo),{matches:i}=T.useContext(Jr),{pathname:o}=uh(),s=JSON.stringify(sv(i,n.v7_relativeSplatPath)),a=T.useRef(!1);return EI(()=>{a.current=!0}),T.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let f=av(u,JSON.parse(s),o,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Mr([e,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[e,r,s,o,t])}const hD=T.createContext(null);function fD(t){let e=T.useContext(Jr).outlet;return e&&T.createElement(hD.Provider,{value:t},e)}function TI(){let{matches:t}=T.useContext(Jr),e=t[t.length-1];return e?e.params:{}}function II(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=T.useContext(zo),{matches:i}=T.useContext(Jr),{pathname:o}=uh(),s=JSON.stringify(sv(i,r.v7_relativeSplatPath));return T.useMemo(()=>av(t,JSON.parse(s),o,n==="path"),[t,s,o,n])}function pD(t,e,n,r){wu()||_e(!1);let{navigator:i}=T.useContext(zo),{matches:o}=T.useContext(Jr),s=o[o.length-1],a=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let u=uh(),d;if(e){var f;let A=typeof e=="string"?Xr(e):e;l==="/"||(f=A.pathname)!=null&&f.startsWith(l)||_e(!1),d=A}else d=u;let g=d.pathname||"/",v=g;if(l!=="/"){let A=l.replace(/^\//,"").split("/");v="/"+g.replace(/^\//,"").split("/").slice(A.length).join("/")}let E=Ps(t,{pathname:v}),I=wD(E&&E.map(A=>Object.assign({},A,{params:Object.assign({},a,A.params),pathname:Mr([l,i.encodeLocation?i.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?l:Mr([l,i.encodeLocation?i.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),o,n,r);return e&&I?T.createElement(lh.Provider,{value:{location:Hl({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:ut.Pop}},I):I}function mD(){let t=RI(),e=hI(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),n?T.createElement("pre",{style:i},n):null,null)}const gD=T.createElement(mD,null);class vD extends T.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?T.createElement(Jr.Provider,{value:this.props.routeContext},T.createElement(_I.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function yD(t){let{routeContext:e,match:n,children:r}=t,i=T.useContext(ah);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),T.createElement(Jr.Provider,{value:e},r)}function wD(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if((o=n)!=null&&o.errors)t=n.matches;else return null}let s=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let d=s.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id]));d>=0||_e(!1),s=s.slice(0,Math.min(s.length,d+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<s.length;d++){let f=s[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:g,errors:v}=n,E=f.route.loader&&g[f.route.id]===void 0&&(!v||v[f.route.id]===void 0);if(f.route.lazy||E){l=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((d,f,g)=>{let v,E=!1,I=null,A=null;n&&(v=a&&f.route.id?a[f.route.id]:void 0,I=f.route.errorElement||gD,l&&(u<0&&g===0?(SD("route-fallback",!1),E=!0,A=null):u===g&&(E=!0,A=f.route.hydrateFallbackElement||null)));let y=e.concat(s.slice(0,g+1)),w=()=>{let _;return v?_=I:E?_=A:f.route.Component?_=T.createElement(f.route.Component,null):f.route.element?_=f.route.element:_=d,T.createElement(yD,{match:f,routeContext:{outlet:d,matches:y,isDataRoute:n!=null},children:_})};return n&&(f.route.ErrorBoundary||f.route.errorElement||g===0)?T.createElement(vD,{location:n.location,revalidation:n.revalidation,component:I,error:v,children:w(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):w()},null)}var SI=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(SI||{}),yd=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(yd||{});function _D(t){let e=T.useContext(ah);return e||_e(!1),e}function ED(t){let e=T.useContext(wI);return e||_e(!1),e}function TD(t){let e=T.useContext(Jr);return e||_e(!1),e}function CI(t){let e=TD(),n=e.matches[e.matches.length-1];return n.route.id||_e(!1),n.route.id}function RI(){var t;let e=T.useContext(_I),n=ED(yd.UseRouteError),r=CI(yd.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function ID(){let{router:t}=_D(SI.UseNavigateStable),e=CI(yd.UseNavigateStable),n=T.useRef(!1);return EI(()=>{n.current=!0}),T.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Hl({fromRouteId:e},o)))},[t,e])}const r_={};function SD(t,e,n){!e&&!r_[t]&&(r_[t]=!0)}function AI(t){return fD(t.context)}function CD(t){let{basename:e="/",children:n=null,location:r,navigationType:i=ut.Pop,navigator:o,static:s=!1,future:a}=t;wu()&&_e(!1);let l=e.replace(/^\/*/,"/"),u=T.useMemo(()=>({basename:l,navigator:o,static:s,future:Hl({v7_relativeSplatPath:!1},a)}),[l,a,o,s]);typeof r=="string"&&(r=Xr(r));let{pathname:d="/",search:f="",hash:g="",state:v=null,key:E="default"}=r,I=T.useMemo(()=>{let A=ma(d,l);return A==null?null:{location:{pathname:A,search:f,hash:g,state:v,key:E},navigationType:i}},[l,d,f,g,v,E,i]);return I==null?null:T.createElement(zo.Provider,{value:u},T.createElement(lh.Provider,{children:n,value:I}))}new Promise(()=>{});function RD(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:T.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:T.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:T.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.22.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wl(){return Wl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wl.apply(this,arguments)}function AD(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function PD(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function kD(t,e){return t.button===0&&(!e||e==="_self")&&!PD(t)}const bD=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],xD="6";try{window.__reactRouterVersion=xD}catch{}function ND(t,e){return XN({basename:e==null?void 0:e.basename,future:Wl({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:_N({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||DD(),routes:t,mapRouteProperties:RD,window:e==null?void 0:e.window}).initialize()}function DD(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Wl({},e,{errors:OD(e.errors)})),e}function OD(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new lv(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let o=window[i.__subType];if(typeof o=="function")try{let s=new o(i.message);s.stack="",n[r]=s}catch{}}if(n[r]==null){let o=new Error(i.message);o.stack="",n[r]=o}}else n[r]=i;return n}const LD=T.createContext({isTransitioning:!1}),MD=T.createContext(new Map),VD="startTransition",i_=ub[VD],FD="flushSync",o_=wN[FD];function UD(t){i_?i_(t):t()}function $a(t){o_?o_(t):t()}let BD=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function jD(t){let{fallbackElement:e,router:n,future:r}=t,[i,o]=T.useState(n.state),[s,a]=T.useState(),[l,u]=T.useState({isTransitioning:!1}),[d,f]=T.useState(),[g,v]=T.useState(),[E,I]=T.useState(),A=T.useRef(new Map),{v7_startTransition:y}=r||{},w=T.useCallback(N=>{y?UD(N):N()},[y]),_=T.useCallback((N,M)=>{let{deletedFetchers:z,unstable_flushSync:K,unstable_viewTransitionOpts:ce}=M;z.forEach(ve=>A.current.delete(ve)),N.fetchers.forEach((ve,dt)=>{ve.data!==void 0&&A.current.set(dt,ve.data)});let Ne=n.window==null||typeof n.window.document.startViewTransition!="function";if(!ce||Ne){K?$a(()=>o(N)):w(()=>o(N));return}if(K){$a(()=>{g&&(d&&d.resolve(),g.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:ce.currentLocation,nextLocation:ce.nextLocation})});let ve=n.window.document.startViewTransition(()=>{$a(()=>o(N))});ve.finished.finally(()=>{$a(()=>{f(void 0),v(void 0),a(void 0),u({isTransitioning:!1})})}),$a(()=>v(ve));return}g?(d&&d.resolve(),g.skipTransition(),I({state:N,currentLocation:ce.currentLocation,nextLocation:ce.nextLocation})):(a(N),u({isTransitioning:!0,flushSync:!1,currentLocation:ce.currentLocation,nextLocation:ce.nextLocation}))},[n.window,g,d,A,w]);T.useLayoutEffect(()=>n.subscribe(_),[n,_]),T.useEffect(()=>{l.isTransitioning&&!l.flushSync&&f(new BD)},[l]),T.useEffect(()=>{if(d&&s&&n.window){let N=s,M=d.promise,z=n.window.document.startViewTransition(async()=>{w(()=>o(N)),await M});z.finished.finally(()=>{f(void 0),v(void 0),a(void 0),u({isTransitioning:!1})}),v(z)}},[w,s,d,n.window]),T.useEffect(()=>{d&&s&&i.location.key===s.location.key&&d.resolve()},[d,g,i.location,s]),T.useEffect(()=>{!l.isTransitioning&&E&&(a(E.state),u({isTransitioning:!0,flushSync:!1,currentLocation:E.currentLocation,nextLocation:E.nextLocation}),I(void 0))},[l.isTransitioning,E]),T.useEffect(()=>{},[]);let P=T.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:N=>n.navigate(N),push:(N,M,z)=>n.navigate(N,{state:M,preventScrollReset:z==null?void 0:z.preventScrollReset}),replace:(N,M,z)=>n.navigate(N,{replace:!0,state:M,preventScrollReset:z==null?void 0:z.preventScrollReset})}),[n]),D=n.basename||"/",S=T.useMemo(()=>({router:n,navigator:P,static:!1,basename:D}),[n,P,D]);return T.createElement(T.Fragment,null,T.createElement(ah.Provider,{value:S},T.createElement(wI.Provider,{value:i},T.createElement(MD.Provider,{value:A.current},T.createElement(LD.Provider,{value:l},T.createElement(CD,{basename:D,location:i.location,navigationType:i.historyAction,navigator:P,future:{v7_relativeSplatPath:n.future.v7_relativeSplatPath}},i.initialized||n.future.v7_partialHydration?T.createElement($D,{routes:n.routes,future:n.future,state:i}):e))))),null)}function $D(t){let{routes:e,future:n,state:r}=t;return pD(e,void 0,r,n)}const zD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",HD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ji=T.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:o,replace:s,state:a,target:l,to:u,preventScrollReset:d,unstable_viewTransition:f}=e,g=AD(e,bD),{basename:v}=T.useContext(zo),E,I=!1;if(typeof u=="string"&&HD.test(u)&&(E=u,zD))try{let _=new URL(window.location.href),P=u.startsWith("//")?new URL(_.protocol+u):new URL(u),D=ma(P.pathname,v);P.origin===_.origin&&D!=null?u=D+P.search+P.hash:I=!0}catch{}let A=cD(u,{relative:i}),y=WD(u,{replace:s,state:a,target:l,preventScrollReset:d,relative:i,unstable_viewTransition:f});function w(_){r&&r(_),_.defaultPrevented||y(_)}return T.createElement("a",Wl({},g,{href:E||A,onClick:I||o?r:w,ref:n,target:l}))});var s_;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(s_||(s_={}));var a_;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(a_||(a_={}));function WD(t,e){let{target:n,replace:r,state:i,preventScrollReset:o,relative:s,unstable_viewTransition:a}=e===void 0?{}:e,l=ch(),u=uh(),d=II(t,{relative:s});return T.useCallback(f=>{if(kD(f,n)){f.preventDefault();let g=r!==void 0?r:No(u)===No(d);l(t,{replace:g,state:i,preventScrollReset:o,relative:s,unstable_viewTransition:a})}},[u,l,d,r,i,n,t,o,s,a])}var PI={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var o="",s=0;s<arguments.length;s++){var a=arguments[s];a&&(o=i(o,r(a)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return n.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var s="";for(var a in o)e.call(o,a)&&o[a]&&(s=i(s,a));return s}function i(o,s){return s?o?o+" "+s:o+s:o}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(PI);var qD=PI.exports;const ae=fu(qD);function gm(){return gm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gm.apply(this,arguments)}function kI(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function l_(t){return"default"+t.charAt(0).toUpperCase()+t.substr(1)}function KD(t){var e=GD(t,"string");return typeof e=="symbol"?e:String(e)}function GD(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function QD(t,e,n){var r=T.useRef(t!==void 0),i=T.useState(e),o=i[0],s=i[1],a=t!==void 0,l=r.current;return r.current=a,!a&&l&&o!==e&&s(e),[a?t:o,T.useCallback(function(u){for(var d=arguments.length,f=new Array(d>1?d-1:0),g=1;g<d;g++)f[g-1]=arguments[g];n&&n.apply(void 0,[u].concat(f)),s(u)},[n])]}function bI(t,e){return Object.keys(e).reduce(function(n,r){var i,o=n,s=o[l_(r)],a=o[r],l=kI(o,[l_(r),r].map(KD)),u=e[r],d=QD(a,s,t[u]),f=d[0],g=d[1];return gm({},l,(i={},i[r]=f,i[u]=g,i))},t)}function vm(t,e){return vm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},vm(t,e)}function YD(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,vm(t,e)}const xI=["xxl","xl","lg","md","sm","xs"],NI="xs",cv=T.createContext({prefixes:{},breakpoints:xI,minBreakpoint:NI});function pe(t,e){const{prefixes:n}=T.useContext(cv);return t||n[e]||e}function dv(){const{breakpoints:t}=T.useContext(cv);return t}function hv(){const{minBreakpoint:t}=T.useContext(cv);return t}function fv(t){return t&&t.ownerDocument||document}function XD(t){var e=fv(t);return e&&e.defaultView||window}function JD(t,e){return XD(t).getComputedStyle(t,e)}var ZD=/([A-Z])/g;function eO(t){return t.replace(ZD,"-$1").toLowerCase()}var tO=/^ms-/;function fc(t){return eO(t).replace(tO,"-ms-")}var nO=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function rO(t){return!!(t&&nO.test(t))}function Vr(t,e){var n="",r="";if(typeof e=="string")return t.style.getPropertyValue(fc(e))||JD(t).getPropertyValue(fc(e));Object.keys(e).forEach(function(i){var o=e[i];!o&&o!==0?t.style.removeProperty(fc(i)):rO(i)?r+=i+"("+o+") ":n+=fc(i)+": "+o+";"}),r&&(n+="transform: "+r+";"),t.style.cssText+=";"+n}var DI={exports:{}},iO="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",oO=iO,sO=oO;function OI(){}function LI(){}LI.resetWarningCache=OI;var aO=function(){function t(r,i,o,s,a,l){if(l!==sO){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:LI,resetWarningCache:OI};return n.PropTypes=n,n};DI.exports=aO();var lO=DI.exports;const Fr=fu(lO),u_={disabled:!1},MI=Wn.createContext(null);var uO=function(e){return e.scrollTop},Za="unmounted",pi="exited",Hn="entering",kr="entered",ql="exiting",Zr=function(t){YD(e,t);function e(r,i){var o;o=t.call(this,r,i)||this;var s=i,a=s&&!s.isMounting?r.enter:r.appear,l;return o.appearStatus=null,r.in?a?(l=pi,o.appearStatus=Hn):l=kr:r.unmountOnExit||r.mountOnEnter?l=Za:l=pi,o.state={status:l},o.nextCallback=null,o}e.getDerivedStateFromProps=function(i,o){var s=i.in;return s&&o.status===Za?{status:pi}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var o=null;if(i!==this.props){var s=this.state.status;this.props.in?s!==Hn&&s!==kr&&(o=Hn):(s===Hn||s===kr)&&(o=ql)}this.updateStatus(!1,o)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,o,s,a;return o=s=a=i,i!=null&&typeof i!="number"&&(o=i.exit,s=i.enter,a=i.appear!==void 0?i.appear:s),{exit:o,enter:s,appear:a}},n.updateStatus=function(i,o){if(i===void 0&&(i=!1),o!==null)if(this.cancelNextCallback(),o===Hn){if(this.props.unmountOnExit||this.props.mountOnEnter){var s=this.props.nodeRef?this.props.nodeRef.current:mo.findDOMNode(this);s&&uO(s)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===pi&&this.setState({status:Za})},n.performEnter=function(i){var o=this,s=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[mo.findDOMNode(this),a],u=l[0],d=l[1],f=this.getTimeouts(),g=a?f.appear:f.enter;if(!i&&!s||u_.disabled){this.safeSetState({status:kr},function(){o.props.onEntered(u)});return}this.props.onEnter(u,d),this.safeSetState({status:Hn},function(){o.props.onEntering(u,d),o.onTransitionEnd(g,function(){o.safeSetState({status:kr},function(){o.props.onEntered(u,d)})})})},n.performExit=function(){var i=this,o=this.props.exit,s=this.getTimeouts(),a=this.props.nodeRef?void 0:mo.findDOMNode(this);if(!o||u_.disabled){this.safeSetState({status:pi},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:ql},function(){i.props.onExiting(a),i.onTransitionEnd(s.exit,function(){i.safeSetState({status:pi},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},n.setNextCallback=function(i){var o=this,s=!0;return this.nextCallback=function(a){s&&(s=!1,o.nextCallback=null,i(a))},this.nextCallback.cancel=function(){s=!1},this.nextCallback},n.onTransitionEnd=function(i,o){this.setNextCallback(o);var s=this.props.nodeRef?this.props.nodeRef.current:mo.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!s||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[s,this.nextCallback],u=l[0],d=l[1];this.props.addEndListener(u,d)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===Za)return null;var o=this.props,s=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var a=kI(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Wn.createElement(MI.Provider,{value:null},typeof s=="function"?s(i,a):Wn.cloneElement(Wn.Children.only(s),a))},e}(Wn.Component);Zr.contextType=MI;Zr.propTypes={};function us(){}Zr.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:us,onEntering:us,onEntered:us,onExit:us,onExiting:us,onExited:us};Zr.UNMOUNTED=Za;Zr.EXITED=pi;Zr.ENTERING=Hn;Zr.ENTERED=kr;Zr.EXITING=ql;const cO=Zr,dh=!!(typeof window<"u"&&window.document&&window.document.createElement);var ym=!1,wm=!1;try{var $f={get passive(){return ym=!0},get once(){return wm=ym=!0}};dh&&(window.addEventListener("test",$f,$f),window.removeEventListener("test",$f,!0))}catch{}function dO(t,e,n,r){if(r&&typeof r!="boolean"&&!wm){var i=r.once,o=r.capture,s=n;!wm&&i&&(s=n.__once||function a(l){this.removeEventListener(e,a,o),n.call(this,l)},n.__once=s),t.addEventListener(e,s,ym?r:o)}t.addEventListener(e,n,r)}function hO(t,e,n,r){var i=r&&typeof r!="boolean"?r.capture:r;t.removeEventListener(e,n,i),n.__once&&t.removeEventListener(e,n.__once,i)}function wd(t,e,n,r){return dO(t,e,n,r),function(){hO(t,e,n,r)}}function fO(t,e,n,r){if(n===void 0&&(n=!1),r===void 0&&(r=!0),t){var i=document.createEvent("HTMLEvents");i.initEvent(e,n,r),t.dispatchEvent(i)}}function pO(t){var e=Vr(t,"transitionDuration")||"",n=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*n}function mO(t,e,n){n===void 0&&(n=5);var r=!1,i=setTimeout(function(){r||fO(t,"transitionend",!0)},e+n),o=wd(t,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(i),o()}}function gO(t,e,n,r){n==null&&(n=pO(t)||0);var i=mO(t,n,r),o=wd(t,"transitionend",e);return function(){i(),o()}}function c_(t,e){const n=Vr(t,e)||"",r=n.indexOf("ms")===-1?1e3:1;return parseFloat(n)*r}function pv(t,e){const n=c_(t,"transitionDuration"),r=c_(t,"transitionDelay"),i=gO(t,o=>{o.target===t&&(i(),e(o))},n+r)}function za(...t){return t.filter(e=>e!=null).reduce((e,n)=>{if(typeof n!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return e===null?n:function(...i){e.apply(this,i),n.apply(this,i)}},null)}function VI(t){t.offsetHeight}const d_=t=>!t||typeof t=="function"?t:e=>{t.current=e};function vO(t,e){const n=d_(t),r=d_(e);return i=>{n&&n(i),r&&r(i)}}function mv(t,e){return T.useMemo(()=>vO(t,e),[t,e])}function yO(t){return t&&"setState"in t?mo.findDOMNode(t):t??null}const wO=Wn.forwardRef(({onEnter:t,onEntering:e,onEntered:n,onExit:r,onExiting:i,onExited:o,addEndListener:s,children:a,childRef:l,...u},d)=>{const f=T.useRef(null),g=mv(f,l),v=S=>{g(yO(S))},E=S=>N=>{S&&f.current&&S(f.current,N)},I=T.useCallback(E(t),[t]),A=T.useCallback(E(e),[e]),y=T.useCallback(E(n),[n]),w=T.useCallback(E(r),[r]),_=T.useCallback(E(i),[i]),P=T.useCallback(E(o),[o]),D=T.useCallback(E(s),[s]);return R.jsx(cO,{ref:d,...u,onEnter:I,onEntered:y,onEntering:A,onExit:w,onExited:P,onExiting:_,addEndListener:D,nodeRef:f,children:typeof a=="function"?(S,N)=>a(S,{...N,ref:v}):Wn.cloneElement(a,{ref:v})})}),gv=wO,_O={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function EO(t,e){const n=`offset${t[0].toUpperCase()}${t.slice(1)}`,r=e[n],i=_O[t];return r+parseInt(Vr(e,i[0]),10)+parseInt(Vr(e,i[1]),10)}const TO={[pi]:"collapse",[ql]:"collapsing",[Hn]:"collapsing",[kr]:"collapse show"},IO=Wn.forwardRef(({onEnter:t,onEntering:e,onEntered:n,onExit:r,onExiting:i,className:o,children:s,dimension:a="height",in:l=!1,timeout:u=300,mountOnEnter:d=!1,unmountOnExit:f=!1,appear:g=!1,getDimensionValue:v=EO,...E},I)=>{const A=typeof a=="function"?a():a,y=T.useMemo(()=>za(S=>{S.style[A]="0"},t),[A,t]),w=T.useMemo(()=>za(S=>{const N=`scroll${A[0].toUpperCase()}${A.slice(1)}`;S.style[A]=`${S[N]}px`},e),[A,e]),_=T.useMemo(()=>za(S=>{S.style[A]=null},n),[A,n]),P=T.useMemo(()=>za(S=>{S.style[A]=`${v(A,S)}px`,VI(S)},r),[r,v,A]),D=T.useMemo(()=>za(S=>{S.style[A]=null},i),[A,i]);return R.jsx(gv,{ref:I,addEndListener:pv,...E,"aria-expanded":E.role?l:null,onEnter:y,onEntering:w,onEntered:_,onExit:P,onExiting:D,childRef:s.ref,in:l,timeout:u,mountOnEnter:d,unmountOnExit:f,appear:g,children:(S,N)=>Wn.cloneElement(s,{...N,className:ae(o,s.props.className,TO[S],A==="width"&&"collapse-horizontal")})})}),SO=IO;function CO(t){const e=T.useRef(t);return T.useEffect(()=>{e.current=t},[t]),e}function kn(t){const e=CO(t);return T.useCallback(function(...n){return e.current&&e.current(...n)},[e])}const hh=t=>T.forwardRef((e,n)=>R.jsx("div",{...e,ref:n,className:ae(e.className,t)})),FI=hh("h4");FI.displayName="DivStyledAsH4";const UI=T.forwardRef(({className:t,bsPrefix:e,as:n=FI,...r},i)=>(e=pe(e,"alert-heading"),R.jsx(n,{ref:i,className:ae(t,e),...r})));UI.displayName="AlertHeading";const RO=UI;function AO(){const t=T.useRef(!0),e=T.useRef(()=>t.current);return T.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[]),e.current}function PO(t){const e=T.useRef(null);return T.useEffect(()=>{e.current=t}),e.current}const kO=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",bO=typeof document<"u",_m=bO||kO?T.useLayoutEffect:T.useEffect,xO=["as","disabled"];function NO(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function DO(t){return!t||t.trim()==="#"}function vv({tagName:t,disabled:e,href:n,target:r,rel:i,role:o,onClick:s,tabIndex:a=0,type:l}){t||(n!=null||r!=null||i!=null?t="a":t="button");const u={tagName:t};if(t==="button")return[{type:l||"button",disabled:e},u];const d=g=>{if((e||t==="a"&&DO(n))&&g.preventDefault(),e){g.stopPropagation();return}s==null||s(g)},f=g=>{g.key===" "&&(g.preventDefault(),d(g))};return t==="a"&&(n||(n="#"),e&&(n=void 0)),[{role:o??"button",disabled:void 0,tabIndex:e?void 0:a,href:n,target:t==="a"?r:void 0,"aria-disabled":e||void 0,rel:t==="a"?i:void 0,onClick:d,onKeyDown:f},u]}const OO=T.forwardRef((t,e)=>{let{as:n,disabled:r}=t,i=NO(t,xO);const[o,{tagName:s}]=vv(Object.assign({tagName:n,disabled:r},i));return R.jsx(s,Object.assign({},i,o,{ref:e}))});OO.displayName="Button";const LO=["onKeyDown"];function MO(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function VO(t){return!t||t.trim()==="#"}const BI=T.forwardRef((t,e)=>{let{onKeyDown:n}=t,r=MO(t,LO);const[i]=vv(Object.assign({tagName:"a"},r)),o=kn(s=>{i.onKeyDown(s),n==null||n(s)});return VO(r.href)||r.role==="button"?R.jsx("a",Object.assign({ref:e},r,i,{onKeyDown:o})):R.jsx("a",Object.assign({ref:e},r,{onKeyDown:n}))});BI.displayName="Anchor";const FO=BI,jI=T.forwardRef(({className:t,bsPrefix:e,as:n=FO,...r},i)=>(e=pe(e,"alert-link"),R.jsx(n,{ref:i,className:ae(t,e),...r})));jI.displayName="AlertLink";const UO=jI,BO={[Hn]:"show",[kr]:"show"},$I=T.forwardRef(({className:t,children:e,transitionClasses:n={},onEnter:r,...i},o)=>{const s={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...i},a=T.useCallback((l,u)=>{VI(l),r==null||r(l,u)},[r]);return R.jsx(gv,{ref:o,addEndListener:pv,...s,onEnter:a,childRef:e.ref,children:(l,u)=>T.cloneElement(e,{...u,className:ae("fade",t,e.props.className,BO[l],n[l])})})});$I.displayName="Fade";const Em=$I,jO={"aria-label":Fr.string,onClick:Fr.func,variant:Fr.oneOf(["white"])},yv=T.forwardRef(({className:t,variant:e,"aria-label":n="Close",...r},i)=>R.jsx("button",{ref:i,type:"button",className:ae("btn-close",e&&`btn-close-${e}`,t),"aria-label":n,...r}));yv.displayName="CloseButton";yv.propTypes=jO;const zI=yv,HI=T.forwardRef((t,e)=>{const{bsPrefix:n,show:r=!0,closeLabel:i="Close alert",closeVariant:o,className:s,children:a,variant:l="primary",onClose:u,dismissible:d,transition:f=Em,...g}=bI(t,{show:"onClose"}),v=pe(n,"alert"),E=kn(y=>{u&&u(!1,y)}),I=f===!0?Em:f,A=R.jsxs("div",{role:"alert",...I?void 0:g,ref:e,className:ae(s,v,l&&`${v}-${l}`,d&&`${v}-dismissible`),children:[d&&R.jsx(zI,{onClick:E,"aria-label":i,variant:o}),a]});return I?R.jsx(I,{unmountOnExit:!0,...g,ref:void 0,in:r,children:A}):r?A:null});HI.displayName="Alert";const $O=Object.assign(HI,{Link:UO,Heading:RO}),WI=T.forwardRef(({as:t,bsPrefix:e,variant:n="primary",size:r,active:i=!1,disabled:o=!1,className:s,...a},l)=>{const u=pe(e,"btn"),[d,{tagName:f}]=vv({tagName:t,disabled:o,...a}),g=f;return R.jsx(g,{...d,...a,ref:l,disabled:o,className:ae(s,u,i&&"active",n&&`${u}-${n}`,r&&`${u}-${r}`,a.href&&o&&"disabled")})});WI.displayName="Button";const Hr=WI,qI=T.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},i)=>(e=pe(e,"card-body"),R.jsx(n,{ref:i,className:ae(t,e),...r})));qI.displayName="CardBody";const KI=qI,GI=T.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},i)=>(e=pe(e,"card-footer"),R.jsx(n,{ref:i,className:ae(t,e),...r})));GI.displayName="CardFooter";const zO=GI,QI=T.createContext(null);QI.displayName="CardHeaderContext";const HO=QI,YI=T.forwardRef(({bsPrefix:t,className:e,as:n="div",...r},i)=>{const o=pe(t,"card-header"),s=T.useMemo(()=>({cardHeaderBsPrefix:o}),[o]);return R.jsx(HO.Provider,{value:s,children:R.jsx(n,{ref:i,...r,className:ae(e,o)})})});YI.displayName="CardHeader";const WO=YI,XI=T.forwardRef(({bsPrefix:t,className:e,variant:n,as:r="img",...i},o)=>{const s=pe(t,"card-img");return R.jsx(r,{ref:o,className:ae(n?`${s}-${n}`:s,e),...i})});XI.displayName="CardImg";const qO=XI,JI=T.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},i)=>(e=pe(e,"card-img-overlay"),R.jsx(n,{ref:i,className:ae(t,e),...r})));JI.displayName="CardImgOverlay";const KO=JI,ZI=T.forwardRef(({className:t,bsPrefix:e,as:n="a",...r},i)=>(e=pe(e,"card-link"),R.jsx(n,{ref:i,className:ae(t,e),...r})));ZI.displayName="CardLink";const GO=ZI,QO=hh("h6"),eS=T.forwardRef(({className:t,bsPrefix:e,as:n=QO,...r},i)=>(e=pe(e,"card-subtitle"),R.jsx(n,{ref:i,className:ae(t,e),...r})));eS.displayName="CardSubtitle";const YO=eS,tS=T.forwardRef(({className:t,bsPrefix:e,as:n="p",...r},i)=>(e=pe(e,"card-text"),R.jsx(n,{ref:i,className:ae(t,e),...r})));tS.displayName="CardText";const XO=tS,JO=hh("h5"),nS=T.forwardRef(({className:t,bsPrefix:e,as:n=JO,...r},i)=>(e=pe(e,"card-title"),R.jsx(n,{ref:i,className:ae(t,e),...r})));nS.displayName="CardTitle";const ZO=nS,rS=T.forwardRef(({bsPrefix:t,className:e,bg:n,text:r,border:i,body:o=!1,children:s,as:a="div",...l},u)=>{const d=pe(t,"card");return R.jsx(a,{ref:u,...l,className:ae(e,d,n&&`bg-${n}`,r&&`text-${r}`,i&&`border-${i}`),children:o?R.jsx(KI,{children:s}):s})});rS.displayName="Card";const Ha=Object.assign(rS,{Img:qO,Title:ZO,Subtitle:YO,Body:KI,Link:GO,Text:XO,Header:WO,Footer:zO,ImgOverlay:KO});function eL(t){const e=T.useRef(t);return e.current=t,e}function tL(t){const e=eL(t);T.useEffect(()=>()=>e.current(),[])}function nL(t,e){return T.Children.toArray(t).some(n=>T.isValidElement(n)&&n.type===e)}function rL({as:t,bsPrefix:e,className:n,...r}){e=pe(e,"col");const i=dv(),o=hv(),s=[],a=[];return i.forEach(l=>{const u=r[l];delete r[l];let d,f,g;typeof u=="object"&&u!=null?{span:d,offset:f,order:g}=u:d=u;const v=l!==o?`-${l}`:"";d&&s.push(d===!0?`${e}${v}`:`${e}${v}-${d}`),g!=null&&a.push(`order${v}-${g}`),f!=null&&a.push(`offset${v}-${f}`)}),[{...r,className:ae(n,...s,...a)},{as:t,bsPrefix:e,spans:s}]}const iS=T.forwardRef((t,e)=>{const[{className:n,...r},{as:i="div",bsPrefix:o,spans:s}]=rL(t);return R.jsx(i,{...r,ref:e,className:ae(n,!s.length&&o)})});iS.displayName="Col";const ar=iS,oS=T.forwardRef(({bsPrefix:t,fluid:e=!1,as:n="div",className:r,...i},o)=>{const s=pe(t,"container"),a=typeof e=="string"?`-${e}`:"-fluid";return R.jsx(n,{ref:o,...i,className:ae(r,e?`${s}${a}`:s)})});oS.displayName="Container";const Wr=oS;var iL=Function.prototype.bind.call(Function.prototype.call,[].slice);function cs(t,e){return iL(t.querySelectorAll(e))}function h_(t,e){if(t.contains)return t.contains(e);if(t.compareDocumentPosition)return t===e||!!(t.compareDocumentPosition(e)&16)}const oL=T.createContext(null),sL=oL,aL="data-rr-ui-";function lL(t){return`${aL}${t}`}const sS=T.createContext(dh?window:void 0);sS.Provider;function wv(){return T.useContext(sS)}const aS=T.createContext(null);aS.displayName="NavbarContext";const _u=aS,uL={type:Fr.string,tooltip:Fr.bool,as:Fr.elementType},_v=T.forwardRef(({as:t="div",className:e,type:n="valid",tooltip:r=!1,...i},o)=>R.jsx(t,{...i,ref:o,className:ae(e,`${n}-${r?"tooltip":"feedback"}`)}));_v.displayName="Feedback";_v.propTypes=uL;const lS=_v,cL=T.createContext({}),qr=cL,uS=T.forwardRef(({id:t,bsPrefix:e,className:n,type:r="checkbox",isValid:i=!1,isInvalid:o=!1,as:s="input",...a},l)=>{const{controlId:u}=T.useContext(qr);return e=pe(e,"form-check-input"),R.jsx(s,{...a,ref:l,type:r,id:t||u,className:ae(n,e,i&&"is-valid",o&&"is-invalid")})});uS.displayName="FormCheckInput";const cS=uS,dS=T.forwardRef(({bsPrefix:t,className:e,htmlFor:n,...r},i)=>{const{controlId:o}=T.useContext(qr);return t=pe(t,"form-check-label"),R.jsx("label",{...r,ref:i,htmlFor:n||o,className:ae(e,t)})});dS.displayName="FormCheckLabel";const Tm=dS,hS=T.forwardRef(({id:t,bsPrefix:e,bsSwitchPrefix:n,inline:r=!1,reverse:i=!1,disabled:o=!1,isValid:s=!1,isInvalid:a=!1,feedbackTooltip:l=!1,feedback:u,feedbackType:d,className:f,style:g,title:v="",type:E="checkbox",label:I,children:A,as:y="input",...w},_)=>{e=pe(e,"form-check"),n=pe(n,"form-switch");const{controlId:P}=T.useContext(qr),D=T.useMemo(()=>({controlId:t||P}),[P,t]),S=!A&&I!=null&&I!==!1||nL(A,Tm),N=R.jsx(cS,{...w,type:E==="switch"?"checkbox":E,ref:_,isValid:s,isInvalid:a,disabled:o,as:y});return R.jsx(qr.Provider,{value:D,children:R.jsx("div",{style:g,className:ae(f,S&&e,r&&`${e}-inline`,i&&`${e}-reverse`,E==="switch"&&n),children:A||R.jsxs(R.Fragment,{children:[N,S&&R.jsx(Tm,{title:v,children:I}),u&&R.jsx(lS,{type:d,tooltip:l,children:u})]})})})});hS.displayName="FormCheck";const _d=Object.assign(hS,{Input:cS,Label:Tm}),fS=T.forwardRef(({bsPrefix:t,type:e,size:n,htmlSize:r,id:i,className:o,isValid:s=!1,isInvalid:a=!1,plaintext:l,readOnly:u,as:d="input",...f},g)=>{const{controlId:v}=T.useContext(qr);return t=pe(t,"form-control"),R.jsx(d,{...f,type:e,size:r,ref:g,readOnly:u,id:i||v,className:ae(o,l?`${t}-plaintext`:t,n&&`${t}-${n}`,e==="color"&&`${t}-color`,s&&"is-valid",a&&"is-invalid")})});fS.displayName="FormControl";const dL=Object.assign(fS,{Feedback:lS}),pS=T.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},i)=>(e=pe(e,"form-floating"),R.jsx(n,{ref:i,className:ae(t,e),...r})));pS.displayName="FormFloating";const hL=pS,mS=T.forwardRef(({controlId:t,as:e="div",...n},r)=>{const i=T.useMemo(()=>({controlId:t}),[t]);return R.jsx(qr.Provider,{value:i,children:R.jsx(e,{...n,ref:r})})});mS.displayName="FormGroup";const gS=mS,vS=T.forwardRef(({as:t="label",bsPrefix:e,column:n=!1,visuallyHidden:r=!1,className:i,htmlFor:o,...s},a)=>{const{controlId:l}=T.useContext(qr);e=pe(e,"form-label");let u="col-form-label";typeof n=="string"&&(u=`${u} ${u}-${n}`);const d=ae(i,e,r&&"visually-hidden",n&&u);return o=o||l,n?R.jsx(ar,{ref:a,as:"label",className:d,htmlFor:o,...s}):R.jsx(t,{ref:a,className:d,htmlFor:o,...s})});vS.displayName="FormLabel";const fL=vS,yS=T.forwardRef(({bsPrefix:t,className:e,id:n,...r},i)=>{const{controlId:o}=T.useContext(qr);return t=pe(t,"form-range"),R.jsx("input",{...r,type:"range",ref:i,className:ae(e,t),id:n||o})});yS.displayName="FormRange";const pL=yS,wS=T.forwardRef(({bsPrefix:t,size:e,htmlSize:n,className:r,isValid:i=!1,isInvalid:o=!1,id:s,...a},l)=>{const{controlId:u}=T.useContext(qr);return t=pe(t,"form-select"),R.jsx("select",{...a,size:n,ref:l,className:ae(r,t,e&&`${t}-${e}`,i&&"is-valid",o&&"is-invalid"),id:s||u})});wS.displayName="FormSelect";const mL=wS,_S=T.forwardRef(({bsPrefix:t,className:e,as:n="small",muted:r,...i},o)=>(t=pe(t,"form-text"),R.jsx(n,{...i,ref:o,className:ae(e,t,r&&"text-muted")})));_S.displayName="FormText";const gL=_S,ES=T.forwardRef((t,e)=>R.jsx(_d,{...t,ref:e,type:"switch"}));ES.displayName="Switch";const vL=Object.assign(ES,{Input:_d.Input,Label:_d.Label}),TS=T.forwardRef(({bsPrefix:t,className:e,children:n,controlId:r,label:i,...o},s)=>(t=pe(t,"form-floating"),R.jsxs(gS,{ref:s,className:ae(e,t),controlId:r,...o,children:[n,R.jsx("label",{htmlFor:r,children:i})]})));TS.displayName="FloatingLabel";const yL=TS,wL={_ref:Fr.any,validated:Fr.bool,as:Fr.elementType},Ev=T.forwardRef(({className:t,validated:e,as:n="form",...r},i)=>R.jsx(n,{...r,ref:i,className:ae(t,e&&"was-validated")}));Ev.displayName="Form";Ev.propTypes=wL;const ie=Object.assign(Ev,{Group:gS,Control:dL,Floating:hL,Check:_d,Switch:vL,Label:fL,Text:gL,Range:pL,Select:mL,FloatingLabel:yL});function zf(t){t===void 0&&(t=fv());try{var e=t.activeElement;return!e||!e.nodeName?null:e}catch{return t.body}}function _L(t=document){const e=t.defaultView;return Math.abs(e.innerWidth-t.documentElement.clientWidth)}const f_=lL("modal-open");class EL{constructor({ownerDocument:e,handleContainerOverflow:n=!0,isRTL:r=!1}={}){this.handleContainerOverflow=n,this.isRTL=r,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return _L(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const n={overflow:"hidden"},r=this.isRTL?"paddingLeft":"paddingRight",i=this.getElement();e.style={overflow:i.style.overflow,[r]:i.style[r]},e.scrollBarWidth&&(n[r]=`${parseInt(Vr(i,r)||"0",10)+e.scrollBarWidth}px`),i.setAttribute(f_,""),Vr(i,n)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const n=this.getElement();n.removeAttribute(f_),Object.assign(n.style,e.style)}add(e){let n=this.modals.indexOf(e);return n!==-1||(n=this.modals.length,this.modals.push(e),this.setModalAttributes(e),n!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),n}remove(e){const n=this.modals.indexOf(e);n!==-1&&(this.modals.splice(n,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const Tv=EL,Hf=(t,e)=>dh?t==null?(e||fv()).body:(typeof t=="function"&&(t=t()),t&&"current"in t&&(t=t.current),t&&("nodeType"in t||t.getBoundingClientRect)?t:null):null;function TL(t,e){const n=wv(),[r,i]=T.useState(()=>Hf(t,n==null?void 0:n.document));if(!r){const o=Hf(t);o&&i(o)}return T.useEffect(()=>{e&&r&&e(r)},[e,r]),T.useEffect(()=>{const o=Hf(t);o!==r&&i(o)},[t,r]),r}function IL({children:t,in:e,onExited:n,mountOnEnter:r,unmountOnExit:i}){const o=T.useRef(null),s=T.useRef(e),a=kn(n);T.useEffect(()=>{e?s.current=!0:a(o.current)},[e,a]);const l=mv(o,t.ref),u=T.cloneElement(t,{ref:l});return e?u:i||!s.current&&r?null:u}function SL({in:t,onTransition:e}){const n=T.useRef(null),r=T.useRef(!0),i=kn(e);return _m(()=>{if(!n.current)return;let o=!1;return i({in:t,element:n.current,initial:r.current,isStale:()=>o}),()=>{o=!0}},[t,i]),_m(()=>(r.current=!1,()=>{r.current=!0}),[]),n}function CL({children:t,in:e,onExited:n,onEntered:r,transition:i}){const[o,s]=T.useState(!e);e&&o&&s(!1);const a=SL({in:!!e,onTransition:u=>{const d=()=>{u.isStale()||(u.in?r==null||r(u.element,u.initial):(s(!0),n==null||n(u.element)))};Promise.resolve(i(u)).then(d,f=>{throw u.in||s(!0),f})}}),l=mv(a,t.ref);return o&&!e?null:T.cloneElement(t,{ref:l})}function p_(t,e,n){return t?R.jsx(t,Object.assign({},n)):e?R.jsx(CL,Object.assign({},n,{transition:e})):R.jsx(IL,Object.assign({},n))}function RL(t){return t.code==="Escape"||t.keyCode===27}const AL=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function PL(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}let Wf;function kL(t){return Wf||(Wf=new Tv({ownerDocument:t==null?void 0:t.document})),Wf}function bL(t){const e=wv(),n=t||kL(e),r=T.useRef({dialog:null,backdrop:null});return Object.assign(r.current,{add:()=>n.add(r.current),remove:()=>n.remove(r.current),isTopModal:()=>n.isTopModal(r.current),setDialogRef:T.useCallback(i=>{r.current.dialog=i},[]),setBackdropRef:T.useCallback(i=>{r.current.backdrop=i},[])})}const IS=T.forwardRef((t,e)=>{let{show:n=!1,role:r="dialog",className:i,style:o,children:s,backdrop:a=!0,keyboard:l=!0,onBackdropClick:u,onEscapeKeyDown:d,transition:f,runTransition:g,backdropTransition:v,runBackdropTransition:E,autoFocus:I=!0,enforceFocus:A=!0,restoreFocus:y=!0,restoreFocusOptions:w,renderDialog:_,renderBackdrop:P=Ce=>R.jsx("div",Object.assign({},Ce)),manager:D,container:S,onShow:N,onHide:M=()=>{},onExit:z,onExited:K,onExiting:ce,onEnter:Ne,onEntering:ve,onEntered:dt}=t,hn=PL(t,AL);const wt=wv(),Se=TL(S),B=bL(D),J=AO(),j=PO(n),[me,ke]=T.useState(!n),ht=T.useRef(null);T.useImperativeHandle(e,()=>B,[B]),dh&&!j&&n&&(ht.current=zf(wt==null?void 0:wt.document)),n&&me&&ke(!1);const Be=kn(()=>{if(B.add(),ft.current=wd(document,"keydown",Yo),Ir.current=wd(document,"focus",()=>setTimeout(qe),!0),N&&N(),I){var Ce,ni;const Vn=zf((Ce=(ni=B.dialog)==null?void 0:ni.ownerDocument)!=null?Ce:wt==null?void 0:wt.document);B.dialog&&Vn&&!h_(B.dialog,Vn)&&(ht.current=Vn,B.dialog.focus())}}),b=kn(()=>{if(B.remove(),ft.current==null||ft.current(),Ir.current==null||Ir.current(),y){var Ce;(Ce=ht.current)==null||Ce.focus==null||Ce.focus(w),ht.current=null}});T.useEffect(()=>{!n||!Se||Be()},[n,Se,Be]),T.useEffect(()=>{me&&b()},[me,b]),tL(()=>{b()});const qe=kn(()=>{if(!A||!J()||!B.isTopModal())return;const Ce=zf(wt==null?void 0:wt.document);B.dialog&&Ce&&!h_(B.dialog,Ce)&&B.dialog.focus()}),Xt=kn(Ce=>{Ce.target===Ce.currentTarget&&(u==null||u(Ce),a===!0&&M())}),Yo=kn(Ce=>{l&&RL(Ce)&&B.isTopModal()&&(d==null||d(Ce),Ce.defaultPrevented||M())}),Ir=T.useRef(),ft=T.useRef(),Ke=(...Ce)=>{ke(!0),K==null||K(...Ce)};if(!Se)return null;const Mn=Object.assign({role:r,ref:B.setDialogRef,"aria-modal":r==="dialog"?!0:void 0},hn,{style:o,className:i,tabIndex:-1});let ei=_?_(Mn):R.jsx("div",Object.assign({},Mn,{children:T.cloneElement(s,{role:"document"})}));ei=p_(f,g,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:z,onExiting:ce,onExited:Ke,onEnter:Ne,onEntering:ve,onEntered:dt,children:ei});let ti=null;return a&&(ti=P({ref:B.setBackdropRef,onClick:Xt}),ti=p_(v,E,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:ti})),R.jsx(R.Fragment,{children:mo.createPortal(R.jsxs(R.Fragment,{children:[ti,ei]}),Se)})});IS.displayName="Modal";const xL=Object.assign(IS,{Manager:Tv});function NL(t,e){return t.classList?!!e&&t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function DL(t,e){t.classList?t.classList.add(e):NL(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function m_(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function OL(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=m_(t.className,e):t.setAttribute("class",m_(t.className&&t.className.baseVal||"",e))}const ds={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class SS extends Tv{adjustAndStore(e,n,r){const i=n.style[e];n.dataset[e]=i,Vr(n,{[e]:`${parseFloat(Vr(n,e))+r}px`})}restore(e,n){const r=n.dataset[e];r!==void 0&&(delete n.dataset[e],Vr(n,{[e]:r}))}setContainerStyle(e){super.setContainerStyle(e);const n=this.getElement();if(DL(n,"modal-open"),!e.scrollBarWidth)return;const r=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";cs(n,ds.FIXED_CONTENT).forEach(o=>this.adjustAndStore(r,o,e.scrollBarWidth)),cs(n,ds.STICKY_CONTENT).forEach(o=>this.adjustAndStore(i,o,-e.scrollBarWidth)),cs(n,ds.NAVBAR_TOGGLER).forEach(o=>this.adjustAndStore(i,o,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const n=this.getElement();OL(n,"modal-open");const r=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";cs(n,ds.FIXED_CONTENT).forEach(o=>this.restore(r,o)),cs(n,ds.STICKY_CONTENT).forEach(o=>this.restore(i,o)),cs(n,ds.NAVBAR_TOGGLER).forEach(o=>this.restore(i,o))}}let qf;function LL(t){return qf||(qf=new SS(t)),qf}const ML=T.createContext({onHide(){}}),CS=ML,VL=T.forwardRef(({closeLabel:t="Close",closeVariant:e,closeButton:n=!1,onHide:r,children:i,...o},s)=>{const a=T.useContext(CS),l=kn(()=>{a==null||a.onHide(),r==null||r()});return R.jsxs("div",{ref:s,...o,children:[i,n&&R.jsx(zI,{"aria-label":t,variant:e,onClick:l})]})}),FL=VL,RS=T.forwardRef(({bsPrefix:t,className:e,as:n,...r},i)=>{t=pe(t,"navbar-brand");const o=n||(r.href?"a":"span");return R.jsx(o,{...r,ref:i,className:ae(e,t)})});RS.displayName="NavbarBrand";const UL=RS,AS=T.forwardRef(({children:t,bsPrefix:e,...n},r)=>{e=pe(e,"navbar-collapse");const i=T.useContext(_u);return R.jsx(SO,{in:!!(i&&i.expanded),...n,children:R.jsx("div",{ref:r,className:e,children:t})})});AS.displayName="NavbarCollapse";const BL=AS,PS=T.forwardRef(({bsPrefix:t,className:e,children:n,label:r="Toggle navigation",as:i="button",onClick:o,...s},a)=>{t=pe(t,"navbar-toggler");const{onToggle:l,expanded:u}=T.useContext(_u)||{},d=kn(f=>{o&&o(f),l&&l()});return i==="button"&&(s.type="button"),R.jsx(i,{...s,ref:a,onClick:d,"aria-label":r,className:ae(e,t,!u&&"collapsed"),children:n||R.jsx("span",{className:`${t}-icon`})})});PS.displayName="NavbarToggle";const jL=PS,Im=new WeakMap,g_=(t,e)=>{if(!t||!e)return;const n=Im.get(e)||new Map;Im.set(e,n);let r=n.get(t);return r||(r=e.matchMedia(t),r.refCount=0,n.set(r.media,r)),r};function $L(t,e=typeof window>"u"?void 0:window){const n=g_(t,e),[r,i]=T.useState(()=>n?n.matches:!1);return _m(()=>{let o=g_(t,e);if(!o)return i(!1);let s=Im.get(e);const a=()=>{i(o.matches)};return o.refCount++,o.addListener(a),a(),()=>{o.removeListener(a),o.refCount--,o.refCount<=0&&(s==null||s.delete(o.media)),o=void 0}},[t]),r}function zL(t){const e=Object.keys(t);function n(a,l){return a===l?l:a?`${a} and ${l}`:l}function r(a){return e[Math.min(e.indexOf(a)+1,e.length-1)]}function i(a){const l=r(a);let u=t[l];return typeof u=="number"?u=`${u-.2}px`:u=`calc(${u} - 0.2px)`,`(max-width: ${u})`}function o(a){let l=t[a];return typeof l=="number"&&(l=`${l}px`),`(min-width: ${l})`}function s(a,l,u){let d;typeof a=="object"?(d=a,u=l,l=!0):(l=l||!0,d={[a]:l});let f=T.useMemo(()=>Object.entries(d).reduce((g,[v,E])=>((E==="up"||E===!0)&&(g=n(g,o(v))),(E==="down"||E===!0)&&(g=n(g,i(v))),g),""),[JSON.stringify(d)]);return $L(f,u)}return s}const HL=zL({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),kS=T.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},i)=>(e=pe(e,"offcanvas-body"),R.jsx(n,{ref:i,className:ae(t,e),...r})));kS.displayName="OffcanvasBody";const WL=kS,qL={[Hn]:"show",[kr]:"show"},bS=T.forwardRef(({bsPrefix:t,className:e,children:n,in:r=!1,mountOnEnter:i=!1,unmountOnExit:o=!1,appear:s=!1,...a},l)=>(t=pe(t,"offcanvas"),R.jsx(gv,{ref:l,addEndListener:pv,in:r,mountOnEnter:i,unmountOnExit:o,appear:s,...a,childRef:n.ref,children:(u,d)=>T.cloneElement(n,{...d,className:ae(e,n.props.className,(u===Hn||u===ql)&&`${t}-toggling`,qL[u])})})));bS.displayName="OffcanvasToggling";const KL=bS,xS=T.forwardRef(({bsPrefix:t,className:e,closeLabel:n="Close",closeButton:r=!1,...i},o)=>(t=pe(t,"offcanvas-header"),R.jsx(FL,{ref:o,...i,className:ae(e,t),closeLabel:n,closeButton:r})));xS.displayName="OffcanvasHeader";const GL=xS,QL=hh("h5"),NS=T.forwardRef(({className:t,bsPrefix:e,as:n=QL,...r},i)=>(e=pe(e,"offcanvas-title"),R.jsx(n,{ref:i,className:ae(t,e),...r})));NS.displayName="OffcanvasTitle";const YL=NS;function XL(t){return R.jsx(KL,{...t})}function JL(t){return R.jsx(Em,{...t})}const DS=T.forwardRef(({bsPrefix:t,className:e,children:n,"aria-labelledby":r,placement:i="start",responsive:o,show:s=!1,backdrop:a=!0,keyboard:l=!0,scroll:u=!1,onEscapeKeyDown:d,onShow:f,onHide:g,container:v,autoFocus:E=!0,enforceFocus:I=!0,restoreFocus:A=!0,restoreFocusOptions:y,onEntered:w,onExit:_,onExiting:P,onEnter:D,onEntering:S,onExited:N,backdropClassName:M,manager:z,renderStaticNode:K=!1,...ce},Ne)=>{const ve=T.useRef();t=pe(t,"offcanvas");const{onToggle:dt}=T.useContext(_u)||{},[hn,wt]=T.useState(!1),Se=HL(o||"xs","up");T.useEffect(()=>{wt(o?s&&!Se:s)},[s,o,Se]);const B=kn(()=>{dt==null||dt(),g==null||g()}),J=T.useMemo(()=>({onHide:B}),[B]);function j(){return z||(u?(ve.current||(ve.current=new SS({handleContainerOverflow:!1})),ve.current):LL())}const me=(b,...qe)=>{b&&(b.style.visibility="visible"),D==null||D(b,...qe)},ke=(b,...qe)=>{b&&(b.style.visibility=""),N==null||N(...qe)},ht=T.useCallback(b=>R.jsx("div",{...b,className:ae(`${t}-backdrop`,M)}),[M,t]),Be=b=>R.jsx("div",{...b,...ce,className:ae(e,o?`${t}-${o}`:t,`${t}-${i}`),"aria-labelledby":r,children:n});return R.jsxs(R.Fragment,{children:[!hn&&(o||K)&&Be({}),R.jsx(CS.Provider,{value:J,children:R.jsx(xL,{show:hn,ref:Ne,backdrop:a,container:v,keyboard:l,autoFocus:E,enforceFocus:I&&!u,restoreFocus:A,restoreFocusOptions:y,onEscapeKeyDown:d,onShow:f,onHide:B,onEnter:me,onEntering:S,onEntered:w,onExit:_,onExiting:P,onExited:ke,manager:j(),transition:XL,backdropTransition:JL,renderBackdrop:ht,renderDialog:Be})})]})});DS.displayName="Offcanvas";const ZL=Object.assign(DS,{Body:WL,Header:GL,Title:YL}),OS=T.forwardRef((t,e)=>{const n=T.useContext(_u);return R.jsx(ZL,{ref:e,show:!!(n!=null&&n.expanded),...t,renderStaticNode:!0})});OS.displayName="NavbarOffcanvas";const eM=OS,LS=T.forwardRef(({className:t,bsPrefix:e,as:n="span",...r},i)=>(e=pe(e,"navbar-text"),R.jsx(n,{ref:i,className:ae(t,e),...r})));LS.displayName="NavbarText";const tM=LS,MS=T.forwardRef((t,e)=>{const{bsPrefix:n,expand:r=!0,variant:i="light",bg:o,fixed:s,sticky:a,className:l,as:u="nav",expanded:d,onToggle:f,onSelect:g,collapseOnSelect:v=!1,...E}=bI(t,{expanded:"onToggle"}),I=pe(n,"navbar"),A=T.useCallback((..._)=>{g==null||g(..._),v&&d&&(f==null||f(!1))},[g,v,d,f]);E.role===void 0&&u!=="nav"&&(E.role="navigation");let y=`${I}-expand`;typeof r=="string"&&(y=`${y}-${r}`);const w=T.useMemo(()=>({onToggle:()=>f==null?void 0:f(!d),bsPrefix:I,expanded:!!d,expand:r}),[I,d,r,f]);return R.jsx(_u.Provider,{value:w,children:R.jsx(sL.Provider,{value:A,children:R.jsx(u,{ref:e,...E,className:ae(l,I,r&&y,i&&`${I}-${i}`,o&&`bg-${o}`,a&&`sticky-${a}`,s&&`fixed-${s}`)})})})});MS.displayName="Navbar";const pc=Object.assign(MS,{Brand:UL,Collapse:BL,Offcanvas:eM,Text:tM,Toggle:jL}),VS=T.forwardRef(({bsPrefix:t,className:e,as:n="div",...r},i)=>{const o=pe(t,"row"),s=dv(),a=hv(),l=`${o}-cols`,u=[];return s.forEach(d=>{const f=r[d];delete r[d];let g;f!=null&&typeof f=="object"?{cols:g}=f:g=f;const v=d!==a?`-${d}`:"";g!=null&&u.push(`${l}${v}-${g}`)}),R.jsx(n,{ref:i,...r,className:ae(e,o,...u)})});VS.displayName="Row";const Fs=VS,FS=T.forwardRef(({bsPrefix:t,variant:e,animation:n="border",size:r,as:i="div",className:o,...s},a)=>{t=pe(t,"spinner");const l=`${t}-${n}`;return R.jsx(i,{ref:a,...s,className:ae(o,l,r&&`${l}-${r}`,e&&`text-${e}`)})});FS.displayName="Spinner";const US=FS;function nM(t,e=xI,n=NI){const r=[];return Object.entries(t).forEach(([i,o])=>{o!=null&&(typeof o=="object"?e.forEach(s=>{const a=o[s];if(a!=null){const l=s!==n?`-${s}`:"";r.push(`${i}${l}-${a}`)}}):r.push(`${i}-${o}`))}),r}const BS=T.forwardRef(({as:t="div",bsPrefix:e,className:n,direction:r,gap:i,...o},s)=>{e=pe(e,r==="horizontal"?"hstack":"vstack");const a=dv(),l=hv();return R.jsx(t,{...o,ref:s,className:ae(n,e,...nM({gap:i},a,l))})});BS.displayName="Stack";const v_=BS;var y_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jS=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},rM=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},$S={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,d=o>>2,f=(o&3)<<4|a>>4;let g=(a&15)<<2|u>>6,v=u&63;l||(v=64,s||(g=64)),r.push(n[d],n[f],n[g],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(jS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):rM(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||u==null||f==null)throw new iM;const g=o<<2|a>>4;if(r.push(g),u!==64){const v=a<<4&240|u>>2;if(r.push(v),f!==64){const E=u<<6&192|f;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class iM extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const oM=function(t){const e=jS(t);return $S.encodeByteArray(e,!0)},Ed=function(t){return oM(t).replace(/\./g,"")},zS=function(t){try{return $S.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sM(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aM=()=>sM().__FIREBASE_DEFAULTS__,lM=()=>{if(typeof process>"u"||typeof y_>"u")return;const t=y_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},uM=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&zS(t[1]);return e&&JSON.parse(e)},fh=()=>{try{return aM()||lM()||uM()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},HS=t=>{var e,n;return(n=(e=fh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},WS=t=>{const e=HS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},qS=()=>{var t;return(t=fh())===null||t===void 0?void 0:t.config},KS=t=>{var e;return(e=fh())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cM{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GS(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ed(JSON.stringify(n)),Ed(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function dM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(yt())}function hM(){var t;const e=(t=fh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function fM(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function pM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function mM(){const t=yt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function gM(){return!hM()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function QS(){try{return typeof indexedDB=="object"}catch{return!1}}function vM(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yM="FirebaseError";class Er extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=yM,Object.setPrototypeOf(this,Er.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Eu.prototype.create)}}class Eu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?wM(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Er(i,a,r)}}function wM(t,e){return t.replace(_M,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const _M=/\{\$([^}]+)}/g;function EM(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Td(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(w_(o)&&w_(s)){if(!Td(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function w_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function el(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function tl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function TM(t,e){const n=new IM(t,e);return n.subscribe.bind(n)}class IM{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");SM(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Kf),i.error===void 0&&(i.error=Kf),i.complete===void 0&&(i.complete=Kf);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function SM(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Kf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nt(t){return t&&t._delegate?t._delegate:t}class $i{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CM{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new cM;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(AM(e))try{this.getOrInitializeService({instanceIdentifier:uo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=uo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=uo){return this.instances.has(e)}getOptions(e=uo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:RM(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=uo){return this.component?this.component.multipleInstances?e:uo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function RM(t){return t===uo?void 0:t}function AM(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PM{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new CM(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ie;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ie||(Ie={}));const kM={debug:Ie.DEBUG,verbose:Ie.VERBOSE,info:Ie.INFO,warn:Ie.WARN,error:Ie.ERROR,silent:Ie.SILENT},bM=Ie.INFO,xM={[Ie.DEBUG]:"log",[Ie.VERBOSE]:"log",[Ie.INFO]:"info",[Ie.WARN]:"warn",[Ie.ERROR]:"error"},NM=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=xM[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Iv{constructor(e){this.name=e,this._logLevel=bM,this._logHandler=NM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ie))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?kM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ie.DEBUG,...e),this._logHandler(this,Ie.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ie.VERBOSE,...e),this._logHandler(this,Ie.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ie.INFO,...e),this._logHandler(this,Ie.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ie.WARN,...e),this._logHandler(this,Ie.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ie.ERROR,...e),this._logHandler(this,Ie.ERROR,...e)}}const DM=(t,e)=>e.some(n=>t instanceof n);let __,E_;function OM(){return __||(__=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function LM(){return E_||(E_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const YS=new WeakMap,Sm=new WeakMap,XS=new WeakMap,Gf=new WeakMap,Sv=new WeakMap;function MM(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Oi(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&YS.set(n,t)}).catch(()=>{}),Sv.set(e,t),e}function VM(t){if(Sm.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Sm.set(t,e)}let Cm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Sm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||XS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Oi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function FM(t){Cm=t(Cm)}function UM(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Qf(this),e,...n);return XS.set(r,e.sort?e.sort():[e]),Oi(r)}:LM().includes(t)?function(...e){return t.apply(Qf(this),e),Oi(YS.get(this))}:function(...e){return Oi(t.apply(Qf(this),e))}}function BM(t){return typeof t=="function"?UM(t):(t instanceof IDBTransaction&&VM(t),DM(t,OM())?new Proxy(t,Cm):t)}function Oi(t){if(t instanceof IDBRequest)return MM(t);if(Gf.has(t))return Gf.get(t);const e=BM(t);return e!==t&&(Gf.set(t,e),Sv.set(e,t)),e}const Qf=t=>Sv.get(t);function jM(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=Oi(s);return r&&s.addEventListener("upgradeneeded",l=>{r(Oi(s.result),l.oldVersion,l.newVersion,Oi(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const $M=["get","getKey","getAll","getAllKeys","count"],zM=["put","add","delete","clear"],Yf=new Map;function T_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Yf.get(e))return Yf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=zM.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||$M.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Yf.set(e,o),o}FM(t=>({...t,get:(e,n,r)=>T_(e,n)||t.get(e,n,r),has:(e,n)=>!!T_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HM{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(WM(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function WM(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Rm="@firebase/app",I_="0.9.28";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Do=new Iv("@firebase/app"),qM="@firebase/app-compat",KM="@firebase/analytics-compat",GM="@firebase/analytics",QM="@firebase/app-check-compat",YM="@firebase/app-check",XM="@firebase/auth",JM="@firebase/auth-compat",ZM="@firebase/database",eV="@firebase/database-compat",tV="@firebase/functions",nV="@firebase/functions-compat",rV="@firebase/installations",iV="@firebase/installations-compat",oV="@firebase/messaging",sV="@firebase/messaging-compat",aV="@firebase/performance",lV="@firebase/performance-compat",uV="@firebase/remote-config",cV="@firebase/remote-config-compat",dV="@firebase/storage",hV="@firebase/storage-compat",fV="@firebase/firestore",pV="@firebase/firestore-compat",mV="firebase",gV="10.8.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Am="[DEFAULT]",vV={[Rm]:"fire-core",[qM]:"fire-core-compat",[GM]:"fire-analytics",[KM]:"fire-analytics-compat",[YM]:"fire-app-check",[QM]:"fire-app-check-compat",[XM]:"fire-auth",[JM]:"fire-auth-compat",[ZM]:"fire-rtdb",[eV]:"fire-rtdb-compat",[tV]:"fire-fn",[nV]:"fire-fn-compat",[rV]:"fire-iid",[iV]:"fire-iid-compat",[oV]:"fire-fcm",[sV]:"fire-fcm-compat",[aV]:"fire-perf",[lV]:"fire-perf-compat",[uV]:"fire-rc",[cV]:"fire-rc-compat",[dV]:"fire-gcs",[hV]:"fire-gcs-compat",[fV]:"fire-fst",[pV]:"fire-fst-compat","fire-js":"fire-js",[mV]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Id=new Map,Pm=new Map;function yV(t,e){try{t.container.addComponent(e)}catch(n){Do.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Oo(t){const e=t.name;if(Pm.has(e))return Do.debug(`There were multiple attempts to register component ${e}.`),!1;Pm.set(e,t);for(const n of Id.values())yV(n,t);return!0}function ph(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Li=new Eu("app","Firebase",wV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _V{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new $i("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Li.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ho=gV;function JS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Am,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Li.create("bad-app-name",{appName:String(i)});if(n||(n=qS()),!n)throw Li.create("no-options");const o=Id.get(i);if(o){if(Td(n,o.options)&&Td(r,o.config))return o;throw Li.create("duplicate-app",{appName:i})}const s=new PM(i);for(const l of Pm.values())s.addComponent(l);const a=new _V(n,r,s);return Id.set(i,a),a}function Cv(t=Am){const e=Id.get(t);if(!e&&t===Am&&qS())return JS();if(!e)throw Li.create("no-app",{appName:t});return e}function fr(t,e,n){var r;let i=(r=vV[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Do.warn(a.join(" "));return}Oo(new $i(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EV="firebase-heartbeat-database",TV=1,Kl="firebase-heartbeat-store";let Xf=null;function ZS(){return Xf||(Xf=jM(EV,TV,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Kl)}catch(n){console.warn(n)}}}}).catch(t=>{throw Li.create("idb-open",{originalErrorMessage:t.message})})),Xf}async function IV(t){try{const n=(await ZS()).transaction(Kl),r=await n.objectStore(Kl).get(eC(t));return await n.done,r}catch(e){if(e instanceof Er)Do.warn(e.message);else{const n=Li.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Do.warn(n.message)}}}async function S_(t,e){try{const r=(await ZS()).transaction(Kl,"readwrite");await r.objectStore(Kl).put(e,eC(t)),await r.done}catch(n){if(n instanceof Er)Do.warn(n.message);else{const r=Li.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Do.warn(r.message)}}}function eC(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SV=1024,CV=30*24*60*60*1e3;class RV{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new PV(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=C_();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const a=new Date(s.date).valueOf();return Date.now()-a<=CV}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=C_(),{heartbeatsToSend:r,unsentEntries:i}=AV(this._heartbeatsCache.heartbeats),o=Ed(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}}function C_(){return new Date().toISOString().substring(0,10)}function AV(t,e=SV){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),R_(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),R_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class PV{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return QS()?vM().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await IV(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return S_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return S_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function R_(t){return Ed(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kV(t){Oo(new $i("platform-logger",e=>new HM(e),"PRIVATE")),Oo(new $i("heartbeat",e=>new RV(e),"PRIVATE")),fr(Rm,I_,t),fr(Rm,I_,"esm2017"),fr("fire-js","")}kV("");function Rv(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function tC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const bV=tC,nC=new Eu("auth","Firebase",tC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sd=new Iv("@firebase/auth");function xV(t,...e){Sd.logLevel<=Ie.WARN&&Sd.warn(`Auth (${Ho}): ${t}`,...e)}function Bc(t,...e){Sd.logLevel<=Ie.ERROR&&Sd.error(`Auth (${Ho}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yn(t,...e){throw Av(t,...e)}function pr(t,...e){return Av(t,...e)}function NV(t,e,n){const r=Object.assign(Object.assign({},bV()),{[e]:n});return new Eu("auth","Firebase",r).create(e,{appName:t.name})}function Av(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return nC.create(t,...e)}function oe(t,e,...n){if(!t)throw Av(e,...n)}function Nr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Bc(e),new Error(e)}function Kr(t,e){t||Nr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function km(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function DV(){return A_()==="http:"||A_()==="https:"}function A_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(DV()||fM()||"connection"in navigator)?navigator.onLine:!0}function LV(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Kr(n>e,"Short delay should be less than long delay!"),this.isMobile=dM()||pM()}get(){return OV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pv(t,e){Kr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Nr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Nr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Nr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VV=new Iu(3e4,6e4);function Qi(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Yi(t,e,n,r,i={}){return iC(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const a=Tu(Object.assign({key:t.config.apiKey},s)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),rC.fetch()(oC(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},o))})}async function iC(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},MV),e);try{const i=new UV(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw mc(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw mc(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw mc(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw mc(t,"user-disabled",s);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw NV(t,d,u);Yn(t,d)}}catch(i){if(i instanceof Er)throw i;Yn(t,"network-request-failed",{message:String(i)})}}async function Su(t,e,n,r,i={}){const o=await Yi(t,e,n,r,i);return"mfaPendingCredential"in o&&Yn(t,"multi-factor-auth-required",{_serverResponse:o}),o}function oC(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Pv(t.config,i):`${t.config.apiScheme}://${i}`}function FV(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class UV{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(pr(this.auth,"network-request-failed")),VV.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function mc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=pr(t,e,r);return i.customData._tokenResponse=n,i}function P_(t){return t!==void 0&&t.enterprise!==void 0}class BV{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return FV(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function jV(t,e){return Yi(t,"GET","/v2/recaptchaConfig",Qi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $V(t,e){return Yi(t,"POST","/v1/accounts:delete",e)}async function zV(t,e){return Yi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function HV(t,e=!1){const n=nt(t),r=await n.getIdToken(e),i=kv(r);oe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:vl(Jf(i.auth_time)),issuedAtTime:vl(Jf(i.iat)),expirationTime:vl(Jf(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Jf(t){return Number(t)*1e3}function kv(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Bc("JWT malformed, contained fewer than 3 sections"),null;try{const i=zS(n);return i?JSON.parse(i):(Bc("Failed to decode base64 JWT payload"),null)}catch(i){return Bc("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function WV(t){const e=kv(t);return oe(e,"internal-error"),oe(typeof e.exp<"u","internal-error"),oe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Er&&qV(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function qV({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KV{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=vl(this.lastLoginAt),this.creationTime=vl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cd(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Gl(t,zV(n,{idToken:r}));oe(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?YV(o.providerUserInfo):[],a=QV(t.providerData,s),l=t.isAnonymous,u=!(t.email&&o.passwordHash)&&!(a!=null&&a.length),d=l?u:!1,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new sC(o.createdAt,o.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function GV(t){const e=nt(t);await Cd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function QV(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function YV(t){return t.map(e=>{var{providerId:n}=e,r=Rv(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XV(t,e){const n=await iC(t,{},async()=>{const r=Tu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=oC(t,i,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",rC.fetch()(s,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function JV(t,e){return Yi(t,"POST","/v2/accounts:revokeToken",Qi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){oe(e.idToken,"internal-error"),oe(typeof e.idToken<"u","internal-error"),oe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):WV(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return oe(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await XV(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new Ql;return r&&(oe(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(oe(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(oe(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ql,this.toJSON())}_performRefresh(){return Nr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ci(t,e){oe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class So{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Rv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new KV(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new sC(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Gl(this,this.stsTokenManager.getToken(this.auth,e));return oe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return HV(this,e)}reload(){return GV(this)}_assign(e){this!==e&&(oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new So(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Cd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Gl(this,$V(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,l,u,d;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,g=(i=n.email)!==null&&i!==void 0?i:void 0,v=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,E=(s=n.photoURL)!==null&&s!==void 0?s:void 0,I=(a=n.tenantId)!==null&&a!==void 0?a:void 0,A=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,y=(u=n.createdAt)!==null&&u!==void 0?u:void 0,w=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:_,emailVerified:P,isAnonymous:D,providerData:S,stsTokenManager:N}=n;oe(_&&N,e,"internal-error");const M=Ql.fromJSON(this.name,N);oe(typeof _=="string",e,"internal-error"),ci(f,e.name),ci(g,e.name),oe(typeof P=="boolean",e,"internal-error"),oe(typeof D=="boolean",e,"internal-error"),ci(v,e.name),ci(E,e.name),ci(I,e.name),ci(A,e.name),ci(y,e.name),ci(w,e.name);const z=new So({uid:_,auth:e,email:g,emailVerified:P,displayName:f,isAnonymous:D,photoURL:E,phoneNumber:v,tenantId:I,stsTokenManager:M,createdAt:y,lastLoginAt:w});return S&&Array.isArray(S)&&(z.providerData=S.map(K=>Object.assign({},K))),A&&(z._redirectEventId=A),z}static async _fromIdTokenResponse(e,n,r=!1){const i=new Ql;i.updateFromServerResponse(n);const o=new So({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Cd(o),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k_=new Map;function Dr(t){Kr(t instanceof Function,"Expected a class definition");let e=k_.get(t);return e?(Kr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,k_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}aC.type="NONE";const b_=aC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jc(t,e,n){return`firebase:${t}:${e}:${n}`}class Us{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=jc(this.userKey,i.apiKey,o),this.fullPersistenceKey=jc("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?So._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Us(Dr(b_),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=i[0]||Dr(b_);const s=jc(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const d=await u._get(s);if(d){const f=So._fromJSON(e,d);u!==o&&(a=f),o=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new Us(o,e,r):(o=l[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(s)}catch{}})),new Us(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(cC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(lC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(hC(e))return"Blackberry";if(fC(e))return"Webos";if(bv(e))return"Safari";if((e.includes("chrome/")||uC(e))&&!e.includes("edge/"))return"Chrome";if(dC(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function lC(t=yt()){return/firefox\//i.test(t)}function bv(t=yt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function uC(t=yt()){return/crios\//i.test(t)}function cC(t=yt()){return/iemobile/i.test(t)}function dC(t=yt()){return/android/i.test(t)}function hC(t=yt()){return/blackberry/i.test(t)}function fC(t=yt()){return/webos/i.test(t)}function mh(t=yt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function ZV(t=yt()){var e;return mh(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function eF(){return mM()&&document.documentMode===10}function pC(t=yt()){return mh(t)||dC(t)||fC(t)||hC(t)||/windows phone/i.test(t)||cC(t)}function tF(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mC(t,e=[]){let n;switch(t){case"Browser":n=x_(yt());break;case"Worker":n=`${x_(yt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ho}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nF{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{const l=e(o);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rF(t,e={}){return Yi(t,"GET","/v2/passwordPolicy",Qi(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iF=6;class oF{constructor(e){var n,r,i,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:iF,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sF{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new N_(this),this.idTokenSubscription=new N_(this),this.beforeStateQueue=new nF(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=nC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Dr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Us.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===a)&&(l!=null&&l.user)&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return oe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Cd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=LV()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?nt(e):null;return n&&oe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&oe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Dr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await rF(this),n=new oF(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Eu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await JV(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Dr(e)||this._popupRedirectResolver;oe(n,this,"argument-error"),this.redirectPersistenceManager=await Us.create(this,[Dr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(oe(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{s=!0,l()}}else{const l=e.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=mC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&xV(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Wo(t){return nt(t)}class N_{constructor(e){this.auth=e,this.observer=null,this.addObserver=TM(n=>this.observer=n)}get next(){return oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function aF(t){gh=t}function gC(t){return gh.loadJS(t)}function lF(){return gh.recaptchaEnterpriseScript}function uF(){return gh.gapiScript}function cF(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const dF="recaptcha-enterprise",hF="NO_RECAPTCHA";class fF{constructor(e){this.type=dF,this.auth=Wo(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,a)=>{jV(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new BV(l);return o.tenantId==null?o._agentRecaptchaConfig=u:o._tenantRecaptchaConfigs[o.tenantId]=u,s(u.siteKey)}}).catch(l=>{a(l)})})}function i(o,s,a){const l=window.grecaptcha;P_(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:e}).then(u=>{s(u)}).catch(()=>{s(hF)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&P_(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let l=lF();l.length!==0&&(l+=a),gC(l).then(()=>{i(a,o,s)}).catch(u=>{s(u)})}}).catch(a=>{s(a)})})}}async function D_(t,e,n,r=!1){const i=new fF(t);let o;try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const s=Object.assign({},e);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function bm(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await D_(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const s=await D_(t,e,n,n==="getOobCode");return r(t,s)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pF(t,e){const n=ph(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(Td(o,e??{}))return i;Yn(i,"already-initialized")}return n.initialize({options:e})}function mF(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Dr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function gF(t,e,n){const r=Wo(t);oe(r._canInitEmulator,r,"emulator-config-failed"),oe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),o=vC(e),{host:s,port:a}=vF(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||yF()}function vC(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function vF(t){const e=vC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:O_(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:O_(s)}}}function O_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function yF(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Nr("not implemented")}_getIdTokenResponse(e){return Nr("not implemented")}_linkToIdToken(e,n){return Nr("not implemented")}_getReauthenticationResolver(e){return Nr("not implemented")}}async function wF(t,e){return Yi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _F(t,e){return Su(t,"POST","/v1/accounts:signInWithPassword",Qi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EF(t,e){return Su(t,"POST","/v1/accounts:signInWithEmailLink",Qi(t,e))}async function TF(t,e){return Su(t,"POST","/v1/accounts:signInWithEmailLink",Qi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl extends xv{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Yl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Yl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return bm(e,n,"signInWithPassword",_F);case"emailLink":return EF(e,{email:this._email,oobCode:this._password});default:Yn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return bm(e,r,"signUpPassword",wF);case"emailLink":return TF(e,{idToken:n,email:this._email,oobCode:this._password});default:Yn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bs(t,e){return Su(t,"POST","/v1/accounts:signInWithIdp",Qi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IF="http://localhost";class Lo extends xv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Lo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Yn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=Rv(n,["providerId","signInMethod"]);if(!r||!i)return null;const s=new Lo(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return Bs(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Bs(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Bs(e,n)}buildRequest(){const e={requestUri:IF,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Tu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SF(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function CF(t){const e=el(tl(t)).link,n=e?el(tl(e)).deep_link_id:null,r=el(tl(t)).deep_link_id;return(r?el(tl(r)).link:null)||r||n||e||t}class Nv{constructor(e){var n,r,i,o,s,a;const l=el(tl(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,f=SF((i=l.mode)!==null&&i!==void 0?i:null);oe(u&&d&&f,"argument-error"),this.apiKey=u,this.operation=f,this.code=d,this.continueUrl=(o=l.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=l.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=CF(e);try{return new Nv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(){this.providerId=ga.PROVIDER_ID}static credential(e,n){return Yl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Nv.parseLink(n);return oe(r,"argument-error"),Yl._fromEmailAndCode(e,r.code,r.tenantId)}}ga.PROVIDER_ID="password";ga.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ga.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu extends yC{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi extends Cu{constructor(){super("facebook.com")}static credential(e){return Lo._fromParams({providerId:vi.PROVIDER_ID,signInMethod:vi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return vi.credentialFromTaggedObject(e)}static credentialFromError(e){return vi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return vi.credential(e.oauthAccessToken)}catch{return null}}}vi.FACEBOOK_SIGN_IN_METHOD="facebook.com";vi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi extends Cu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Lo._fromParams({providerId:yi.PROVIDER_ID,signInMethod:yi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return yi.credentialFromTaggedObject(e)}static credentialFromError(e){return yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return yi.credential(n,r)}catch{return null}}}yi.GOOGLE_SIGN_IN_METHOD="google.com";yi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi extends Cu{constructor(){super("github.com")}static credential(e){return Lo._fromParams({providerId:wi.PROVIDER_ID,signInMethod:wi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return wi.credentialFromTaggedObject(e)}static credentialFromError(e){return wi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return wi.credential(e.oauthAccessToken)}catch{return null}}}wi.GITHUB_SIGN_IN_METHOD="github.com";wi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i extends Cu{constructor(){super("twitter.com")}static credential(e,n){return Lo._fromParams({providerId:_i.PROVIDER_ID,signInMethod:_i.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return _i.credentialFromTaggedObject(e)}static credentialFromError(e){return _i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return _i.credential(n,r)}catch{return null}}}_i.TWITTER_SIGN_IN_METHOD="twitter.com";_i.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RF(t,e){return Su(t,"POST","/v1/accounts:signUp",Qi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await So._fromIdTokenResponse(e,r,i),s=L_(r);return new Mo({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=L_(r);return new Mo({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function L_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd extends Er{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Rd.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Rd(e,n,r,i)}}function wC(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Rd._fromErrorAndOperation(t,o,e,r):o})}async function AF(t,e,n=!1){const r=await Gl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Mo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PF(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const o=await Gl(t,wC(r,i,e,t),n);oe(o.idToken,r,"internal-error");const s=kv(o.idToken);oe(s,r,"internal-error");const{sub:a}=s;return oe(t.uid===a,r,"user-mismatch"),Mo._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Yn(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _C(t,e,n=!1){const r="signIn",i=await wC(t,r,e),o=await Mo._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function kF(t,e){return _C(Wo(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EC(t){const e=Wo(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function bF(t,e,n){const r=Wo(t),s=await bm(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",RF).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&EC(t),l}),a=await Mo._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(a.user),a}function xF(t,e,n){return kF(nt(t),ga.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&EC(t),r})}function NF(t,e,n,r){return nt(t).onIdTokenChanged(e,n,r)}function DF(t,e,n){return nt(t).beforeAuthStateChanged(e,n)}function OF(t,e,n,r){return nt(t).onAuthStateChanged(e,n,r)}function LF(t){return nt(t).signOut()}const Ad="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ad,"1"),this.storage.removeItem(Ad),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MF(){const t=yt();return bv(t)||mh(t)}const VF=1e3,FF=10;class IC extends TC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=MF()&&tF(),this.fallbackToPolling=pC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const s=this.storage.getItem(r);if(e.newValue!==s)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);eF()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,FF):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},VF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}IC.type="LOCAL";const UF=IC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC extends TC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}SC.type="SESSION";const CC=SC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BF(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new vh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(s).map(async u=>u(n.origin,o)),l=await BF(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}vh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jF{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{const u=Dv("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(f){const g=f;if(g.data.eventId===u)switch(g.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(g.data.response);break;default:clearTimeout(d),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mr(){return window}function $F(t){mr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RC(){return typeof mr().WorkerGlobalScope<"u"&&typeof mr().importScripts=="function"}async function zF(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function HF(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function WF(){return RC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC="firebaseLocalStorageDb",qF=1,Pd="firebaseLocalStorage",PC="fbase_key";class Ru{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function yh(t,e){return t.transaction([Pd],e?"readwrite":"readonly").objectStore(Pd)}function KF(){const t=indexedDB.deleteDatabase(AC);return new Ru(t).toPromise()}function xm(){const t=indexedDB.open(AC,qF);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Pd,{keyPath:PC})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Pd)?e(r):(r.close(),await KF(),e(await xm()))})})}async function M_(t,e,n){const r=yh(t,!0).put({[PC]:e,value:n});return new Ru(r).toPromise()}async function GF(t,e){const n=yh(t,!1).get(e),r=await new Ru(n).toPromise();return r===void 0?null:r.value}function V_(t,e){const n=yh(t,!0).delete(e);return new Ru(n).toPromise()}const QF=800,YF=3;class kC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await xm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>YF)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return RC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=vh._getInstance(WF()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await zF(),!this.activeServiceWorker)return;this.sender=new jF(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||HF()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await xm();return await M_(e,Ad,"1"),await V_(e,Ad),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>M_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>GF(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>V_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=yh(i,!1).getAll();return new Ru(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),QF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}kC.type="LOCAL";const XF=kC;new Iu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JF(t,e){return e?Dr(e):(oe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov extends xv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Bs(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Bs(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Bs(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function ZF(t){return _C(t.auth,new Ov(t),t.bypassAuthState)}function e4(t){const{auth:e,user:n}=t;return oe(n,e,"internal-error"),PF(n,new Ov(t),t.bypassAuthState)}async function t4(t){const{auth:e,user:n}=t;return oe(n,e,"internal-error"),AF(n,new Ov(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ZF;case"linkViaPopup":case"linkViaRedirect":return t4;case"reauthViaPopup":case"reauthViaRedirect":return e4;default:Yn(this.auth,"internal-error")}}resolve(e){Kr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Kr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n4=new Iu(2e3,1e4);class bs extends bC{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,bs.currentPopupAction&&bs.currentPopupAction.cancel(),bs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return oe(e,this.auth,"internal-error"),e}async onExecution(){Kr(this.filter.length===1,"Popup operations only handle one event");const e=Dv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(pr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(pr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,bs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(pr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,n4.get())};e()}}bs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r4="pendingRedirect",$c=new Map;class i4 extends bC{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=$c.get(this.auth._key());if(!e){try{const r=await o4(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}$c.set(this.auth._key(),e)}return this.bypassAuthState||$c.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function o4(t,e){const n=l4(e),r=a4(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function s4(t,e){$c.set(t._key(),e)}function a4(t){return Dr(t._redirectPersistence)}function l4(t){return jc(r4,t.config.apiKey,t.name)}async function u4(t,e,n=!1){const r=Wo(t),i=JF(r,e),s=await new i4(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c4=10*60*1e3;class d4{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!h4(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!xC(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(pr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=c4&&this.cachedEventUids.clear(),this.cachedEventUids.has(F_(e))}saveEventToCache(e){this.cachedEventUids.add(F_(e)),this.lastProcessedEventTime=Date.now()}}function F_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function xC({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function h4(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return xC(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f4(t,e={}){return Yi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,m4=/^https?/;async function g4(t){if(t.config.emulator)return;const{authorizedDomains:e}=await f4(t);for(const n of e)try{if(v4(n))return}catch{}Yn(t,"unauthorized-domain")}function v4(t){const e=km(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!m4.test(n))return!1;if(p4.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y4=new Iu(3e4,6e4);function U_(){const t=mr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function w4(t){return new Promise((e,n)=>{var r,i,o;function s(){U_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{U_(),n(pr(t,"network-request-failed"))},timeout:y4.get()})}if(!((i=(r=mr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=mr().gapi)===null||o===void 0)&&o.load)s();else{const a=cF("iframefcb");return mr()[a]=()=>{gapi.load?s():n(pr(t,"network-request-failed"))},gC(`${uF()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw zc=null,e})}let zc=null;function _4(t){return zc=zc||w4(t),zc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E4=new Iu(5e3,15e3),T4="__/auth/iframe",I4="emulator/auth/iframe",S4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},C4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function R4(t){const e=t.config;oe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Pv(e,I4):`https://${t.config.authDomain}/${T4}`,r={apiKey:e.apiKey,appName:t.name,v:Ho},i=C4.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Tu(r).slice(1)}`}async function A4(t){const e=await _4(t),n=mr().gapi;return oe(n,t,"internal-error"),e.open({where:document.body,url:R4(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:S4,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=pr(t,"network-request-failed"),a=mr().setTimeout(()=>{o(s)},E4.get());function l(){mr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},k4=500,b4=600,x4="_blank",N4="http://localhost";class B_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function D4(t,e,n,r=k4,i=b4){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},P4),{width:r.toString(),height:i.toString(),top:o,left:s}),u=yt().toLowerCase();n&&(a=uC(u)?x4:n),lC(u)&&(e=e||N4,l.scrollbars="yes");const d=Object.entries(l).reduce((g,[v,E])=>`${g}${v}=${E},`,"");if(ZV(u)&&a!=="_self")return O4(e||"",a),new B_(null);const f=window.open(e||"",a,d);oe(f,t,"popup-blocked");try{f.focus()}catch{}return new B_(f)}function O4(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L4="__/auth/handler",M4="emulator/auth/handler",V4=encodeURIComponent("fac");async function j_(t,e,n,r,i,o){oe(t.config.authDomain,t,"auth-domain-config-required"),oe(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ho,eventId:i};if(e instanceof yC){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",EM(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries(o||{}))s[d]=f}if(e instanceof Cu){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(s.scopes=d.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),u=l?`#${V4}=${encodeURIComponent(l)}`:"";return`${F4(t)}?${Tu(a).slice(1)}${u}`}function F4({config:t}){return t.emulator?Pv(t,M4):`https://${t.authDomain}/${L4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zf="webStorageSupport";class U4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=CC,this._completeRedirectFn=u4,this._overrideRedirectResult=s4}async _openPopup(e,n,r,i){var o;Kr((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await j_(e,n,r,km(),i);return D4(e,s,Dv())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await j_(e,n,r,km(),i);return $F(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Kr(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await A4(e),r=new d4(e);return n.register("authEvent",i=>(oe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Zf,{type:Zf},i=>{var o;const s=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[Zf];s!==void 0&&n(!!s),Yn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=g4(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return pC()||bv()||mh()}}const B4=U4;var $_="@firebase/auth",z_="1.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $4(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function z4(t){Oo(new $i("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;oe(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:mC(t)},u=new sF(r,i,o,l);return mF(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Oo(new $i("auth-internal",e=>{const n=Wo(e.getProvider("auth").getImmediate());return(r=>new j4(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),fr($_,z_,$4(t)),fr($_,z_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H4=5*60,W4=KS("authIdTokenMaxAge")||H4;let H_=null;const q4=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>W4)return;const i=n==null?void 0:n.token;H_!==i&&(H_=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function K4(t=Cv()){const e=ph(t,"auth");if(e.isInitialized())return e.getImmediate();const n=pF(t,{popupRedirectResolver:B4,persistence:[XF,UF,CC]}),r=KS("authTokenSyncURL");if(r){const o=q4(r);DF(n,o,()=>o(n.currentUser)),NF(n,s=>o(s))}const i=HS("auth");return i&&gF(n,`http://${i}`),n}function G4(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}aF({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=pr("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",G4().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});z4("Browser");var Q4=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},q,Lv=Lv||{},ue=Q4||self;function wh(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Au(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function Y4(t){return Object.prototype.hasOwnProperty.call(t,ep)&&t[ep]||(t[ep]=++X4)}var ep="closure_uid_"+(1e9*Math.random()>>>0),X4=0;function J4(t,e,n){return t.call.apply(t.bind,arguments)}function Z4(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Kt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Kt=J4:Kt=Z4,Kt.apply(null,arguments)}function gc(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Pt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[i].apply(r,s)}}function Xi(){this.s=this.s,this.o=this.o}var eU=0;Xi.prototype.s=!1;Xi.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),eU!=0)&&Y4(this)};Xi.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const NC=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Mv(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function W_(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(wh(r)){const i=t.length||0,o=r.length||0;t.length=i+o;for(let s=0;s<o;s++)t[i+s]=r[s]}else t.push(r)}}function Gt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Gt.prototype.h=function(){this.defaultPrevented=!0};var tU=function(){if(!ue.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};ue.addEventListener("test",n,e),ue.removeEventListener("test",n,e)}catch{}return t}();function Xl(t){return/^[\s\xa0]*$/.test(t)}function _h(){var t=ue.navigator;return t&&(t=t.userAgent)?t:""}function sr(t){return _h().indexOf(t)!=-1}function Vv(t){return Vv[" "](t),t}Vv[" "]=function(){};function nU(t,e){var n=GU;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var rU=sr("Opera"),Js=sr("Trident")||sr("MSIE"),DC=sr("Edge"),Nm=DC||Js,OC=sr("Gecko")&&!(_h().toLowerCase().indexOf("webkit")!=-1&&!sr("Edge"))&&!(sr("Trident")||sr("MSIE"))&&!sr("Edge"),iU=_h().toLowerCase().indexOf("webkit")!=-1&&!sr("Edge");function LC(){var t=ue.document;return t?t.documentMode:void 0}var Dm;e:{var tp="",np=function(){var t=_h();if(OC)return/rv:([^\);]+)(\)|;)/.exec(t);if(DC)return/Edge\/([\d\.]+)/.exec(t);if(Js)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(iU)return/WebKit\/(\S+)/.exec(t);if(rU)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(np&&(tp=np?np[1]:""),Js){var rp=LC();if(rp!=null&&rp>parseFloat(tp)){Dm=String(rp);break e}}Dm=tp}var Om;if(ue.document&&Js){var q_=LC();Om=q_||parseInt(Dm,10)||void 0}else Om=void 0;var oU=Om;function Jl(t,e){if(Gt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(OC){e:{try{Vv(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:sU[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Jl.$.h.call(this)}}Pt(Jl,Gt);var sU={2:"touch",3:"pen",4:"mouse"};Jl.prototype.h=function(){Jl.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Pu="closure_listenable_"+(1e6*Math.random()|0),aU=0;function lU(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++aU,this.fa=this.ia=!1}function Eh(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Fv(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function uU(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function MC(t){const e={};for(const n in t)e[n]=t[n];return e}const K_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function VC(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let o=0;o<K_.length;o++)n=K_[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Th(t){this.src=t,this.g={},this.h=0}Th.prototype.add=function(t,e,n,r,i){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var s=Mm(t,e,r,i);return-1<s?(e=t[s],n||(e.ia=!1)):(e=new lU(e,this.src,o,!!r,i),e.ia=n,t.push(e)),e};function Lm(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=NC(r,e),o;(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(Eh(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Mm(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==r)return i}return-1}var Uv="closure_lm_"+(1e6*Math.random()|0),ip={};function FC(t,e,n,r,i){if(r&&r.once)return BC(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)FC(t,e[o],n,r,i);return null}return n=$v(n),t&&t[Pu]?t.O(e,n,Au(r)?!!r.capture:!!r,i):UC(t,e,n,!1,r,i)}function UC(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=Au(i)?!!i.capture:!!i,a=jv(t);if(a||(t[Uv]=a=new Th(t)),n=a.add(e,n,r,s,o),n.proxy)return n;if(r=cU(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)tU||(i=s),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent($C(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function cU(){function t(n){return e.call(t.src,t.listener,n)}const e=dU;return t}function BC(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)BC(t,e[o],n,r,i);return null}return n=$v(n),t&&t[Pu]?t.P(e,n,Au(r)?!!r.capture:!!r,i):UC(t,e,n,!0,r,i)}function jC(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)jC(t,e[o],n,r,i);else r=Au(r)?!!r.capture:!!r,n=$v(n),t&&t[Pu]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],n=Mm(o,n,r,i),-1<n&&(Eh(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete t.g[e],t.h--)))):t&&(t=jv(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Mm(e,n,r,i)),(n=-1<t?e[t]:null)&&Bv(n))}function Bv(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Pu])Lm(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent($C(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=jv(e))?(Lm(n,t),n.h==0&&(n.src=null,e[Uv]=null)):Eh(t)}}}function $C(t){return t in ip?ip[t]:ip[t]="on"+t}function dU(t,e){if(t.fa)t=!0;else{e=new Jl(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Bv(t),t=n.call(r,e)}return t}function jv(t){return t=t[Uv],t instanceof Th?t:null}var op="__closure_events_fn_"+(1e9*Math.random()>>>0);function $v(t){return typeof t=="function"?t:(t[op]||(t[op]=function(e){return t.handleEvent(e)}),t[op])}function At(){Xi.call(this),this.i=new Th(this),this.S=this,this.J=null}Pt(At,Xi);At.prototype[Pu]=!0;At.prototype.removeEventListener=function(t,e,n,r){jC(this,t,e,n,r)};function Vt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Gt(e,t);else if(e instanceof Gt)e.target=e.target||t;else{var i=e;e=new Gt(r,t),VC(e,i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=vc(s,r,!0,e)&&i}if(s=e.g=t,i=vc(s,r,!0,e)&&i,i=vc(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)s=e.g=n[o],i=vc(s,r,!1,e)&&i}At.prototype.N=function(){if(At.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Eh(n[r]);delete t.g[e],t.h--}}this.J=null};At.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};At.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function vc(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,l=s.la||s.src;s.ia&&Lm(t.i,s),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var zv=ue.JSON.stringify;class hU{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function fU(){var t=Hv;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class pU{constructor(){this.h=this.g=null}add(e,n){const r=zC.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var zC=new hU(()=>new mU,t=>t.reset());class mU{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function gU(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function vU(t){ue.setTimeout(()=>{throw t},0)}let Zl,eu=!1,Hv=new pU,HC=()=>{const t=ue.Promise.resolve(void 0);Zl=()=>{t.then(yU)}};var yU=()=>{for(var t;t=fU();){try{t.h.call(t.g)}catch(n){vU(n)}var e=zC;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}eu=!1};function Ih(t,e){At.call(this),this.h=t||1,this.g=e||ue,this.j=Kt(this.qb,this),this.l=Date.now()}Pt(Ih,At);q=Ih.prototype;q.ga=!1;q.T=null;q.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Vt(this,"tick"),this.ga&&(Wv(this),this.start()))}};q.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Wv(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}q.N=function(){Ih.$.N.call(this),Wv(this),delete this.g};function qv(t,e,n){if(typeof t=="function")n&&(t=Kt(t,n));else if(t&&typeof t.handleEvent=="function")t=Kt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:ue.setTimeout(t,e||0)}function WC(t){t.g=qv(()=>{t.g=null,t.i&&(t.i=!1,WC(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class wU extends Xi{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:WC(this)}N(){super.N(),this.g&&(ue.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function tu(t){Xi.call(this),this.h=t,this.g={}}Pt(tu,Xi);var G_=[];function qC(t,e,n,r){Array.isArray(n)||(n&&(G_[0]=n.toString()),n=G_);for(var i=0;i<n.length;i++){var o=FC(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function KC(t){Fv(t.g,function(e,n){this.g.hasOwnProperty(n)&&Bv(e)},t),t.g={}}tu.prototype.N=function(){tu.$.N.call(this),KC(this)};tu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Sh(){this.g=!0}Sh.prototype.Ea=function(){this.g=!1};function _U(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var d=u[0];u=u[1];var f=d.split("_");s=2<=f.length&&f[1]=="type"?s+(d+"="+u+"&"):s+(d+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+s})}function EU(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+o+" "+s})}function xs(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+IU(t,n)+(r?" "+r:"")})}function TU(t,e){t.info(function(){return"TIMEOUT: "+e})}Sh.prototype.info=function(){};function IU(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if(o!="noop"&&o!="stop"&&o!="close")for(var s=1;s<i.length;s++)i[s]=""}}}}return zv(n)}catch{return e}}var qo={},Q_=null;function Ch(){return Q_=Q_||new At}qo.Ta="serverreachability";function GC(t){Gt.call(this,qo.Ta,t)}Pt(GC,Gt);function nu(t){const e=Ch();Vt(e,new GC(e))}qo.STAT_EVENT="statevent";function QC(t,e){Gt.call(this,qo.STAT_EVENT,t),this.stat=e}Pt(QC,Gt);function en(t){const e=Ch();Vt(e,new QC(e,t))}qo.Ua="timingevent";function YC(t,e){Gt.call(this,qo.Ua,t),this.size=e}Pt(YC,Gt);function ku(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return ue.setTimeout(function(){t()},e)}var Rh={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},XC={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Kv(){}Kv.prototype.h=null;function Y_(t){return t.h||(t.h=t.i())}function JC(){}var bu={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Gv(){Gt.call(this,"d")}Pt(Gv,Gt);function Qv(){Gt.call(this,"c")}Pt(Qv,Gt);var Vm;function Ah(){}Pt(Ah,Kv);Ah.prototype.g=function(){return new XMLHttpRequest};Ah.prototype.i=function(){return{}};Vm=new Ah;function xu(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new tu(this),this.P=SU,t=Nm?125:void 0,this.V=new Ih(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new ZC}function ZC(){this.i=null,this.g="",this.h=!1}var SU=45e3,eR={},Fm={};q=xu.prototype;q.setTimeout=function(t){this.P=t};function Um(t,e,n){t.L=1,t.A=kh(Gr(e)),t.u=n,t.S=!0,tR(t,null)}function tR(t,e){t.G=Date.now(),Nu(t),t.B=Gr(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),uR(n.i,"t",r),t.o=0,n=t.l.J,t.h=new ZC,t.g=bR(t.l,n?e:null,!t.u),0<t.O&&(t.M=new wU(Kt(t.Pa,t,t.g),t.O)),qC(t.U,t.g,"readystatechange",t.nb),e=t.I?MC(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),nu(),_U(t.j,t.v,t.B,t.m,t.W,t.u)}q.nb=function(t){t=t.target;const e=this.M;e&&lr(t)==3?e.l():this.Pa(t)};q.Pa=function(t){try{if(t==this.g)e:{const d=lr(this.g);var e=this.g.Ia();const f=this.g.da();if(!(3>d)&&(d!=3||Nm||this.g&&(this.h.h||this.g.ja()||eE(this.g)))){this.J||d!=4||e==7||(e==8||0>=f?nu(3):nu(2)),Ph(this);var n=this.g.da();this.ca=n;t:if(nR(this)){var r=eE(this.g);t="";var i=r.length,o=lr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){yo(this),yl(this);var s="";break t}this.h.i=new ue.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.length=0,this.h.g+=t,this.o=0,s=this.h.g}else s=this.g.ja();if(this.i=n==200,EU(this.j,this.v,this.B,this.m,this.W,d,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Xl(a)){var u=a;break t}}u=null}if(n=u)xs(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Bm(this,n);else{this.i=!1,this.s=3,en(12),yo(this),yl(this);break e}}this.S?(rR(this,d,s),Nm&&this.i&&d==3&&(qC(this.U,this.V,"tick",this.mb),this.V.start())):(xs(this.j,this.m,s,null),Bm(this,s)),d==4&&yo(this),this.i&&!this.J&&(d==4?RR(this.l,this):(this.i=!1,Nu(this)))}else WU(this.g),n==400&&0<s.indexOf("Unknown SID")?(this.s=3,en(12)):(this.s=0,en(13)),yo(this),yl(this)}}}catch{}finally{}};function nR(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function rR(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=CU(t,n),i==Fm){e==4&&(t.s=4,en(14),r=!1),xs(t.j,t.m,null,"[Incomplete Response]");break}else if(i==eR){t.s=4,en(15),xs(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else xs(t.j,t.m,i,null),Bm(t,i);nR(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,en(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),ty(e),e.M=!0,en(11))):(xs(t.j,t.m,n,"[Invalid Chunked Response]"),yo(t),yl(t))}q.mb=function(){if(this.g){var t=lr(this.g),e=this.g.ja();this.o<e.length&&(Ph(this),rR(this,t,e),this.i&&t!=4&&Nu(this))}};function CU(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?Fm:(n=Number(e.substring(n,r)),isNaN(n)?eR:(r+=1,r+n>e.length?Fm:(e=e.slice(r,r+n),t.o=r+n,e)))}q.cancel=function(){this.J=!0,yo(this)};function Nu(t){t.Y=Date.now()+t.P,iR(t,t.P)}function iR(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=ku(Kt(t.lb,t),e)}function Ph(t){t.C&&(ue.clearTimeout(t.C),t.C=null)}q.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(TU(this.j,this.B),this.L!=2&&(nu(),en(17)),yo(this),this.s=2,yl(this)):iR(this,this.Y-t)};function yl(t){t.l.H==0||t.J||RR(t.l,t)}function yo(t){Ph(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Wv(t.V),KC(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Bm(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||jm(n.i,t))){if(!t.K&&jm(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)xd(n),Dh(n);else break e;ey(n),en(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=ku(Kt(n.ib,n),6e3));if(1>=hR(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else wo(n,11)}else if((t.K||n.g==t)&&xd(n),!Xl(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const d=u[3];d!=null&&(n.ra=d,n.l.info("VER="+n.ra));const f=u[4];f!=null&&(n.Ga=f,n.l.info("SVER="+n.Ga));const g=u[5];g!=null&&typeof g=="number"&&0<g&&(r=1.5*g,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const v=t.g;if(v){const E=v.g?v.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(E){var o=r.i;o.g||E.indexOf("spdy")==-1&&E.indexOf("quic")==-1&&E.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(Yv(o,o.h),o.h=null))}if(r.F){const I=v.g?v.g.getResponseHeader("X-HTTP-Session-Id"):null;I&&(r.Da=I,$e(r.I,r.F,I))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var s=t;if(r.wa=kR(r,r.J?r.pa:null,r.Y),s.K){fR(r.i,s);var a=s,l=r.L;l&&a.setTimeout(l),a.C&&(Ph(a),Nu(a)),r.g=s}else SR(r);0<n.j.length&&Oh(n)}else u[0]!="stop"&&u[0]!="close"||wo(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?wo(n,7):Zv(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}nu(4)}catch{}}function RU(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(wh(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function AU(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(wh(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function oR(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(wh(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=AU(t),r=RU(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}var sR=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function PU(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Co(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Co){this.h=t.h,kd(this,t.j),this.s=t.s,this.g=t.g,bd(this,t.m),this.l=t.l;var e=t.i,n=new ru;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),X_(this,n),this.o=t.o}else t&&(e=String(t).match(sR))?(this.h=!1,kd(this,e[1]||"",!0),this.s=nl(e[2]||""),this.g=nl(e[3]||"",!0),bd(this,e[4]),this.l=nl(e[5]||"",!0),X_(this,e[6]||"",!0),this.o=nl(e[7]||"")):(this.h=!1,this.i=new ru(null,this.h))}Co.prototype.toString=function(){var t=[],e=this.j;e&&t.push(rl(e,J_,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(rl(e,J_,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(rl(n,n.charAt(0)=="/"?xU:bU,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",rl(n,DU)),t.join("")};function Gr(t){return new Co(t)}function kd(t,e,n){t.j=n?nl(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function bd(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function X_(t,e,n){e instanceof ru?(t.i=e,OU(t.i,t.h)):(n||(e=rl(e,NU)),t.i=new ru(e,t.h))}function $e(t,e,n){t.i.set(e,n)}function kh(t){return $e(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function nl(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function rl(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,kU),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function kU(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var J_=/[#\/\?@]/g,bU=/[#\?:]/g,xU=/[#\?]/g,NU=/[#\?@]/g,DU=/#/g;function ru(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Ji(t){t.g||(t.g=new Map,t.h=0,t.i&&PU(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}q=ru.prototype;q.add=function(t,e){Ji(this),this.i=null,t=va(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function aR(t,e){Ji(t),e=va(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function lR(t,e){return Ji(t),e=va(t,e),t.g.has(e)}q.forEach=function(t,e){Ji(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};q.ta=function(){Ji(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let o=0;o<i.length;o++)n.push(e[r])}return n};q.Z=function(t){Ji(this);let e=[];if(typeof t=="string")lR(this,t)&&(e=e.concat(this.g.get(va(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};q.set=function(t,e){return Ji(this),this.i=null,t=va(this,t),lR(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};q.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function uR(t,e,n){aR(t,e),0<n.length&&(t.i=null,t.g.set(va(t,e),Mv(n)),t.h+=n.length)}q.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;s[r]!==""&&(i+="="+encodeURIComponent(String(s[r]))),t.push(i)}}return this.i=t.join("&")};function va(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function OU(t,e){e&&!t.j&&(Ji(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(aR(this,r),uR(this,i,n))},t)),t.j=e}var LU=class{constructor(t,e){this.g=t,this.map=e}};function cR(t){this.l=t||MU,ue.PerformanceNavigationTiming?(t=ue.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(ue.g&&ue.g.Ka&&ue.g.Ka()&&ue.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var MU=10;function dR(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function hR(t){return t.h?1:t.g?t.g.size:0}function jm(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Yv(t,e){t.g?t.g.add(e):t.h=e}function fR(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}cR.prototype.cancel=function(){if(this.i=pR(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function pR(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Mv(t.i)}var VU=class{stringify(t){return ue.JSON.stringify(t,void 0)}parse(t){return ue.JSON.parse(t,void 0)}};function FU(){this.g=new VU}function UU(t,e,n){const r=n||"";try{oR(t,function(i,o){let s=i;Au(i)&&(s=zv(i)),e.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function BU(t,e){const n=new Sh;if(ue.Image){const r=new Image;r.onload=gc(yc,n,r,"TestLoadImage: loaded",!0,e),r.onerror=gc(yc,n,r,"TestLoadImage: error",!1,e),r.onabort=gc(yc,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=gc(yc,n,r,"TestLoadImage: timeout",!1,e),ue.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function yc(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function bh(t){this.l=t.ec||null,this.j=t.ob||!1}Pt(bh,Kv);bh.prototype.g=function(){return new xh(this.l,this.j)};bh.prototype.i=function(t){return function(){return t}}({});function xh(t,e){At.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Xv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Pt(xh,At);var Xv=0;q=xh.prototype;q.open=function(t,e){if(this.readyState!=Xv)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,iu(this)};q.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||ue).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};q.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Du(this)),this.readyState=Xv};q.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,iu(this)),this.g&&(this.readyState=3,iu(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ue.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;mR(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function mR(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}q.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Du(this):iu(this),this.readyState==3&&mR(this)}};q.Za=function(t){this.g&&(this.response=this.responseText=t,Du(this))};q.Ya=function(t){this.g&&(this.response=t,Du(this))};q.ka=function(){this.g&&Du(this)};function Du(t){t.readyState=4,t.l=null,t.j=null,t.A=null,iu(t)}q.setRequestHeader=function(t,e){this.v.append(t,e)};q.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};q.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function iu(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(xh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var jU=ue.JSON.parse;function rt(t){At.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=gR,this.L=this.M=!1}Pt(rt,At);var gR="",$U=/^https?$/i,zU=["POST","PUT"];q=rt.prototype;q.Oa=function(t){this.M=t};q.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Vm.g(),this.C=this.u?Y_(this.u):Y_(Vm),this.g.onreadystatechange=Kt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){Z_(this,o);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const o of r.keys())n.set(o,r.get(o));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(o=>o.toLowerCase()=="content-type"),i=ue.FormData&&t instanceof ue.FormData,!(0<=NC(zU,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of n)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{wR(this),0<this.B&&((this.L=HU(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Kt(this.ua,this)):this.A=qv(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){Z_(this,o)}};function HU(t){return Js&&typeof t.timeout=="number"&&t.ontimeout!==void 0}q.ua=function(){typeof Lv<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Vt(this,"timeout"),this.abort(8))};function Z_(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,vR(t),Nh(t)}function vR(t){t.F||(t.F=!0,Vt(t,"complete"),Vt(t,"error"))}q.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Vt(this,"complete"),Vt(this,"abort"),Nh(this))};q.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Nh(this,!0)),rt.$.N.call(this)};q.La=function(){this.s||(this.G||this.v||this.l?yR(this):this.kb())};q.kb=function(){yR(this)};function yR(t){if(t.h&&typeof Lv<"u"&&(!t.C[1]||lr(t)!=4||t.da()!=2)){if(t.v&&lr(t)==4)qv(t.La,0,t);else if(Vt(t,"readystatechange"),lr(t)==4){t.h=!1;try{const s=t.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=s===0){var i=String(t.I).match(sR)[1]||null;!i&&ue.self&&ue.self.location&&(i=ue.self.location.protocol.slice(0,-1)),r=!$U.test(i?i.toLowerCase():"")}n=r}if(n)Vt(t,"complete"),Vt(t,"success");else{t.m=6;try{var o=2<lr(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",vR(t)}}finally{Nh(t)}}}}function Nh(t,e){if(t.g){wR(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Vt(t,"ready");try{n.onreadystatechange=r}catch{}}}function wR(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(ue.clearTimeout(t.A),t.A=null)}q.isActive=function(){return!!this.g};function lr(t){return t.g?t.g.readyState:0}q.da=function(){try{return 2<lr(this)?this.g.status:-1}catch{return-1}};q.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};q.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),jU(e)}};function eE(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case gR:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function WU(t){const e={};t=(t.g&&2<=lr(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Xl(t[r]))continue;var n=gU(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const o=e[i]||[];e[i]=o,o.push(n)}uU(e,function(r){return r.join(", ")})}q.Ia=function(){return this.m};q.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function _R(t){let e="";return Fv(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Jv(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=_R(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):$e(t,e,n))}function Wa(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function ER(t){this.Ga=0,this.j=[],this.l=new Sh,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Wa("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Wa("baseRetryDelayMs",5e3,t),this.hb=Wa("retryDelaySeedMs",1e4,t),this.eb=Wa("forwardChannelMaxRetries",2,t),this.xa=Wa("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new cR(t&&t.concurrentRequestLimit),this.Ja=new FU,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}q=ER.prototype;q.ra=8;q.H=1;function Zv(t){if(TR(t),t.H==3){var e=t.W++,n=Gr(t.I);if($e(n,"SID",t.K),$e(n,"RID",e),$e(n,"TYPE","terminate"),Ou(t,n),e=new xu(t,t.l,e),e.L=2,e.A=kh(Gr(n)),n=!1,ue.navigator&&ue.navigator.sendBeacon)try{n=ue.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&ue.Image&&(new Image().src=e.A,n=!0),n||(e.g=bR(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Nu(e)}PR(t)}function Dh(t){t.g&&(ty(t),t.g.cancel(),t.g=null)}function TR(t){Dh(t),t.u&&(ue.clearTimeout(t.u),t.u=null),xd(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&ue.clearTimeout(t.m),t.m=null)}function Oh(t){if(!dR(t.i)&&!t.m){t.m=!0;var e=t.Na;Zl||HC(),eu||(Zl(),eu=!0),Hv.add(e,t),t.C=0}}function qU(t,e){return hR(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=ku(Kt(t.Na,t,e),AR(t,t.C)),t.C++,!0)}q.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new xu(this,this.l,t);let o=this.s;if(this.U&&(o?(o=MC(o),VC(o,this.U)):o=this.U),this.o!==null||this.O||(i.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=IR(this,i,e),n=Gr(this.I),$e(n,"RID",t),$e(n,"CVER",22),this.F&&$e(n,"X-HTTP-Session-Id",this.F),Ou(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(_R(o)))+"&"+e:this.o&&Jv(n,this.o,o)),Yv(this.i,i),this.bb&&$e(n,"TYPE","init"),this.P?($e(n,"$req",e),$e(n,"SID","null"),i.aa=!0,Um(i,n,null)):Um(i,n,e),this.H=2}}else this.H==3&&(t?tE(this,t):this.j.length==0||dR(this.i)||tE(this))};function tE(t,e){var n;e?n=e.m:n=t.W++;const r=Gr(t.I);$e(r,"SID",t.K),$e(r,"RID",n),$e(r,"AID",t.V),Ou(t,r),t.o&&t.s&&Jv(r,t.o,t.s),n=new xu(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=IR(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Yv(t.i,n),Um(n,r,e)}function Ou(t,e){t.na&&Fv(t.na,function(n,r){$e(e,r,n)}),t.h&&oR({},function(n,r){$e(e,r,n)})}function IR(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Kt(t.h.Va,t.h,t):null;e:{var i=t.j;let o=-1;for(;;){const s=["count="+n];o==-1?0<n?(o=i[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let l=0;l<n;l++){let u=i[l].g;const d=i[l].map;if(u-=o,0>u)o=Math.max(0,i[l].g-100),a=!1;else try{UU(d,s,"req"+u+"_")}catch{r&&r(d)}}if(a){r=s.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function SR(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Zl||HC(),eu||(Zl(),eu=!0),Hv.add(e,t),t.A=0}}function ey(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=ku(Kt(t.Ma,t),AR(t,t.A)),t.A++,!0)}q.Ma=function(){if(this.u=null,CR(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=ku(Kt(this.jb,this),t)}};q.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,en(10),Dh(this),CR(this))};function ty(t){t.B!=null&&(ue.clearTimeout(t.B),t.B=null)}function CR(t){t.g=new xu(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Gr(t.wa);$e(e,"RID","rpc"),$e(e,"SID",t.K),$e(e,"AID",t.V),$e(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&$e(e,"TO",t.qa),$e(e,"TYPE","xmlhttp"),Ou(t,e),t.o&&t.s&&Jv(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=kh(Gr(e)),n.u=null,n.S=!0,tR(n,t)}q.ib=function(){this.v!=null&&(this.v=null,Dh(this),ey(this),en(19))};function xd(t){t.v!=null&&(ue.clearTimeout(t.v),t.v=null)}function RR(t,e){var n=null;if(t.g==e){xd(t),ty(t),t.g=null;var r=2}else if(jm(t.i,e))n=e.F,fR(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=Ch(),Vt(r,new YC(r,n)),Oh(t)}else SR(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&qU(t,e)||r==2&&ey(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:wo(t,5);break;case 4:wo(t,10);break;case 3:wo(t,6);break;default:wo(t,2)}}}function AR(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function wo(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Kt(t.pb,t);n||(n=new Co("//www.google.com/images/cleardot.gif"),ue.location&&ue.location.protocol=="http"||kd(n,"https"),kh(n)),BU(n.toString(),r)}else en(2);t.H=0,t.h&&t.h.za(e),PR(t),TR(t)}q.pb=function(t){t?(this.l.info("Successfully pinged google.com"),en(2)):(this.l.info("Failed to ping google.com"),en(1))};function PR(t){if(t.H=0,t.ma=[],t.h){const e=pR(t.i);(e.length!=0||t.j.length!=0)&&(W_(t.ma,e),W_(t.ma,t.j),t.i.i.length=0,Mv(t.j),t.j.length=0),t.h.ya()}}function kR(t,e,n){var r=n instanceof Co?Gr(n):new Co(n);if(r.g!="")e&&(r.g=e+"."+r.g),bd(r,r.m);else{var i=ue.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new Co(null);r&&kd(o,r),e&&(o.g=e),i&&bd(o,i),n&&(o.l=n),r=o}return n=t.F,e=t.Da,n&&e&&$e(r,n,e),$e(r,"VER",t.ra),Ou(t,r),r}function bR(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new rt(new bh({ob:n})):new rt(t.va),e.Oa(t.J),e}q.isActive=function(){return!!this.h&&this.h.isActive(this)};function xR(){}q=xR.prototype;q.Ba=function(){};q.Aa=function(){};q.za=function(){};q.ya=function(){};q.isActive=function(){return!0};q.Va=function(){};function Nd(){if(Js&&!(10<=Number(oU)))throw Error("Environmental error: no available transport.")}Nd.prototype.g=function(t,e){return new En(t,e)};function En(t,e){At.call(this),this.g=new ER(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Xl(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Xl(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new ya(this)}Pt(En,At);En.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;en(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=kR(t,null,t.Y),Oh(t)};En.prototype.close=function(){Zv(this.g)};En.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=zv(t),t=n);e.j.push(new LU(e.fb++,t)),e.H==3&&Oh(e)};En.prototype.N=function(){this.g.h=null,delete this.j,Zv(this.g),delete this.g,En.$.N.call(this)};function NR(t){Gv.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Pt(NR,Gv);function DR(){Qv.call(this),this.status=1}Pt(DR,Qv);function ya(t){this.g=t}Pt(ya,xR);ya.prototype.Ba=function(){Vt(this.g,"a")};ya.prototype.Aa=function(t){Vt(this.g,new NR(t))};ya.prototype.za=function(t){Vt(this.g,new DR)};ya.prototype.ya=function(){Vt(this.g,"b")};function KU(){this.blockSize=-1}function Xn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Pt(Xn,KU);Xn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function sp(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var o=t.g[3],s=e+(o^n&(i^o))+r[0]+3614090360&4294967295;e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[1]+3905402710&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[2]+606105819&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[3]+3250441966&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[4]+4118548399&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[5]+1200080426&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[6]+2821735955&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[7]+4249261313&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[8]+1770035416&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[9]+2336552879&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[10]+4294925233&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[11]+2304563134&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[12]+1804603682&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[13]+4254626195&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[14]+2792965006&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[15]+1236535329&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(i^o&(n^i))+r[1]+4129170786&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[6]+3225465664&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[11]+643717713&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[0]+3921069994&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[5]+3593408605&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[10]+38016083&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[15]+3634488961&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[4]+3889429448&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[9]+568446438&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[14]+3275163606&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[3]+4107603335&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[8]+1163531501&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[13]+2850285829&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[2]+4243563512&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[7]+1735328473&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[12]+2368359562&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(n^i^o)+r[5]+4294588738&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[8]+2272392833&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[11]+1839030562&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[14]+4259657740&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[1]+2763975236&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[4]+1272893353&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[7]+4139469664&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[10]+3200236656&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[13]+681279174&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[0]+3936430074&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[3]+3572445317&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[6]+76029189&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[9]+3654602809&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[12]+3873151461&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[15]+530742520&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[2]+3299628645&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(i^(n|~o))+r[0]+4096336452&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[7]+1126891415&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[14]+2878612391&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[5]+4237533241&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[12]+1700485571&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[3]+2399980690&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[10]+4293915773&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[1]+2240044497&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[8]+1873313359&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[15]+4264355552&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[6]+2734768916&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[13]+1309151649&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[4]+4149444226&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[11]+3174756917&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[2]+718787259&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+o&4294967295}Xn.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,o=0;o<e;){if(i==0)for(;o<=n;)sp(this,t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<e;)if(r[i++]=t.charCodeAt(o++),i==this.blockSize){sp(this,r),i=0;break}}else for(;o<e;)if(r[i++]=t[o++],i==this.blockSize){sp(this,r),i=0;break}}this.h=i,this.i+=e};Xn.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Le(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var o=t[i]|0;r&&o==e||(n[i]=o,r=!1)}this.g=n}var GU={};function ny(t){return-128<=t&&128>t?nU(t,function(e){return new Le([e|0],0>e?-1:0)}):new Le([t|0],0>t?-1:0)}function ur(t){if(isNaN(t)||!isFinite(t))return js;if(0>t)return Ot(ur(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=$m;return new Le(e,0)}function OR(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Ot(OR(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=ur(Math.pow(e,8)),r=js,i=0;i<t.length;i+=8){var o=Math.min(8,t.length-i),s=parseInt(t.substring(i,i+o),e);8>o?(o=ur(Math.pow(e,o)),r=r.R(o).add(ur(s))):(r=r.R(n),r=r.add(ur(s)))}return r}var $m=4294967296,js=ny(0),zm=ny(1),nE=ny(16777216);q=Le.prototype;q.ea=function(){if(bn(this))return-Ot(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:$m+r)*e,e*=$m}return t};q.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Or(this))return"0";if(bn(this))return"-"+Ot(this).toString(t);for(var e=ur(Math.pow(t,6)),n=this,r="";;){var i=Od(n,e).g;n=Dd(n,i.R(e));var o=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,Or(n))return o+r;for(;6>o.length;)o="0"+o;r=o+r}};q.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Or(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function bn(t){return t.h==-1}q.X=function(t){return t=Dd(this,t),bn(t)?-1:Or(t)?0:1};function Ot(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Le(n,~t.h).add(zm)}q.abs=function(){return bn(this)?Ot(this):this};q.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var o=r+(this.D(i)&65535)+(t.D(i)&65535),s=(o>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=s>>>16,o&=65535,s&=65535,n[i]=s<<16|o}return new Le(n,n[n.length-1]&-2147483648?-1:0)};function Dd(t,e){return t.add(Ot(e))}q.R=function(t){if(Or(this)||Or(t))return js;if(bn(this))return bn(t)?Ot(this).R(Ot(t)):Ot(Ot(this).R(t));if(bn(t))return Ot(this.R(Ot(t)));if(0>this.X(nE)&&0>t.X(nE))return ur(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var o=this.D(r)>>>16,s=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=s*l,wc(n,2*r+2*i),n[2*r+2*i+1]+=o*l,wc(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,wc(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,wc(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Le(n,0)};function wc(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function qa(t,e){this.g=t,this.h=e}function Od(t,e){if(Or(e))throw Error("division by zero");if(Or(t))return new qa(js,js);if(bn(t))return e=Od(Ot(t),e),new qa(Ot(e.g),Ot(e.h));if(bn(e))return e=Od(t,Ot(e)),new qa(Ot(e.g),e.h);if(30<t.g.length){if(bn(t)||bn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=zm,r=e;0>=r.X(t);)n=rE(n),r=rE(r);var i=hs(n,1),o=hs(r,1);for(r=hs(r,2),n=hs(n,2);!Or(r);){var s=o.add(r);0>=s.X(t)&&(i=i.add(n),o=s),r=hs(r,1),n=hs(n,1)}return e=Dd(t,i.R(e)),new qa(i,e)}for(i=js;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),o=ur(n),s=o.R(e);bn(s)||0<s.X(t);)n-=r,o=ur(n),s=o.R(e);Or(o)&&(o=zm),i=i.add(o),t=Dd(t,s)}return new qa(i,t)}q.gb=function(t){return Od(this,t).h};q.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Le(n,this.h&t.h)};q.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Le(n,this.h|t.h)};q.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Le(n,this.h^t.h)};function rE(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Le(n,t.h)}function hs(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],o=0;o<r;o++)i[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new Le(i,t.h)}Nd.prototype.createWebChannel=Nd.prototype.g;En.prototype.send=En.prototype.u;En.prototype.open=En.prototype.m;En.prototype.close=En.prototype.close;Rh.NO_ERROR=0;Rh.TIMEOUT=8;Rh.HTTP_ERROR=6;XC.COMPLETE="complete";JC.EventType=bu;bu.OPEN="a";bu.CLOSE="b";bu.ERROR="c";bu.MESSAGE="d";At.prototype.listen=At.prototype.O;rt.prototype.listenOnce=rt.prototype.P;rt.prototype.getLastError=rt.prototype.Sa;rt.prototype.getLastErrorCode=rt.prototype.Ia;rt.prototype.getStatus=rt.prototype.da;rt.prototype.getResponseJson=rt.prototype.Wa;rt.prototype.getResponseText=rt.prototype.ja;rt.prototype.send=rt.prototype.ha;rt.prototype.setWithCredentials=rt.prototype.Oa;Xn.prototype.digest=Xn.prototype.l;Xn.prototype.reset=Xn.prototype.reset;Xn.prototype.update=Xn.prototype.j;Le.prototype.add=Le.prototype.add;Le.prototype.multiply=Le.prototype.R;Le.prototype.modulo=Le.prototype.gb;Le.prototype.compare=Le.prototype.X;Le.prototype.toNumber=Le.prototype.ea;Le.prototype.toString=Le.prototype.toString;Le.prototype.getBits=Le.prototype.D;Le.fromNumber=ur;Le.fromString=OR;var QU=function(){return new Nd},YU=function(){return Ch()},ap=Rh,XU=XC,JU=qo,iE={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},_c=JC,ZU=rt,eB=Xn,$s=Le;const oE="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ht.UNAUTHENTICATED=new Ht(null),Ht.GOOGLE_CREDENTIALS=new Ht("google-credentials-uid"),Ht.FIRST_PARTY=new Ht("first-party-uid"),Ht.MOCK_USER=new Ht("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wa="10.8.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vo=new Iv("@firebase/firestore");function Ka(){return Vo.logLevel}function W(t,...e){if(Vo.logLevel<=Ie.DEBUG){const n=e.map(ry);Vo.debug(`Firestore (${wa}): ${t}`,...n)}}function yr(t,...e){if(Vo.logLevel<=Ie.ERROR){const n=e.map(ry);Vo.error(`Firestore (${wa}): ${t}`,...n)}}function Zs(t,...e){if(Vo.logLevel<=Ie.WARN){const n=e.map(ry);Vo.warn(`Firestore (${wa}): ${t}`,...n)}}function ry(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function se(t="Unexpected state"){const e=`FIRESTORE (${wa}) INTERNAL ASSERTION FAILED: `+t;throw yr(e),new Error(e)}function Ue(t,e){t||se()}function fe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class X extends Er{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class tB{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ht.UNAUTHENTICATED))}shutdown(){}}class nB{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class rB{constructor(e){this.t=e,this.currentUser=Ht.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new Mi;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Mi,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{W("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(W("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Mi)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(W("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ue(typeof r.accessToken=="string"),new LR(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ue(e===null||typeof e=="string"),new Ht(e)}}class iB{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Ht.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class oB{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new iB(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ht.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class sB{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class aB{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=o=>{o.error!=null&&W("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,W("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{W("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):W("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ue(typeof n.token=="string"),this.R=n.token,new sB(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lB(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=lB(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function xe(t,e){return t<e?-1:t>e?1:0}function ea(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new X(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new X(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new X(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new X(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return vt.fromMillis(Date.now())}static fromDate(e){return vt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new vt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?xe(this.nanoseconds,e.nanoseconds):xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(e){this.timestamp=e}static fromTimestamp(e){return new de(e)}static min(){return new de(new vt(0,0))}static max(){return new de(new vt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou{constructor(e,n,r){n===void 0?n=0:n>e.length&&se(),r===void 0?r=e.length-n:r>e.length-n&&se(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ou.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ou?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class We extends ou{construct(e,n,r){return new We(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new X(F.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new We(n)}static emptyPath(){return new We([])}}const uB=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Lt extends ou{construct(e,n,r){return new Lt(e,n,r)}static isValidIdentifier(e){return uB.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Lt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Lt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new X(F.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new X(F.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new X(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new X(F.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Lt(n)}static emptyPath(){return new Lt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.path=e}static fromPath(e){return new ee(We.fromString(e))}static fromName(e){return new ee(We.fromString(e).popFirst(5))}static empty(){return new ee(We.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&We.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return We.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ee(new We(e.slice()))}}function cB(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=de.fromTimestamp(r===1e9?new vt(n+1,0):new vt(n,r));return new zi(i,ee.empty(),e)}function dB(t){return new zi(t.readTime,t.key,-1)}class zi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new zi(de.min(),ee.empty(),-1)}static max(){return new zi(de.max(),ee.empty(),-1)}}function hB(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ee.comparator(t.documentKey,e.documentKey),n!==0?n:xe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class pB{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lu(t){if(t.code!==F.FAILED_PRECONDITION||t.message!==fB)throw t;W("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&se(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new V((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof V?n:V.resolve(n)}catch(n){return V.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):V.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):V.reject(n)}static resolve(e){return new V((n,r)=>{n(e)})}static reject(e){return new V((n,r)=>{r(e)})}static waitFor(e){return new V((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=V.resolve(!1);for(const r of e)n=n.next(i=>i?V.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new V((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const u=l;n(e[u]).next(d=>{s[u]=d,++a,a===o&&r(s)},d=>i(d))}})}static doWhile(e,n){return new V((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iy{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new Mi,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new wl(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=oy(r.target.error);this.V.reject(new wl(e,i))}}static open(e,n,r,i){try{return new iy(n,e.transaction(i,r))}catch(o){throw new wl(n,o)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(W("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new gB(n)}}class _o{constructor(e,n,r){this.name=e,this.version=n,this.p=r,_o.S(yt())===12.2&&yr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return W("SimpleDb","Removing database:",e),co(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!QS())return!1;if(_o.C())return!0;const e=yt(),n=_o.S(e),r=0<n&&n<10,i=_o.v(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async O(e){return this.db||(W("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=o=>{const s=o.target.result;n(s)},i.onblocked=()=>{r(new wl(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=o=>{const s=o.target.error;s.name==="VersionError"?r(new X(F.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):s.name==="InvalidStateError"?r(new X(F.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+s)):r(new wl(e,s))},i.onupgradeneeded=o=>{W("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);const s=o.target.result;this.p.N(s,i.transaction,o.oldVersion,this.version).next(()=>{W("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.B&&(this.db.onversionchange=n=>this.B(n)),this.db}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const o=n==="readonly";let s=0;for(;;){++s;try{this.db=await this.O(e);const a=iy.open(this.db,e,o?"readonly":"readwrite",r),l=i(a).next(u=>(a.g(),u)).catch(u=>(a.abort(u),V.reject(u))).toPromise();return l.catch(()=>{}),await a.m,l}catch(a){const l=a,u=l.name!=="FirebaseError"&&s<3;if(W("SimpleDb","Transaction failed with error:",l.message,"Retrying:",u),this.close(),!u)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}class mB{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return co(this.k.delete())}}class wl extends X{constructor(e,n){super(F.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Mu(t){return t.name==="IndexedDbTransactionError"}class gB{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(W("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(W("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),co(r)}add(e){return W("SimpleDb","ADD",this.store.name,e,e),co(this.store.add(e))}get(e){return co(this.store.get(e)).next(n=>(n===void 0&&(n=null),W("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return W("SimpleDb","DELETE",this.store.name,e),co(this.store.delete(e))}count(){return W("SimpleDb","COUNT",this.store.name),co(this.store.count())}W(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const o=i.getAll(r.range);return new V((s,a)=>{o.onerror=l=>{a(l.target.error)},o.onsuccess=l=>{s(l.target.result)}})}{const o=this.cursor(r),s=[];return this.G(o,(a,l)=>{s.push(l)}).next(()=>s)}}j(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new V((i,o)=>{r.onerror=s=>{o(s.target.error)},r.onsuccess=s=>{i(s.target.result)}})}H(e,n){W("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.J=!1;const i=this.cursor(r);return this.G(i,(o,s,a)=>a.delete())}Y(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.G(i,n)}Z(e){const n=this.cursor({});return new V((r,i)=>{n.onerror=o=>{const s=oy(o.target.error);i(s)},n.onsuccess=o=>{const s=o.target.result;s?e(s.primaryKey,s.value).next(a=>{a?s.continue():r()}):r()}})}G(e,n){const r=[];return new V((i,o)=>{e.onerror=s=>{o(s.target.error)},e.onsuccess=s=>{const a=s.target.result;if(!a)return void i();const l=new mB(a),u=n(a.primaryKey,a.value,l);if(u instanceof V){const d=u.catch(f=>(l.done(),V.reject(f)));r.push(d)}l.isDone?i():l.$===null?a.continue():a.continue(l.$)}}).next(()=>V.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function co(t){return new V((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=oy(r.target.error);n(i)}})}let sE=!1;function oy(t){const e=_o.S(yt());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new X("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return sE||(sE=!0,setTimeout(()=>{throw r},0)),r}}return t}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sy{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}sy._e=-1;function Lh(t){return t==null}function Ld(t){return t===0&&1/t==-1/0}function vB(t){return typeof t=="number"&&Number.isInteger(t)&&!Ld(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ko(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function VR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e,n){this.comparator=e,this.root=n||Dt.EMPTY}insert(e,n){return new Xe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Dt.BLACK,null,null))}remove(e){return new Xe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Dt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ec(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ec(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ec(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ec(this.root,e,this.comparator,!0)}}class Ec{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Dt{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Dt.RED,this.left=i??Dt.EMPTY,this.right=o??Dt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Dt(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Dt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Dt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Dt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Dt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw se();const e=this.left.check();if(e!==this.right.check())throw se();return e+(this.isRed()?0:1)}}Dt.EMPTY=null,Dt.RED=!0,Dt.BLACK=!1;Dt.EMPTY=new class{constructor(){this.size=0}get key(){throw se()}get value(){throw se()}get color(){throw se()}get left(){throw se()}get right(){throw se()}copy(e,n,r,i,o){return this}insert(e,n,r){return new Dt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.comparator=e,this.data=new Xe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new lE(this.data.getIterator())}getIteratorFrom(e){return new lE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ft)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ft(this.comparator);return n.data=e,n}}class lE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.fields=e,e.sort(Lt.comparator)}static empty(){return new vn([])}unionWith(e){let n=new Ft(Lt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new vn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ea(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new FR("Invalid base64 string: "+o):o}}(e);return new Yt(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new Yt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Yt.EMPTY_BYTE_STRING=new Yt("");const yB=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Hi(t){if(Ue(!!t),typeof t=="string"){let e=0;const n=yB.exec(t);if(Ue(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:mt(t.seconds),nanos:mt(t.nanos)}}function mt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Fo(t){return typeof t=="string"?Yt.fromBase64String(t):Yt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ay(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function ly(t){const e=t.mapValue.fields.__previous_value__;return ay(e)?ly(e):e}function su(t){const e=Hi(t.mapValue.fields.__local_write_time__.timestampValue);return new vt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wB{constructor(e,n,r,i,o,s,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class au{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new au("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof au&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Uo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ay(t)?4:_B(t)?9007199254740991:10:se()}function wr(t,e){if(t===e)return!0;const n=Uo(t);if(n!==Uo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return su(t).isEqual(su(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=Hi(i.timestampValue),a=Hi(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Fo(i.bytesValue).isEqual(Fo(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return mt(i.geoPointValue.latitude)===mt(o.geoPointValue.latitude)&&mt(i.geoPointValue.longitude)===mt(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return mt(i.integerValue)===mt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=mt(i.doubleValue),a=mt(o.doubleValue);return s===a?Ld(s)===Ld(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return ea(t.arrayValue.values||[],e.arrayValue.values||[],wr);case 10:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(aE(s)!==aE(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!wr(s[l],a[l])))return!1;return!0}(t,e);default:return se()}}function lu(t,e){return(t.values||[]).find(n=>wr(n,e))!==void 0}function ta(t,e){if(t===e)return 0;const n=Uo(t),r=Uo(e);if(n!==r)return xe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return xe(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=mt(o.integerValue||o.doubleValue),l=mt(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return uE(t.timestampValue,e.timestampValue);case 4:return uE(su(t),su(e));case 5:return xe(t.stringValue,e.stringValue);case 6:return function(o,s){const a=Fo(o),l=Fo(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let u=0;u<a.length&&u<l.length;u++){const d=xe(a[u],l[u]);if(d!==0)return d}return xe(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=xe(mt(o.latitude),mt(s.latitude));return a!==0?a:xe(mt(o.longitude),mt(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,s){const a=o.values||[],l=s.values||[];for(let u=0;u<a.length&&u<l.length;++u){const d=ta(a[u],l[u]);if(d)return d}return xe(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===Tc.mapValue&&s===Tc.mapValue)return 0;if(o===Tc.mapValue)return 1;if(s===Tc.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),u=s.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let f=0;f<l.length&&f<d.length;++f){const g=xe(l[f],d[f]);if(g!==0)return g;const v=ta(a[l[f]],u[d[f]]);if(v!==0)return v}return xe(l.length,d.length)}(t.mapValue,e.mapValue);default:throw se()}}function uE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return xe(t,e);const n=Hi(t),r=Hi(e),i=xe(n.seconds,r.seconds);return i!==0?i:xe(n.nanos,r.nanos)}function na(t){return Hm(t)}function Hm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Hi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Fo(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ee.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=Hm(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${Hm(n.fields[s])}`;return i+"}"}(t.mapValue):se()}function Wm(t){return!!t&&"integerValue"in t}function uy(t){return!!t&&"arrayValue"in t}function cE(t){return!!t&&"nullValue"in t}function dE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Hc(t){return!!t&&"mapValue"in t}function _l(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ko(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=_l(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=_l(t.arrayValue.values[n]);return e}return Object.assign({},t)}function _B(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.value=e}static empty(){return new sn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Hc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=_l(n)}setAll(e){let n=Lt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=_l(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Hc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return wr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Hc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ko(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new sn(_l(this.value))}}function UR(t){const e=[];return Ko(t.fields,(n,r)=>{const i=new Lt([n]);if(Hc(r)){const o=UR(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new vn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new qt(e,0,de.min(),de.min(),de.min(),sn.empty(),0)}static newFoundDocument(e,n,r,i){return new qt(e,1,n,de.min(),r,i,0)}static newNoDocument(e,n){return new qt(e,2,n,de.min(),de.min(),sn.empty(),0)}static newUnknownDocument(e,n){return new qt(e,3,n,de.min(),de.min(),sn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(de.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=sn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=de.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof qt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new qt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e,n){this.position=e,this.inclusive=n}}function hE(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=ee.comparator(ee.fromName(s.referenceValue),n.key):r=ta(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function fE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!wr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(e,n="asc"){this.field=e,this.dir=n}}function EB(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{}class Tt extends BR{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new IB(e,n,r):n==="array-contains"?new RB(e,r):n==="in"?new AB(e,r):n==="not-in"?new PB(e,r):n==="array-contains-any"?new kB(e,r):new Tt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new SB(e,r):new CB(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ta(n,this.value)):n!==null&&Uo(this.value)===Uo(n)&&this.matchesComparison(ta(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return se()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class _r extends BR{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new _r(e,n)}matches(e){return jR(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function jR(t){return t.op==="and"}function $R(t){return TB(t)&&jR(t)}function TB(t){for(const e of t.filters)if(e instanceof _r)return!1;return!0}function qm(t){if(t instanceof Tt)return t.field.canonicalString()+t.op.toString()+na(t.value);if($R(t))return t.filters.map(e=>qm(e)).join(",");{const e=t.filters.map(n=>qm(n)).join(",");return`${t.op}(${e})`}}function zR(t,e){return t instanceof Tt?function(r,i){return i instanceof Tt&&r.op===i.op&&r.field.isEqual(i.field)&&wr(r.value,i.value)}(t,e):t instanceof _r?function(r,i){return i instanceof _r&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&zR(s,i.filters[a]),!0):!1}(t,e):void se()}function HR(t){return t instanceof Tt?function(n){return`${n.field.canonicalString()} ${n.op} ${na(n.value)}`}(t):t instanceof _r?function(n){return n.op.toString()+" {"+n.getFilters().map(HR).join(" ,")+"}"}(t):"Filter"}class IB extends Tt{constructor(e,n,r){super(e,n,r),this.key=ee.fromName(r.referenceValue)}matches(e){const n=ee.comparator(e.key,this.key);return this.matchesComparison(n)}}class SB extends Tt{constructor(e,n){super(e,"in",n),this.keys=WR("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class CB extends Tt{constructor(e,n){super(e,"not-in",n),this.keys=WR("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function WR(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ee.fromName(r.referenceValue))}class RB extends Tt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return uy(n)&&lu(n.arrayValue,this.value)}}class AB extends Tt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&lu(this.value.arrayValue,n)}}class PB extends Tt{constructor(e,n){super(e,"not-in",n)}matches(e){if(lu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!lu(this.value.arrayValue,n)}}class kB extends Tt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!uy(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>lu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bB{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ce=null}}function pE(t,e=null,n=[],r=[],i=null,o=null,s=null){return new bB(t,e,n,r,i,o,s)}function cy(t){const e=fe(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>qm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Lh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>na(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>na(r)).join(",")),e.ce=n}return e.ce}function dy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!EB(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!zR(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!fE(t.startAt,e.startAt)&&fE(t.endAt,e.endAt)}function Km(t){return ee.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function xB(t,e,n,r,i,o,s,a){return new Mh(t,e,n,r,i,o,s,a)}function hy(t){return new Mh(t)}function mE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function NB(t){return t.collectionGroup!==null}function El(t){const e=fe(t);if(e.le===null){e.le=[];const n=new Set;for(const o of e.explicitOrderBy)e.le.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Ft(Lt.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.le.push(new Vd(o,r))}),n.has(Lt.keyField().canonicalString())||e.le.push(new Vd(Lt.keyField(),r))}return e.le}function gr(t){const e=fe(t);return e.he||(e.he=DB(e,El(t))),e.he}function DB(t,e){if(t.limitType==="F")return pE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Vd(i.field,o)});const n=t.endAt?new Md(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Md(t.startAt.position,t.startAt.inclusive):null;return pE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Gm(t,e,n){return new Mh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Vh(t,e){return dy(gr(t),gr(e))&&t.limitType===e.limitType}function qR(t){return`${cy(gr(t))}|lt:${t.limitType}`}function fs(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>HR(i)).join(", ")}]`),Lh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>na(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>na(i)).join(",")),`Target(${r})`}(gr(t))}; limitType=${t.limitType})`}function Fh(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ee.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of El(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,l){const u=hE(s,a,l);return s.inclusive?u<=0:u<0}(r.startAt,El(r),i)||r.endAt&&!function(s,a,l){const u=hE(s,a,l);return s.inclusive?u>=0:u>0}(r.endAt,El(r),i))}(t,e)}function OB(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function KR(t){return(e,n)=>{let r=!1;for(const i of El(t)){const o=LB(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function LB(t,e,n){const r=t.field.isKeyField()?ee.comparator(e.key,n.key):function(o,s,a){const l=s.data.field(o),u=a.data.field(o);return l!==null&&u!==null?ta(l,u):se()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return se()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ko(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return VR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MB=new Xe(ee.comparator);function Qr(){return MB}const GR=new Xe(ee.comparator);function il(...t){let e=GR;for(const n of t)e=e.insert(n.key,n);return e}function QR(t){let e=GR;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Eo(){return Tl()}function YR(){return Tl()}function Tl(){return new _a(t=>t.toString(),(t,e)=>t.isEqual(e))}const VB=new Xe(ee.comparator),FB=new Ft(ee.comparator);function Ee(...t){let e=FB;for(const n of t)e=e.add(n);return e}const UB=new Ft(xe);function BB(){return UB}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XR(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ld(e)?"-0":e}}function JR(t){return{integerValue:""+t}}function jB(t,e){return vB(e)?JR(e):XR(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(){this._=void 0}}function $B(t,e,n){return t instanceof uu?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&ay(o)&&(o=ly(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof cu?eA(t,e):t instanceof du?tA(t,e):function(i,o){const s=ZR(i,o),a=gE(s)+gE(i.Ie);return Wm(s)&&Wm(i.Ie)?JR(a):XR(i.serializer,a)}(t,e)}function zB(t,e,n){return t instanceof cu?eA(t,e):t instanceof du?tA(t,e):n}function ZR(t,e){return t instanceof Fd?function(r){return Wm(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class uu extends Uh{}class cu extends Uh{constructor(e){super(),this.elements=e}}function eA(t,e){const n=nA(e);for(const r of t.elements)n.some(i=>wr(i,r))||n.push(r);return{arrayValue:{values:n}}}class du extends Uh{constructor(e){super(),this.elements=e}}function tA(t,e){let n=nA(e);for(const r of t.elements)n=n.filter(i=>!wr(i,r));return{arrayValue:{values:n}}}class Fd extends Uh{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function gE(t){return mt(t.integerValue||t.doubleValue)}function nA(t){return uy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HB{constructor(e,n){this.field=e,this.transform=n}}function WB(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof cu&&i instanceof cu||r instanceof du&&i instanceof du?ea(r.elements,i.elements,wr):r instanceof Fd&&i instanceof Fd?wr(r.Ie,i.Ie):r instanceof uu&&i instanceof uu}(t.transform,e.transform)}class qB{constructor(e,n){this.version=e,this.transformResults=n}}class Gn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Gn}static exists(e){return new Gn(void 0,e)}static updateTime(e){return new Gn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Wc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Bh{}function rA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new oA(t.key,Gn.none()):new Vu(t.key,t.data,Gn.none());{const n=t.data,r=sn.empty();let i=new Ft(Lt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Zi(t.key,r,new vn(i.toArray()),Gn.none())}}function KB(t,e,n){t instanceof Vu?function(i,o,s){const a=i.value.clone(),l=yE(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Zi?function(i,o,s){if(!Wc(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=yE(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(iA(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Il(t,e,n,r){return t instanceof Vu?function(o,s,a,l){if(!Wc(o.precondition,s))return a;const u=o.value.clone(),d=wE(o.fieldTransforms,l,s);return u.setAll(d),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Zi?function(o,s,a,l){if(!Wc(o.precondition,s))return a;const u=wE(o.fieldTransforms,l,s),d=s.data;return d.setAll(iA(o)),d.setAll(u),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(o,s,a){return Wc(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function GB(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=ZR(r.transform,i||null);o!=null&&(n===null&&(n=sn.empty()),n.set(r.field,o))}return n||null}function vE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ea(r,i,(o,s)=>WB(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Vu extends Bh{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Zi extends Bh{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function iA(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function yE(t,e,n){const r=new Map;Ue(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,zB(s,a,n[i]))}return r}function wE(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,$B(o,s,e))}return r}class oA extends Bh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class QB extends Bh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YB{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&KB(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Il(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Il(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=YR();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=rA(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(de.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ee())}isEqual(e){return this.batchId===e.batchId&&ea(this.mutations,e.mutations,(n,r)=>vE(n,r))&&ea(this.baseMutations,e.baseMutations,(n,r)=>vE(n,r))}}class fy{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ue(e.mutations.length===r.length);let i=function(){return VB}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new fy(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XB{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JB{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pt,Ae;function ZB(t){switch(t){default:return se();case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0}}function sA(t){if(t===void 0)return yr("GRPC error has no .code"),F.UNKNOWN;switch(t){case pt.OK:return F.OK;case pt.CANCELLED:return F.CANCELLED;case pt.UNKNOWN:return F.UNKNOWN;case pt.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case pt.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case pt.INTERNAL:return F.INTERNAL;case pt.UNAVAILABLE:return F.UNAVAILABLE;case pt.UNAUTHENTICATED:return F.UNAUTHENTICATED;case pt.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case pt.NOT_FOUND:return F.NOT_FOUND;case pt.ALREADY_EXISTS:return F.ALREADY_EXISTS;case pt.PERMISSION_DENIED:return F.PERMISSION_DENIED;case pt.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case pt.ABORTED:return F.ABORTED;case pt.OUT_OF_RANGE:return F.OUT_OF_RANGE;case pt.UNIMPLEMENTED:return F.UNIMPLEMENTED;case pt.DATA_LOSS:return F.DATA_LOSS;default:return se()}}(Ae=pt||(pt={}))[Ae.OK=0]="OK",Ae[Ae.CANCELLED=1]="CANCELLED",Ae[Ae.UNKNOWN=2]="UNKNOWN",Ae[Ae.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ae[Ae.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ae[Ae.NOT_FOUND=5]="NOT_FOUND",Ae[Ae.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ae[Ae.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ae[Ae.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ae[Ae.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ae[Ae.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ae[Ae.ABORTED=10]="ABORTED",Ae[Ae.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ae[Ae.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ae[Ae.INTERNAL=13]="INTERNAL",Ae[Ae.UNAVAILABLE=14]="UNAVAILABLE",Ae[Ae.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ej(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tj=new $s([4294967295,4294967295],0);function _E(t){const e=ej().encode(t),n=new eB;return n.update(e),new Uint8Array(n.digest())}function EE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new $s([n,r],0),new $s([i,o],0)]}class py{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ol(`Invalid padding: ${n}`);if(r<0)throw new ol(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ol(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ol(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=$s.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply($s.fromNumber(r)));return i.compare(tj)===1&&(i=new $s([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=_E(e),[r,i]=EE(n);for(let o=0;o<this.hashCount;o++){const s=this.de(r,i,o);if(!this.Ae(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new py(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Te===0)return;const n=_E(e),[r,i]=EE(n);for(let o=0;o<this.hashCount;o++){const s=this.de(r,i,o);this.Re(s)}}Re(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ol extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Fu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new jh(de.min(),i,new Xe(xe),Qr(),Ee())}}class Fu{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Fu(r,n,Ee(),Ee(),Ee())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}}class aA{constructor(e,n){this.targetId=e,this.fe=n}}class lA{constructor(e,n,r=Yt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class TE{constructor(){this.ge=0,this.pe=SE(),this.ye=Yt.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=Ee(),n=Ee(),r=Ee();return this.pe.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:se()}}),new Fu(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=SE()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,Ue(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class nj{constructor(e){this.Le=e,this.ke=new Map,this.qe=Qr(),this.Qe=IE(),this.Ke=new Xe(xe)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:se()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){const o=i.target;if(Km(o))if(r===0){const s=new ee(o.path);this.We(n,s,qt.newNoDocument(s,de.min()))}else Ue(r===1);else{const s=this.Ze(n);if(s!==r){const a=this.Xe(e),l=a?this.et(a,e,s):1;if(l!==0){this.He(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=Fo(r).toUint8Array()}catch(l){if(l instanceof FR)return Zs("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new py(s,i,o)}catch(l){return Zs(l instanceof ol?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Le.nt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.We(n,o,null),i++)}),i}it(e){const n=new Map;this.ke.forEach((o,s)=>{const a=this.Ye(s);if(a){if(o.current&&Km(a.target)){const l=new ee(a.target.path);this.qe.get(l)!==null||this.st(s,l)||this.We(s,l,qt.newNoDocument(l,e))}o.De&&(n.set(s,o.ve()),o.Fe())}});let r=Ee();this.Qe.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const u=this.Ye(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.qe.forEach((o,s)=>s.setReadTime(e));const i=new jh(e,n,this.Ke,this.qe,r);return this.qe=Qr(),this.Qe=IE(),this.Ke=new Xe(xe),i}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new TE,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Ft(xe),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||W("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new TE),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function IE(){return new Xe(ee.comparator)}function SE(){return new Xe(ee.comparator)}const rj={asc:"ASCENDING",desc:"DESCENDING"},ij={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},oj={and:"AND",or:"OR"};class sj{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Qm(t,e){return t.useProto3Json||Lh(e)?e:{value:e}}function Ud(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function uA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function aj(t,e){return Ud(t,e.toTimestamp())}function vr(t){return Ue(!!t),de.fromTimestamp(function(n){const r=Hi(n);return new vt(r.seconds,r.nanos)}(t))}function my(t,e){return Ym(t,e).canonicalString()}function Ym(t,e){const n=function(i){return new We(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function cA(t){const e=We.fromString(t);return Ue(mA(e)),e}function Xm(t,e){return my(t.databaseId,e.path)}function lp(t,e){const n=cA(e);if(n.get(1)!==t.databaseId.projectId)throw new X(F.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new X(F.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ee(hA(n))}function dA(t,e){return my(t.databaseId,e)}function lj(t){const e=cA(t);return e.length===4?We.emptyPath():hA(e)}function Jm(t){return new We(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function hA(t){return Ue(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function CE(t,e,n){return{name:Xm(t,e),fields:n.value.mapValue.fields}}function uj(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:se()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,d){return u.useProto3Json?(Ue(d===void 0||typeof d=="string"),Yt.fromBase64String(d||"")):(Ue(d===void 0||d instanceof Uint8Array),Yt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){const d=u.code===void 0?F.UNKNOWN:sA(u.code);return new X(d,u.message||"")}(s);n=new lA(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=lp(t,r.document.name),o=vr(r.document.updateTime),s=r.document.createTime?vr(r.document.createTime):de.min(),a=new sn({mapValue:{fields:r.document.fields}}),l=qt.newFoundDocument(i,o,s,a),u=r.targetIds||[],d=r.removedTargetIds||[];n=new qc(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=lp(t,r.document),o=r.readTime?vr(r.readTime):de.min(),s=qt.newNoDocument(i,o),a=r.removedTargetIds||[];n=new qc([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=lp(t,r.document),o=r.removedTargetIds||[];n=new qc([],o,i,null)}else{if(!("filter"in e))return se();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new JB(i,o),a=r.targetId;n=new aA(a,s)}}return n}function cj(t,e){let n;if(e instanceof Vu)n={update:CE(t,e.key,e.value)};else if(e instanceof oA)n={delete:Xm(t,e.key)};else if(e instanceof Zi)n={update:CE(t,e.key,e.data),updateMask:wj(e.fieldMask)};else{if(!(e instanceof QB))return se();n={verify:Xm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof uu)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof cu)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof du)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Fd)return{fieldPath:s.field.canonicalString(),increment:a.Ie};throw se()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:aj(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:se()}(t,e.precondition)),n}function dj(t,e){return t&&t.length>0?(Ue(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?vr(i.updateTime):vr(o);return s.isEqual(de.min())&&(s=vr(o)),new qB(s,i.transformResults||[])}(n,e))):[]}function hj(t,e){return{documents:[dA(t,e.path)]}}function fj(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=dA(t,i);const o=function(u){if(u.length!==0)return pA(_r.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(u){if(u.length!==0)return u.map(d=>function(g){return{field:ps(g.field),direction:gj(g.dir)}}(d))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=Qm(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ut:n,parent:i}}function pj(t){let e=lj(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ue(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let o=[];n.where&&(o=function(f){const g=fA(f);return g instanceof _r&&$R(g)?g.getFilters():[g]}(n.where));let s=[];n.orderBy&&(s=function(f){return f.map(g=>function(E){return new Vd(ms(E.field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(g))}(n.orderBy));let a=null;n.limit&&(a=function(f){let g;return g=typeof f=="object"?f.value:f,Lh(g)?null:g}(n.limit));let l=null;n.startAt&&(l=function(f){const g=!!f.before,v=f.values||[];return new Md(v,g)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const g=!f.before,v=f.values||[];return new Md(v,g)}(n.endAt)),xB(e,i,s,o,a,"F",l,u)}function mj(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return se()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function fA(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ms(n.unaryFilter.field);return Tt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ms(n.unaryFilter.field);return Tt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=ms(n.unaryFilter.field);return Tt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=ms(n.unaryFilter.field);return Tt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return se()}}(t):t.fieldFilter!==void 0?function(n){return Tt.create(ms(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return se()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return _r.create(n.compositeFilter.filters.map(r=>fA(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return se()}}(n.compositeFilter.op))}(t):se()}function gj(t){return rj[t]}function vj(t){return ij[t]}function yj(t){return oj[t]}function ps(t){return{fieldPath:t.canonicalString()}}function ms(t){return Lt.fromServerFormat(t.fieldPath)}function pA(t){return t instanceof Tt?function(n){if(n.op==="=="){if(dE(n.value))return{unaryFilter:{field:ps(n.field),op:"IS_NAN"}};if(cE(n.value))return{unaryFilter:{field:ps(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(dE(n.value))return{unaryFilter:{field:ps(n.field),op:"IS_NOT_NAN"}};if(cE(n.value))return{unaryFilter:{field:ps(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ps(n.field),op:vj(n.op),value:n.value}}}(t):t instanceof _r?function(n){const r=n.getFilters().map(i=>pA(i));return r.length===1?r[0]:{compositeFilter:{op:yj(n.op),filters:r}}}(t):se()}function wj(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function mA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(e,n,r,i,o=de.min(),s=de.min(),a=Yt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Si(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Si(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Si(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Si(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _j{constructor(e){this.ct=e}}function Ej(t){const e=pj({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Gm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tj{constructor(){this._n=new Ij}addToCollectionParentIndex(e,n){return this._n.add(n),V.resolve()}getCollectionParents(e,n){return V.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return V.resolve()}deleteFieldIndex(e,n){return V.resolve()}deleteAllFieldIndexes(e){return V.resolve()}createTargetIndexes(e,n){return V.resolve()}getDocumentsMatchingTarget(e,n){return V.resolve(null)}getIndexType(e,n){return V.resolve(0)}getFieldIndexes(e,n){return V.resolve([])}getNextCollectionGroupToUpdate(e){return V.resolve(null)}getMinOffset(e,n){return V.resolve(zi.min())}getMinOffsetFromCollectionGroup(e,n){return V.resolve(zi.min())}updateCollectionGroup(e,n,r){return V.resolve()}updateIndexEntries(e,n){return V.resolve()}}class Ij{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ft(We.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ft(We.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new ra(0)}static Bn(){return new ra(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sj{constructor(){this.changes=new _a(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,qt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?V.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cj{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rj{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Il(r.mutation,i,vn.empty(),vt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ee()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ee()){const i=Eo();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=il();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=Eo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ee()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Qr();const s=Tl(),a=function(){return Tl()}();return n.forEach((l,u)=>{const d=r.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof Zi)?o=o.insert(u.key,u):d!==void 0?(s.set(u.key,d.mutation.getFieldMask()),Il(d.mutation,u,d.mutation.getFieldMask(),vt.now())):s.set(u.key,vn.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,d)=>s.set(u,d)),n.forEach((u,d)=>{var f;return a.set(u,new Cj(d,(f=s.get(u))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Tl();let i=new Xe((s,a)=>s-a),o=Ee();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let d=r.get(l)||vn.empty();d=a.applyToLocalView(u,d),r.set(l,d);const f=(i.get(a.batchId)||Ee()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,d=l.value,f=YR();d.forEach(g=>{if(!o.has(g)){const v=rA(n.get(g),r.get(g));v!==null&&f.set(g,v),o=o.add(g)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,f))}return V.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return ee.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):NB(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):V.resolve(Eo());let a=-1,l=o;return s.next(u=>V.forEach(u,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),o.get(d)?V.resolve():this.remoteDocumentCache.getEntry(e,d).next(g=>{l=l.insert(d,g)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,Ee())).next(d=>({batchId:a,changes:QR(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ee(n)).next(r=>{let i=il();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=il();return this.indexManager.getCollectionParents(e,o).next(a=>V.forEach(a,l=>{const u=function(f,g){return new Mh(g,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(d=>{d.forEach((f,g)=>{s=s.insert(f,g)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((l,u)=>{const d=u.getKey();s.get(d)===null&&(s=s.insert(d,qt.newInvalidDocument(d)))});let a=il();return s.forEach((l,u)=>{const d=o.get(l);d!==void 0&&Il(d.mutation,u,vn.empty(),vt.now()),Fh(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aj{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return V.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:vr(i.createTime)}}(n)),V.resolve()}getNamedQuery(e,n){return V.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:Ej(i.bundledQuery),readTime:vr(i.readTime)}}(n)),V.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pj{constructor(){this.overlays=new Xe(ee.comparator),this.hr=new Map}getOverlay(e,n){return V.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Eo();return V.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),V.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.hr.delete(r)),V.resolve()}getOverlaysForCollection(e,n,r){const i=Eo(),o=n.length+1,s=new ee(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return V.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Xe((u,d)=>u-d);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=o.get(u.largestBatchId);d===null&&(d=Eo(),o=o.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const a=Eo(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=i)););return V.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new XB(n,r));let o=this.hr.get(n);o===void 0&&(o=Ee(),this.hr.set(n,o)),this.hr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy{constructor(){this.Pr=new Ft(St.Ir),this.Tr=new Ft(St.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new St(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new St(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new ee(new We([])),r=new St(n,e),i=new St(n,e+1),o=[];return this.Tr.forEachInRange([r,i],s=>{this.Ar(s),o.push(s.key)}),o}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new ee(new We([])),r=new St(n,e),i=new St(n,e+1);let o=Ee();return this.Tr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new St(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class St{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return ee.comparator(e.key,n.key)||xe(e.pr,n.pr)}static Er(e,n){return xe(e.pr,n.pr)||ee.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kj{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Ft(St.Ir)}checkEmpty(e){return V.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new YB(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.wr=this.wr.add(new St(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return V.resolve(s)}lookupMutationBatch(e,n){return V.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.br(r),o=i<0?0:i;return V.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return V.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return V.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new St(n,0),i=new St(n,Number.POSITIVE_INFINITY),o=[];return this.wr.forEachInRange([r,i],s=>{const a=this.Sr(s.pr);o.push(a)}),V.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ft(xe);return n.forEach(i=>{const o=new St(i,0),s=new St(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([o,s],a=>{r=r.add(a.pr)})}),V.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;ee.isDocumentKey(o)||(o=o.child(""));const s=new St(new ee(o),0);let a=new Ft(xe);return this.wr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.pr)),!0)},s),V.resolve(this.Dr(a))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ue(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return V.forEach(n.mutations,i=>{const o=new St(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new St(n,0),i=this.wr.firstAfterOrEqual(r);return V.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,V.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bj{constructor(e){this.vr=e,this.docs=function(){return new Xe(ee.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return V.resolve(r?r.document.mutableCopy():qt.newInvalidDocument(n))}getEntries(e,n){let r=Qr();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():qt.newInvalidDocument(i))}),V.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Qr();const s=n.path,a=new ee(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||hB(dB(d),r)<=0||(i.has(d.key)||Fh(n,d))&&(o=o.insert(d.key,d.mutableCopy()))}return V.resolve(o)}getAllFromCollectionGroup(e,n,r,i){se()}Fr(e,n){return V.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new xj(this)}getSize(e){return V.resolve(this.size)}}class xj extends Sj{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),V.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nj{constructor(e){this.persistence=e,this.Mr=new _a(n=>cy(n),dy),this.lastRemoteSnapshotVersion=de.min(),this.highestTargetId=0,this.Or=0,this.Nr=new gy,this.targetCount=0,this.Br=ra.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),V.resolve()}getLastRemoteSnapshotVersion(e){return V.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return V.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),V.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),V.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Br=new ra(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,V.resolve()}updateTargetData(e,n){return this.qn(n),V.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,V.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Mr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),V.waitFor(o).next(()=>i)}getTargetCount(e){return V.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return V.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),V.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),V.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),V.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return V.resolve(r)}containsKey(e,n){return V.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dj{constructor(e,n){this.Lr={},this.overlays={},this.kr=new sy(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new Nj(this),this.indexManager=new Tj,this.remoteDocumentCache=function(i){return new bj(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new _j(n),this.$r=new Aj(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Pj,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Lr[e.toKey()];return r||(r=new kj(n,this.referenceDelegate),this.Lr[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){W("MemoryPersistence","Starting transaction:",e);const i=new Oj(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(o=>this.referenceDelegate.Wr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Gr(e,n){return V.or(Object.values(this.Lr).map(r=>()=>r.containsKey(e,n)))}}class Oj extends pB{constructor(e){super(),this.currentSequenceNumber=e}}class vy{constructor(e){this.persistence=e,this.zr=new gy,this.jr=null}static Hr(e){return new vy(e)}get Jr(){if(this.jr)return this.jr;throw se()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),V.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),V.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),V.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Jr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return V.forEach(this.Jr,r=>{const i=ee.fromPath(r);return this.Yr(e,i).next(o=>{o||n.removeEntry(i,de.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return V.or([()=>V.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=Ee(),i=Ee();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new yy(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lj{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mj{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return gM()?8:_o.v(yt())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.ji(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Hi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new Lj;return this.Ji(e,n,s).next(a=>{if(o.result=a,this.Ui)return this.Yi(e,n,s,a.size)})}).next(()=>o.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(Ka()<=Ie.DEBUG&&W("QueryEngine","SDK will not create cache indexes for query:",fs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),V.resolve()):(Ka()<=Ie.DEBUG&&W("QueryEngine","Query:",fs(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(Ka()<=Ie.DEBUG&&W("QueryEngine","The SDK decides to create cache indexes for query:",fs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,gr(n))):V.resolve())}ji(e,n){if(mE(n))return V.resolve(null);let r=gr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Gm(n,null,"F"),r=gr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=Ee(...o);return this.zi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Zi(n,a);return this.Xi(n,u,s,l.readTime)?this.ji(e,Gm(n,null,"F")):this.es(e,u,n,l)}))})))}Hi(e,n,r,i){return mE(n)||i.isEqual(de.min())?V.resolve(null):this.zi.getDocuments(e,r).next(o=>{const s=this.Zi(n,o);return this.Xi(n,s,r,i)?V.resolve(null):(Ka()<=Ie.DEBUG&&W("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),fs(n)),this.es(e,s,n,cB(i,-1)).next(a=>a))})}Zi(e,n){let r=new Ft(KR(e));return n.forEach((i,o)=>{Fh(e,o)&&(r=r.add(o))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ji(e,n,r){return Ka()<=Ie.DEBUG&&W("QueryEngine","Using full collection scan to execute query:",fs(n)),this.zi.getDocumentsMatchingQuery(e,n,zi.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vj{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new Xe(xe),this.rs=new _a(o=>cy(o),dy),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Rj(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function Fj(t,e,n,r){return new Vj(t,e,n,r)}async function gA(t,e){const n=fe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=Ee();for(const u of i){s.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of o){a.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(u=>({us:u,removedBatchIds:s,addedBatchIds:a}))})})}function Uj(t,e){const n=fe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.os.newChangeBuffer({trackRemovals:!0});return function(a,l,u,d){const f=u.batch,g=f.keys();let v=V.resolve();return g.forEach(E=>{v=v.next(()=>d.getEntry(l,E)).next(I=>{const A=u.docVersions.get(E);Ue(A!==null),I.version.compareTo(A)<0&&(f.applyToRemoteDocument(I,u),I.isValidDocument()&&(I.setReadTime(u.commitVersion),d.addEntry(I)))})}),v.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Ee();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function vA(t){const e=fe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function Bj(t,e){const n=fe(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const a=[];e.targetChanges.forEach((d,f)=>{const g=i.get(f);if(!g)return;a.push(n.Qr.removeMatchingKeys(o,d.removedDocuments,f).next(()=>n.Qr.addMatchingKeys(o,d.addedDocuments,f)));let v=g.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?v=v.withResumeToken(Yt.EMPTY_BYTE_STRING,de.min()).withLastLimboFreeSnapshotVersion(de.min()):d.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(d.resumeToken,r)),i=i.insert(f,v),function(I,A,y){return I.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=3e8?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(g,v,d)&&a.push(n.Qr.updateTargetData(o,v))});let l=Qr(),u=Ee();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,d))}),a.push(jj(o,s,e.documentUpdates).next(d=>{l=d.cs,u=d.ls})),!r.isEqual(de.min())){const d=n.Qr.getLastRemoteSnapshotVersion(o).next(f=>n.Qr.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(d)}return V.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.ns=i,o))}function jj(t,e,n){let r=Ee(),i=Ee();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Qr();return n.forEach((a,l)=>{const u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(de.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):W("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{cs:s,ls:i}})}function $j(t,e){const n=fe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function zj(t,e){const n=fe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(o=>o?(i=o,V.resolve(i)):n.Qr.allocateTargetId(r).next(s=>(i=new Si(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function Zm(t,e,n){const r=fe(t),i=r.ns.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!Mu(s))throw s;W("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function RE(t,e,n){const r=fe(t);let i=de.min(),o=Ee();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,d){const f=fe(l),g=f.rs.get(d);return g!==void 0?V.resolve(f.ns.get(g)):f.Qr.getTargetData(u,d)}(r,s,gr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.ts.getDocumentsMatchingQuery(s,e,n?i:de.min(),n?o:Ee())).next(a=>(Hj(r,OB(e),a),{documents:a,hs:o})))}function Hj(t,e,n){let r=t.ss.get(e)||de.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.ss.set(e,r)}class AE{constructor(){this.activeTargetIds=BB()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Wj{constructor(){this.no=new AE,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new AE,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qj{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){W("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){W("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ic=null;function up(){return Ic===null?Ic=function(){return 268435456+Math.round(2147483648*Math.random())}():Ic++,"0x"+Ic.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gj{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zt="WebChannelConnection";class Qj extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${i}/databases/${o}`,this.yo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get wo(){return!1}So(n,r,i,o,s){const a=up(),l=this.bo(n,r.toUriEncodedString());W("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(u,o,s),this.Co(n,l,u,i).then(d=>(W("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw Zs("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",l,"request:",i),d})}vo(n,r,i,o,s,a){return this.So(n,r,i,o,s)}Do(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+wa}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}bo(n,r){const i=Kj[n];return`${this.fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,i){const o=up();return new Promise((s,a)=>{const l=new ZU;l.setWithCredentials(!0),l.listenOnce(XU.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case ap.NO_ERROR:const d=l.getResponseJson();W(zt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(d)),s(d);break;case ap.TIMEOUT:W(zt,`RPC '${e}' ${o} timed out`),a(new X(F.DEADLINE_EXCEEDED,"Request time out"));break;case ap.HTTP_ERROR:const f=l.getStatus();if(W(zt,`RPC '${e}' ${o} failed with status:`,f,"response text:",l.getResponseText()),f>0){let g=l.getResponseJson();Array.isArray(g)&&(g=g[0]);const v=g==null?void 0:g.error;if(v&&v.status&&v.message){const E=function(A){const y=A.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(y)>=0?y:F.UNKNOWN}(v.status);a(new X(E,v.message))}else a(new X(F.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new X(F.UNAVAILABLE,"Connection failed."));break;default:se()}}finally{W(zt,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(i);W(zt,`RPC '${e}' ${o} sending request:`,i),l.send(n,"POST",u,r,15)})}Fo(e,n,r){const i=up(),o=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=QU(),a=YU(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=o.join("");W(zt,`Creating RPC '${e}' stream ${i}: ${d}`,l);const f=s.createWebChannel(d,l);let g=!1,v=!1;const E=new Gj({lo:A=>{v?W(zt,`Not sending because RPC '${e}' stream ${i} is closed:`,A):(g||(W(zt,`Opening RPC '${e}' stream ${i} transport.`),f.open(),g=!0),W(zt,`RPC '${e}' stream ${i} sending:`,A),f.send(A))},ho:()=>f.close()}),I=(A,y,w)=>{A.listen(y,_=>{try{w(_)}catch(P){setTimeout(()=>{throw P},0)}})};return I(f,_c.EventType.OPEN,()=>{v||W(zt,`RPC '${e}' stream ${i} transport opened.`)}),I(f,_c.EventType.CLOSE,()=>{v||(v=!0,W(zt,`RPC '${e}' stream ${i} transport closed`),E.Vo())}),I(f,_c.EventType.ERROR,A=>{v||(v=!0,Zs(zt,`RPC '${e}' stream ${i} transport errored:`,A),E.Vo(new X(F.UNAVAILABLE,"The operation could not be completed")))}),I(f,_c.EventType.MESSAGE,A=>{var y;if(!v){const w=A.data[0];Ue(!!w);const _=w,P=_.error||((y=_[0])===null||y===void 0?void 0:y.error);if(P){W(zt,`RPC '${e}' stream ${i} received error:`,P);const D=P.status;let S=function(z){const K=pt[z];if(K!==void 0)return sA(K)}(D),N=P.message;S===void 0&&(S=F.INTERNAL,N="Unknown error status: "+D+" with message "+P.message),v=!0,E.Vo(new X(S,N)),f.close()}else W(zt,`RPC '${e}' stream ${i} received:`,w),E.mo(w)}}),I(a,JU.STAT_EVENT,A=>{A.stat===iE.PROXY?W(zt,`RPC '${e}' stream ${i} detected buffering proxy`):A.stat===iE.NOPROXY&&W(zt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{E.Ro()},0),E}}function cp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $h(t){return new sj(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{constructor(e,n,r=1e3,i=1.5,o=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=o,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Lo),i=Math.max(0,n-r);i>0&&W("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Lo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Bo!==null&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){this.Bo!==null&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(e,n,r,i,o,s,a,l){this.oi=e,this.$o=r,this.Uo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new yA(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,n){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===F.RESOURCE_EXHAUSTED?(yr(n.toString()),yr("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===F.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(n)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Wo===n&&this.o_(r,i)},r=>{e(()=>{const i=new X(F.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(i)})})}o_(e,n){const r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(i=>{r(()=>this.__(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Yo(){this.state=5,this.jo.qo(async()=>{this.state=0,this.start()})}__(e){return W("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(W("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Yj extends wA{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();const n=uj(this.serializer,e),r=function(o){if(!("targetChange"in o))return de.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?de.min():s.readTime?vr(s.readTime):de.min()}(e);return this.listener.u_(n,r)}c_(e){const n={};n.database=Jm(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=Km(l)?{documents:hj(o,l)}:{query:fj(o,l).ut},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=uA(o,s.resumeToken);const u=Qm(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(de.min())>0){a.readTime=Ud(o,s.snapshotVersion.toTimestamp());const u=Qm(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=mj(this.serializer,e);r&&(n.labels=r),this.t_(n)}l_(e){const n={};n.database=Jm(this.serializer),n.removeTarget=e,this.t_(n)}}class Xj extends wA{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(Ue(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const n=dj(e.writeResults,e.commitTime),r=vr(e.commitTime);return this.listener.T_(r,n)}return Ue(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=Jm(this.serializer),this.t_(e)}I_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>cj(this.serializer,r))};this.t_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jj extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new X(F.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.So(e,Ym(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new X(F.UNKNOWN,o.toString())})}vo(e,n,r,i,o){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.vo(e,Ym(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new X(F.UNKNOWN,s.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class Zj{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(yr(n),this.g_=!1):W("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e${constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=o,this.M_.io(s=>{r.enqueueAndForget(async()=>{Go(this)&&(W("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=fe(l);u.v_.add(4),await Uu(u),u.x_.set("Unknown"),u.v_.delete(4),await zh(u)}(this))})}),this.x_=new Zj(r,i)}}async function zh(t){if(Go(t))for(const e of t.F_)await e(!0)}async function Uu(t){for(const e of t.F_)await e(!1)}function _A(t,e){const n=fe(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),Ey(n)?_y(n):Ea(n).Jo()&&wy(n,e))}function EA(t,e){const n=fe(t),r=Ea(n);n.C_.delete(e),r.Jo()&&TA(n,e),n.C_.size===0&&(r.Jo()?r.Xo():Go(n)&&n.x_.set("Unknown"))}function wy(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(de.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ea(t).c_(e)}function TA(t,e){t.O_.Oe(e),Ea(t).l_(e)}function _y(t){t.O_=new nj({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Ea(t).start(),t.x_.p_()}function Ey(t){return Go(t)&&!Ea(t).Ho()&&t.C_.size>0}function Go(t){return fe(t).v_.size===0}function IA(t){t.O_=void 0}async function t$(t){t.C_.forEach((e,n)=>{wy(t,e)})}async function n$(t,e){IA(t),Ey(t)?(t.x_.S_(e),_y(t)):t.x_.set("Unknown")}async function r$(t,e,n){if(t.x_.set("Online"),e instanceof lA&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.C_.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.C_.delete(a),i.O_.removeTarget(a))}(t,e)}catch(r){W("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Bd(t,r)}else if(e instanceof qc?t.O_.$e(e):e instanceof aA?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(de.min()))try{const r=await vA(t.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.O_.it(s);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const d=o.C_.get(u);d&&o.C_.set(u,d.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,u)=>{const d=o.C_.get(l);if(!d)return;o.C_.set(l,d.withResumeToken(Yt.EMPTY_BYTE_STRING,d.snapshotVersion)),TA(o,l);const f=new Si(d.target,l,u,d.sequenceNumber);wy(o,f)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){W("RemoteStore","Failed to raise snapshot:",r),await Bd(t,r)}}async function Bd(t,e,n){if(!Mu(e))throw e;t.v_.add(1),await Uu(t),t.x_.set("Offline"),n||(n=()=>vA(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{W("RemoteStore","Retrying IndexedDB access"),await n(),t.v_.delete(1),await zh(t)})}function SA(t,e){return e().catch(n=>Bd(t,n,e))}async function Hh(t){const e=fe(t),n=Wi(e);let r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;i$(e);)try{const i=await $j(e.localStore,r);if(i===null){e.D_.length===0&&n.Xo();break}r=i.batchId,o$(e,i)}catch(i){await Bd(e,i)}CA(e)&&RA(e)}function i$(t){return Go(t)&&t.D_.length<10}function o$(t,e){t.D_.push(e);const n=Wi(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function CA(t){return Go(t)&&!Wi(t).Ho()&&t.D_.length>0}function RA(t){Wi(t).start()}async function s$(t){Wi(t).d_()}async function a$(t){const e=Wi(t);for(const n of t.D_)e.I_(n.mutations)}async function l$(t,e,n){const r=t.D_.shift(),i=fy.from(r,e,n);await SA(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Hh(t)}async function u$(t,e){e&&Wi(t).P_&&await async function(r,i){if(function(s){return ZB(s)&&s!==F.ABORTED}(i.code)){const o=r.D_.shift();Wi(r).Zo(),await SA(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Hh(r)}}(t,e),CA(t)&&RA(t)}async function kE(t,e){const n=fe(t);n.asyncQueue.verifyOperationInProgress(),W("RemoteStore","RemoteStore received new credentials");const r=Go(n);n.v_.add(3),await Uu(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),await zh(n)}async function c$(t,e){const n=fe(t);e?(n.v_.delete(2),await zh(n)):e||(n.v_.add(2),await Uu(n),n.x_.set("Unknown"))}function Ea(t){return t.N_||(t.N_=function(n,r,i){const o=fe(n);return o.R_(),new Yj(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Po:t$.bind(null,t),To:n$.bind(null,t),u_:r$.bind(null,t)}),t.F_.push(async e=>{e?(t.N_.Zo(),Ey(t)?_y(t):t.x_.set("Unknown")):(await t.N_.stop(),IA(t))})),t.N_}function Wi(t){return t.B_||(t.B_=function(n,r,i){const o=fe(n);return o.R_(),new Xj(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Po:s$.bind(null,t),To:u$.bind(null,t),E_:a$.bind(null,t),T_:l$.bind(null,t)}),t.F_.push(async e=>{e?(t.B_.Zo(),await Hh(t)):(await t.B_.stop(),t.D_.length>0&&(W("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))})),t.B_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ty{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Mi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new Ty(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new X(F.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Iy(t,e){if(yr("AsyncQueue",`${e}: ${t}`),Mu(t))return new X(F.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ee.comparator(n.key,r.key):(n,r)=>ee.comparator(n.key,r.key),this.keyedMap=il(),this.sortedSet=new Xe(this.comparator)}static emptySet(e){return new zs(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof zs)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new zs;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE{constructor(){this.L_=new Xe(ee.comparator)}track(e){const n=e.doc.key,r=this.L_.get(n);r?e.type!==0&&r.type===3?this.L_=this.L_.insert(n,e):e.type===3&&r.type!==1?this.L_=this.L_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.L_=this.L_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.L_=this.L_.remove(n):e.type===1&&r.type===2?this.L_=this.L_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):se():this.L_=this.L_.insert(n,e)}k_(){const e=[];return this.L_.inorderTraversal((n,r)=>{e.push(r)}),e}}class ia{constructor(e,n,r,i,o,s,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new ia(e,n,zs.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Vh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d${constructor(){this.q_=void 0,this.Q_=[]}}class h${constructor(){this.queries=new _a(e=>qR(e),Vh),this.onlineState="Unknown",this.K_=new Set}}async function f$(t,e){const n=fe(t),r=e.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new d$),i)try{o.q_=await n.onListen(r)}catch(s){const a=Iy(s,`Initialization of query '${fs(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,o),o.Q_.push(e),e.U_(n.onlineState),o.q_&&e.W_(o.q_)&&Sy(n)}async function p$(t,e){const n=fe(t),r=e.query;let i=!1;const o=n.queries.get(r);if(o){const s=o.Q_.indexOf(e);s>=0&&(o.Q_.splice(s,1),i=o.Q_.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function m$(t,e){const n=fe(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.Q_)a.W_(i)&&(r=!0);s.q_=i}}r&&Sy(n)}function g$(t,e,n){const r=fe(t),i=r.queries.get(e);if(i)for(const o of i.Q_)o.onError(n);r.queries.delete(e)}function Sy(t){t.K_.forEach(e=>{e.next()})}class v${constructor(e,n,r){this.query=e,this.G_=n,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=r||{}}W_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new ia(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.z_?this.H_(e)&&(this.G_.next(e),n=!0):this.J_(e,this.onlineState)&&(this.Y_(e),n=!0),this.j_=e,n}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let n=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),n=!0),n}J_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Z_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}H_(e){if(e.docChanges.length>0)return!0;const n=this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Y_(e){e=ia.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{constructor(e){this.key=e}}class PA{constructor(e){this.key=e}}class y${constructor(e,n){this.query=e,this.oa=n,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=Ee(),this.mutatedKeys=Ee(),this.ua=KR(e),this.ca=new zs(this.ua)}get la(){return this.oa}ha(e,n){const r=n?n.Pa:new bE,i=n?n.ca:this.ca;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,f)=>{const g=i.get(d),v=Fh(this.query,f)?f:null,E=!!g&&this.mutatedKeys.has(g.key),I=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let A=!1;g&&v?g.data.isEqual(v.data)?E!==I&&(r.track({type:3,doc:v}),A=!0):this.Ia(g,v)||(r.track({type:2,doc:v}),A=!0,(l&&this.ua(v,l)>0||u&&this.ua(v,u)<0)&&(a=!0)):!g&&v?(r.track({type:0,doc:v}),A=!0):g&&!v&&(r.track({type:1,doc:g}),A=!0,(l||u)&&(a=!0)),A&&(v?(s=s.add(v),o=I?o.add(d):o.delete(d)):(s=s.delete(d),o=o.delete(d)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const d=this.query.limitType==="F"?s.last():s.first();s=s.delete(d.key),o=o.delete(d.key),r.track({type:1,doc:d})}return{ca:s,Pa:r,Xi:a,mutatedKeys:o}}Ia(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;const s=e.Pa.k_();s.sort((d,f)=>function(v,E){const I=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return se()}};return I(v)-I(E)}(d.type,f.type)||this.ua(d.doc,f.doc)),this.Ta(r),i=i!=null&&i;const a=n&&!i?this.Ea():[],l=this.aa.size===0&&this.current&&!i?1:0,u=l!==this._a;return this._a=l,s.length!==0||u?{snapshot:new ia(this.query,e.ca,o,s,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),da:a}:{da:a}}U_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new bE,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}Ta(e){e&&(e.addedDocuments.forEach(n=>this.oa=this.oa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.oa=this.oa.delete(n)),this.current=e.current)}Ea(){if(!this.current)return[];const e=this.aa;this.aa=Ee(),this.ca.forEach(r=>{this.Aa(r.key)&&(this.aa=this.aa.add(r.key))});const n=[];return e.forEach(r=>{this.aa.has(r)||n.push(new PA(r))}),this.aa.forEach(r=>{e.has(r)||n.push(new AA(r))}),n}Ra(e){this.oa=e.hs,this.aa=Ee();const n=this.ha(e.documents);return this.applyChanges(n,!0)}Va(){return ia.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,this._a===0,this.hasCachedResults)}}class w${constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class _${constructor(e){this.key=e,this.ma=!1}}class E${constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.fa={},this.ga=new _a(a=>qR(a),Vh),this.pa=new Map,this.ya=new Set,this.wa=new Xe(ee.comparator),this.Sa=new Map,this.ba=new gy,this.Da={},this.Ca=new Map,this.va=ra.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return this.Fa===!0}}async function T$(t,e){const n=N$(t);let r,i;const o=n.ga.get(e);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Va();else{const s=await zj(n.localStore,gr(e)),a=n.sharedClientState.addLocalQueryTarget(s.targetId);r=s.targetId,i=await I$(n,e,r,a==="current",s.resumeToken),n.isPrimaryClient&&_A(n.remoteStore,s)}return i}async function I$(t,e,n,r,i){t.Ma=(f,g,v)=>async function(I,A,y,w){let _=A.view.ha(y);_.Xi&&(_=await RE(I.localStore,A.query,!1).then(({documents:N})=>A.view.ha(N,_)));const P=w&&w.targetChanges.get(A.targetId),D=w&&w.targetMismatches.get(A.targetId)!=null,S=A.view.applyChanges(_,I.isPrimaryClient,P,D);return NE(I,A.targetId,S.da),S.snapshot}(t,f,g,v);const o=await RE(t.localStore,e,!0),s=new y$(e,o.hs),a=s.ha(o.documents),l=Fu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=s.applyChanges(a,t.isPrimaryClient,l);NE(t,n,u.da);const d=new w$(e,n,s);return t.ga.set(e,d),t.pa.has(n)?t.pa.get(n).push(e):t.pa.set(n,[e]),u.snapshot}async function S$(t,e){const n=fe(t),r=n.ga.get(e),i=n.pa.get(r.targetId);if(i.length>1)return n.pa.set(r.targetId,i.filter(o=>!Vh(o,e))),void n.ga.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Zm(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),EA(n.remoteStore,r.targetId),eg(n,r.targetId)}).catch(Lu)):(eg(n,r.targetId),await Zm(n.localStore,r.targetId,!0))}async function C$(t,e,n){const r=D$(t);try{const i=await function(s,a){const l=fe(s),u=vt.now(),d=a.reduce((v,E)=>v.add(E.key),Ee());let f,g;return l.persistence.runTransaction("Locally write mutations","readwrite",v=>{let E=Qr(),I=Ee();return l.os.getEntries(v,d).next(A=>{E=A,E.forEach((y,w)=>{w.isValidDocument()||(I=I.add(y))})}).next(()=>l.localDocuments.getOverlayedDocuments(v,E)).next(A=>{f=A;const y=[];for(const w of a){const _=GB(w,f.get(w.key).overlayedDocument);_!=null&&y.push(new Zi(w.key,_,UR(_.value.mapValue),Gn.exists(!0)))}return l.mutationQueue.addMutationBatch(v,u,y,a)}).next(A=>{g=A;const y=A.applyToLocalDocumentSet(f,I);return l.documentOverlayCache.saveOverlays(v,A.batchId,y)})}).then(()=>({batchId:g.batchId,changes:QR(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let u=s.Da[s.currentUser.toKey()];u||(u=new Xe(xe)),u=u.insert(a,l),s.Da[s.currentUser.toKey()]=u}(r,i.batchId,n),await Bu(r,i.changes),await Hh(r.remoteStore)}catch(i){const o=Iy(i,"Failed to persist write");n.reject(o)}}async function kA(t,e){const n=fe(t);try{const r=await Bj(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Sa.get(o);s&&(Ue(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.ma=!0:i.modifiedDocuments.size>0?Ue(s.ma):i.removedDocuments.size>0&&(Ue(s.ma),s.ma=!1))}),await Bu(n,r,e)}catch(r){await Lu(r)}}function xE(t,e,n){const r=fe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ga.forEach((o,s)=>{const a=s.view.U_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=fe(s);l.onlineState=a;let u=!1;l.queries.forEach((d,f)=>{for(const g of f.Q_)g.U_(a)&&(u=!0)}),u&&Sy(l)}(r.eventManager,e),i.length&&r.fa.u_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function R$(t,e,n){const r=fe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Sa.get(e),o=i&&i.key;if(o){let s=new Xe(ee.comparator);s=s.insert(o,qt.newNoDocument(o,de.min()));const a=Ee().add(o),l=new jh(de.min(),new Map,new Xe(xe),s,a);await kA(r,l),r.wa=r.wa.remove(o),r.Sa.delete(e),Cy(r)}else await Zm(r.localStore,e,!1).then(()=>eg(r,e,n)).catch(Lu)}async function A$(t,e){const n=fe(t),r=e.batch.batchId;try{const i=await Uj(n.localStore,e);xA(n,r,null),bA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Bu(n,i)}catch(i){await Lu(i)}}async function P$(t,e,n){const r=fe(t);try{const i=await function(s,a){const l=fe(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return l.mutationQueue.lookupMutationBatch(u,a).next(f=>(Ue(f!==null),d=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>l.localDocuments.getDocuments(u,d))})}(r.localStore,e);xA(r,e,n),bA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Bu(r,i)}catch(i){await Lu(i)}}function bA(t,e){(t.Ca.get(e)||[]).forEach(n=>{n.resolve()}),t.Ca.delete(e)}function xA(t,e,n){const r=fe(t);let i=r.Da[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Da[r.currentUser.toKey()]=i}}function eg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.pa.get(e))t.ga.delete(r),n&&t.fa.xa(r,n);t.pa.delete(e),t.isPrimaryClient&&t.ba.Vr(e).forEach(r=>{t.ba.containsKey(r)||NA(t,r)})}function NA(t,e){t.ya.delete(e.path.canonicalString());const n=t.wa.get(e);n!==null&&(EA(t.remoteStore,n),t.wa=t.wa.remove(e),t.Sa.delete(n),Cy(t))}function NE(t,e,n){for(const r of n)r instanceof AA?(t.ba.addReference(r.key,e),k$(t,r)):r instanceof PA?(W("SyncEngine","Document no longer in limbo: "+r.key),t.ba.removeReference(r.key,e),t.ba.containsKey(r.key)||NA(t,r.key)):se()}function k$(t,e){const n=e.key,r=n.path.canonicalString();t.wa.get(n)||t.ya.has(r)||(W("SyncEngine","New document in limbo: "+n),t.ya.add(r),Cy(t))}function Cy(t){for(;t.ya.size>0&&t.wa.size<t.maxConcurrentLimboResolutions;){const e=t.ya.values().next().value;t.ya.delete(e);const n=new ee(We.fromString(e)),r=t.va.next();t.Sa.set(r,new _$(n)),t.wa=t.wa.insert(n,r),_A(t.remoteStore,new Si(gr(hy(n.path)),r,"TargetPurposeLimboResolution",sy._e))}}async function Bu(t,e,n){const r=fe(t),i=[],o=[],s=[];r.ga.isEmpty()||(r.ga.forEach((a,l)=>{s.push(r.Ma(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const d=yy.Ki(l.targetId,u);o.push(d)}}))}),await Promise.all(s),r.fa.u_(i),await async function(l,u){const d=fe(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>V.forEach(u,g=>V.forEach(g.qi,v=>d.persistence.referenceDelegate.addReference(f,g.targetId,v)).next(()=>V.forEach(g.Qi,v=>d.persistence.referenceDelegate.removeReference(f,g.targetId,v)))))}catch(f){if(!Mu(f))throw f;W("LocalStore","Failed to update sequence numbers: "+f)}for(const f of u){const g=f.targetId;if(!f.fromCache){const v=d.ns.get(g),E=v.snapshotVersion,I=v.withLastLimboFreeSnapshotVersion(E);d.ns=d.ns.insert(g,I)}}}(r.localStore,o))}async function b$(t,e){const n=fe(t);if(!n.currentUser.isEqual(e)){W("SyncEngine","User change. New user:",e.toKey());const r=await gA(n.localStore,e);n.currentUser=e,function(o,s){o.Ca.forEach(a=>{a.forEach(l=>{l.reject(new X(F.CANCELLED,s))})}),o.Ca.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Bu(n,r.us)}}function x$(t,e){const n=fe(t),r=n.Sa.get(e);if(r&&r.ma)return Ee().add(r.key);{let i=Ee();const o=n.pa.get(e);if(!o)return i;for(const s of o){const a=n.ga.get(s);i=i.unionWith(a.view.la)}return i}}function N$(t){const e=fe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=kA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=x$.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=R$.bind(null,e),e.fa.u_=m$.bind(null,e.eventManager),e.fa.xa=g$.bind(null,e.eventManager),e}function D$(t){const e=fe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=A$.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=P$.bind(null,e),e}class DE{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=$h(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return Fj(this.persistence,new Mj,e.initialUser,this.serializer)}createPersistence(e){return new Dj(vy.Hr,this.serializer)}createSharedClientState(e){return new Wj}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class O${async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>xE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=b$.bind(null,this.syncEngine),await c$(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new h$}()}createDatastore(e){const n=$h(e.databaseInfo.databaseId),r=function(o){return new Qj(o)}(e.databaseInfo);return function(o,s,a,l){return new Jj(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new e$(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>xE(this.syncEngine,n,0),function(){return PE.D()?new PE:new qj}())}createSyncEngine(e,n){return function(i,o,s,a,l,u,d){const f=new E$(i,o,s,a,l,u);return d&&(f.Fa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const i=fe(r);W("RemoteStore","RemoteStore shutting down."),i.v_.add(5),await Uu(i),i.M_.shutdown(),i.x_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L${constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):yr("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M${constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ht.UNAUTHENTICATED,this.clientId=MR.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async o=>{W("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(W("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new X(F.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Mi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Iy(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function dp(t,e){t.asyncQueue.verifyOperationInProgress(),W("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await gA(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function OE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await F$(t);W("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>kE(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>kE(e.remoteStore,i)),t._onlineComponents=e}function V$(t){return t.name==="FirebaseError"?t.code===F.FAILED_PRECONDITION||t.code===F.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function F$(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){W("FirestoreClient","Using user provided OfflineComponentProvider");try{await dp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!V$(n))throw n;Zs("Error using user provided cache. Falling back to memory cache: "+n),await dp(t,new DE)}}else W("FirestoreClient","Using default OfflineComponentProvider"),await dp(t,new DE);return t._offlineComponents}async function DA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(W("FirestoreClient","Using user provided OnlineComponentProvider"),await OE(t,t._uninitializedComponentsProvider._online)):(W("FirestoreClient","Using default OnlineComponentProvider"),await OE(t,new O$))),t._onlineComponents}function U$(t){return DA(t).then(e=>e.syncEngine)}async function LE(t){const e=await DA(t),n=e.eventManager;return n.onListen=T$.bind(null,e.syncEngine),n.onUnlisten=S$.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LA(t,e,n){if(!n)throw new X(F.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function B$(t,e,n,r){if(e===!0&&r===!0)throw new X(F.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function VE(t){if(!ee.isDocumentKey(t))throw new X(F.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function FE(t){if(ee.isDocumentKey(t))throw new X(F.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Ry(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":se()}function Ur(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new X(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ry(t);throw new X(F.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new X(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new X(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}B$("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=OA((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new X(F.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new X(F.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new X(F.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Wh{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new UE({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new X(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new X(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new UE(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new tB;switch(r.type){case"firstParty":return new oB(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new X(F.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=ME.get(n);r&&(W("ComponentProvider","Removing Datastore"),ME.delete(n),r.terminate())}(this),Promise.resolve()}}function j$(t,e,n,r={}){var i;const o=(t=Ur(t,Wh))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&Zs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Ht.MOCK_USER;else{a=GS(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new X(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Ht(u)}t._authCredentials=new nB(new LR(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new qh(this.firestore,e,this._query)}}class dn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Vi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new dn(this.firestore,e,this._key)}}class Vi extends qh{constructor(e,n,r){super(e,n,hy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new dn(this.firestore,null,new ee(e))}withConverter(e){return new Vi(this.firestore,e,this._path)}}function Ay(t,e,...n){if(t=nt(t),LA("collection","path",e),t instanceof Wh){const r=We.fromString(e,...n);return FE(r),new Vi(t,null,r)}{if(!(t instanceof dn||t instanceof Vi))throw new X(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(We.fromString(e,...n));return FE(r),new Vi(t.firestore,null,r)}}function oa(t,e,...n){if(t=nt(t),arguments.length===1&&(e=MR.newId()),LA("doc","path",e),t instanceof Wh){const r=We.fromString(e,...n);return VE(r),new dn(t,null,new ee(r))}{if(!(t instanceof dn||t instanceof Vi))throw new X(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(We.fromString(e,...n));return VE(r),new dn(t.firestore,t instanceof Vi?t.converter:null,new ee(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $${constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new yA(this,"async_queue_retry"),this._u=()=>{const n=cp();n&&W("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const e=cp();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.au(),this.uu(e)}enterRestrictedMode(e){if(!this.tu){this.tu=!0,this.su=e||!1;const n=cp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._u)}}enqueue(e){if(this.au(),this.tu)return new Promise(()=>{});const n=new Mi;return this.uu(()=>this.tu&&this.su?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.eu.push(e),this.cu()))}async cu(){if(this.eu.length!==0){try{await this.eu[0](),this.eu.shift(),this.jo.reset()}catch(e){if(!Mu(e))throw e;W("AsyncQueue","Operation failed with retryable error: "+e)}this.eu.length>0&&this.jo.qo(()=>this.cu())}}uu(e){const n=this.Xa.then(()=>(this.iu=!0,e().catch(r=>{this.ru=r,this.iu=!1;const i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw yr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.iu=!1,r))));return this.Xa=n,n}enqueueAfterDelay(e,n,r){this.au(),this.ou.indexOf(e)>-1&&(n=0);const i=Ty.createAndSchedule(this,e,n,r,o=>this.lu(o));return this.nu.push(i),i}au(){this.ru&&se()}verifyOperationInProgress(){}async hu(){let e;do e=this.Xa,await e;while(e!==this.Xa)}Pu(e){for(const n of this.nu)if(n.timerId===e)return!0;return!1}Iu(e){return this.hu().then(()=>{this.nu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.nu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.hu()})}Tu(e){this.ou.push(e)}lu(e){const n=this.nu.indexOf(e);this.nu.splice(n,1)}}function BE(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}class sa extends Wh{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new $$}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||VA(this),this._firestoreClient.terminate()}}function z$(t,e){const n=typeof t=="object"?t:Cv(),r=typeof t=="string"?t:e||"(default)",i=ph(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=WS("firestore");o&&j$(i,...o)}return i}function MA(t){return t._firestoreClient||VA(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function VA(t){var e,n,r;const i=t._freezeSettings(),o=function(a,l,u,d){return new wB(a,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,OA(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new M$(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new aa(Yt.fromBase64String(e))}catch(n){throw new X(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new aa(Yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new X(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Lt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Py{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new X(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new X(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return xe(this._lat,e._lat)||xe(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H$=/^__.*__$/;class W${constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Zi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Vu(e,this.data,n,this.fieldTransforms)}}class FA{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Zi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function UA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw se()}}class ky{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Eu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get du(){return this.settings.du}Au(e){return new ky(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ru(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Au({path:r,Vu:!1});return i.mu(e),i}fu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Au({path:r,Vu:!1});return i.Eu(),i}gu(e){return this.Au({path:void 0,Vu:!0})}pu(e){return jd(e,this.settings.methodName,this.settings.yu||!1,this.path,this.settings.wu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Eu(){if(this.path)for(let e=0;e<this.path.length;e++)this.mu(this.path.get(e))}mu(e){if(e.length===0)throw this.pu("Document fields must not be empty");if(UA(this.du)&&H$.test(e))throw this.pu('Document fields cannot begin and end with "__"')}}class q${constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||$h(e)}Su(e,n,r,i=!1){return new ky({du:e,methodName:n,wu:r,path:Lt.emptyPath(),Vu:!1,yu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function by(t){const e=t._freezeSettings(),n=$h(t._databaseId);return new q$(t._databaseId,!!e.ignoreUndefinedProperties,n)}function BA(t,e,n,r,i,o={}){const s=t.Su(o.merge||o.mergeFields?2:0,e,n,i);Ny("Data must be an object, but it was:",s,r);const a=jA(r,s);let l,u;if(o.merge)l=new vn(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const d=[];for(const f of o.mergeFields){const g=tg(e,f,n);if(!s.contains(g))throw new X(F.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);zA(d,g)||d.push(g)}l=new vn(d),u=s.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=s.fieldTransforms;return new W$(new sn(a),l,u)}class Qh extends Gh{_toFieldTransform(e){if(e.du!==2)throw e.du===1?e.pu(`${this._methodName}() can only appear at the top level of your update data`):e.pu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Qh}}class xy extends Gh{_toFieldTransform(e){return new HB(e.path,new uu)}isEqual(e){return e instanceof xy}}function K$(t,e,n,r){const i=t.Su(1,e,n);Ny("Data must be an object, but it was:",i,r);const o=[],s=sn.empty();Ko(r,(l,u)=>{const d=Dy(e,l,n);u=nt(u);const f=i.fu(d);if(u instanceof Qh)o.push(d);else{const g=Yh(u,f);g!=null&&(o.push(d),s.set(d,g))}});const a=new vn(o);return new FA(s,a,i.fieldTransforms)}function G$(t,e,n,r,i,o){const s=t.Su(1,e,n),a=[tg(e,r,n)],l=[i];if(o.length%2!=0)throw new X(F.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<o.length;g+=2)a.push(tg(e,o[g])),l.push(o[g+1]);const u=[],d=sn.empty();for(let g=a.length-1;g>=0;--g)if(!zA(u,a[g])){const v=a[g];let E=l[g];E=nt(E);const I=s.fu(v);if(E instanceof Qh)u.push(v);else{const A=Yh(E,I);A!=null&&(u.push(v),d.set(v,A))}}const f=new vn(u);return new FA(d,f,s.fieldTransforms)}function Yh(t,e){if($A(t=nt(t)))return Ny("Unsupported field value:",e,t),jA(t,e);if(t instanceof Gh)return function(r,i){if(!UA(i.du))throw i.pu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.pu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Vu&&e.du!==4)throw e.pu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=Yh(a,i.gu(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=nt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return jB(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=vt.fromDate(r);return{timestampValue:Ud(i.serializer,o)}}if(r instanceof vt){const o=new vt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ud(i.serializer,o)}}if(r instanceof Py)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof aa)return{bytesValue:uA(i.serializer,r._byteString)};if(r instanceof dn){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.pu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:my(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.pu(`Unsupported field value: ${Ry(r)}`)}(t,e)}function jA(t,e){const n={};return VR(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ko(t,(r,i)=>{const o=Yh(i,e.Ru(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function $A(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof vt||t instanceof Py||t instanceof aa||t instanceof dn||t instanceof Gh)}function Ny(t,e,n){if(!$A(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Ry(n);throw r==="an object"?e.pu(t+" a custom object"):e.pu(t+" "+r)}}function tg(t,e,n){if((e=nt(e))instanceof Kh)return e._internalPath;if(typeof e=="string")return Dy(t,e);throw jd("Field path arguments must be of type string or ",t,!1,void 0,n)}const Q$=new RegExp("[~\\*/\\[\\]]");function Dy(t,e,n){if(e.search(Q$)>=0)throw jd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Kh(...e.split("."))._internalPath}catch{throw jd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function jd(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new X(F.INVALID_ARGUMENT,a+t+l)}function zA(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new dn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Y$(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(WA("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Y$ extends HA{data(){return super.data()}}function WA(t,e){return typeof e=="string"?Dy(t,e):e instanceof Kh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X$(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new X(F.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class J${convertValue(e,n="none"){switch(Uo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return mt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Fo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw se()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ko(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new Py(mt(e.latitude),mt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=ly(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(su(e));default:return null}}convertTimestamp(e){const n=Hi(e);return new vt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=We.fromString(e);Ue(mA(r));const i=new au(r.get(1),r.get(3)),o=new ee(r.popFirst(5));return i.isEqual(n)||yr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qA(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class KA extends HA{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Kc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(WA("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Kc extends KA{data(e={}){return super.data(e)}}class Z${constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new sl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Kc(this._firestore,this._userDataWriter,r.key,r,new sl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new X(F.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const l=new Kc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new sl(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const l=new Kc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new sl(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,d=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),d=s.indexOf(a.doc.key)),{type:e5(a.type),doc:l,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function e5(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return se()}}class GA extends J${constructor(e){super(),this.firestore=e}convertBytes(e){return new aa(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new dn(this.firestore,null,n)}}function t5(t,e,n){t=Ur(t,dn);const r=Ur(t.firestore,sa),i=qA(t.converter,e,n);return Oy(r,[BA(by(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Gn.none())])}function QA(t,e,n,...r){t=Ur(t,dn);const i=Ur(t.firestore,sa),o=by(i);let s;return s=typeof(e=nt(e))=="string"||e instanceof Kh?G$(o,"updateDoc",t._key,e,n,r):K$(o,"updateDoc",t._key,e),Oy(i,[s.toMutation(t._key,Gn.exists(!0))])}function YA(t,e){const n=Ur(t.firestore,sa),r=oa(t),i=qA(t.converter,e);return Oy(n,[BA(by(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Gn.exists(!1))]).then(()=>r)}function $d(t,...e){var n,r,i;t=nt(t);let o={includeMetadataChanges:!1},s=0;typeof e[s]!="object"||BE(e[s])||(o=e[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges};if(BE(e[s])){const f=e[s];e[s]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[s+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[s+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let l,u,d;if(t instanceof dn)u=Ur(t.firestore,sa),d=hy(t._key.path),l={next:f=>{e[s]&&e[s](n5(u,t,f))},error:e[s+1],complete:e[s+2]};else{const f=Ur(t,qh);u=Ur(f.firestore,sa),d=f._query;const g=new GA(u);l={next:v=>{e[s]&&e[s](new Z$(u,g,f,v))},error:e[s+1],complete:e[s+2]},X$(t._query)}return function(g,v,E,I){const A=new L$(I),y=new v$(v,A,E);return g.asyncQueue.enqueueAndForget(async()=>f$(await LE(g),y)),()=>{A.La(),g.asyncQueue.enqueueAndForget(async()=>p$(await LE(g),y))}}(MA(u),d,a,l)}function Oy(t,e){return function(r,i){const o=new Mi;return r.asyncQueue.enqueueAndForget(async()=>C$(await U$(r),i,o)),o.promise}(MA(t),e)}function n5(t,e,n){const r=n.docs.get(e._key),i=new GA(t);return new KA(t,i,e._key,r,new sl(n.hasPendingWrites,n.fromCache),e.converter)}function XA(){return new xy("serverTimestamp")}(function(e,n=!0){(function(i){wa=i})(Ho),Oo(new $i("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new sa(new rB(r.getProvider("auth-internal")),new aB(r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new X(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new au(u.options.projectId,d)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),fr(oE,"4.4.3",e),fr(oE,"4.4.3","esm2017")})();var r5="firebase",i5="10.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fr(r5,i5,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JA="firebasestorage.googleapis.com",ZA="storageBucket",o5=2*60*1e3,s5=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot extends Er{constructor(e,n,r=0){super(hp(e),`Firebase Storage: ${n} (${hp(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ot.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return hp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var it;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(it||(it={}));function hp(t){return"storage/"+t}function Ly(){const t="An unknown error occurred, please check the error payload for server response.";return new ot(it.UNKNOWN,t)}function a5(t){return new ot(it.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function l5(t){return new ot(it.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function u5(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new ot(it.UNAUTHENTICATED,t)}function c5(){return new ot(it.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function d5(t){return new ot(it.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function h5(){return new ot(it.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function f5(){return new ot(it.CANCELED,"User canceled the upload/download.")}function p5(t){return new ot(it.INVALID_URL,"Invalid URL '"+t+"'.")}function m5(t){return new ot(it.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function g5(){return new ot(it.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+ZA+"' property when initializing the app?")}function v5(){return new ot(it.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function y5(){return new ot(it.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function w5(t){return new ot(it.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function ng(t){return new ot(it.INVALID_ARGUMENT,t)}function e2(){return new ot(it.APP_DELETED,"The Firebase app was deleted.")}function _5(t){return new ot(it.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Sl(t,e){return new ot(it.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Ga(t){throw new ot(it.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=yn.makeFromUrl(e,n)}catch{return new yn(e,"")}if(r.path==="")return r;throw m5(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function o(P){P.path.charAt(P.path.length-1)==="/"&&(P.path_=P.path_.slice(0,-1))}const s="(/(.*))?$",a=new RegExp("^gs://"+i+s,"i"),l={bucket:1,path:3};function u(P){P.path_=decodeURIComponent(P.path)}const d="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),g="(/([^?#]*).*)?$",v=new RegExp(`^https?://${f}/${d}/b/${i}/o${g}`,"i"),E={bucket:1,path:3},I=n===JA?"(?:storage.googleapis.com|storage.cloud.google.com)":n,A="([^?#]*)",y=new RegExp(`^https?://${I}/${i}/${A}`,"i"),_=[{regex:a,indices:l,postModify:o},{regex:v,indices:E,postModify:u},{regex:y,indices:{bucket:1,path:2},postModify:u}];for(let P=0;P<_.length;P++){const D=_[P],S=D.regex.exec(e);if(S){const N=S[D.indices.bucket];let M=S[D.indices.path];M||(M=""),r=new yn(N,M),D.postModify(r);break}}if(r==null)throw p5(e);return r}}class E5{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T5(t,e,n){let r=1,i=null,o=null,s=!1,a=0;function l(){return a===2}let u=!1;function d(...A){u||(u=!0,e.apply(null,A))}function f(A){i=setTimeout(()=>{i=null,t(v,l())},A)}function g(){o&&clearTimeout(o)}function v(A,...y){if(u){g();return}if(A){g(),d.call(null,A,...y);return}if(l()||s){g(),d.call(null,A,...y);return}r<64&&(r*=2);let _;a===1?(a=2,_=0):_=(r+Math.random())*1e3,f(_)}let E=!1;function I(A){E||(E=!0,g(),!u&&(i!==null?(A||(a=2),clearTimeout(i),f(0)):A||(a=1)))}return f(0),o=setTimeout(()=>{s=!0,I(!0)},n),I}function I5(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S5(t){return t!==void 0}function C5(t){return typeof t=="object"&&!Array.isArray(t)}function My(t){return typeof t=="string"||t instanceof String}function jE(t){return Vy()&&t instanceof Blob}function Vy(){return typeof Blob<"u"}function $E(t,e,n,r){if(r<e)throw ng(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw ng(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fy(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function t2(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ro;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Ro||(Ro={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R5(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A5{constructor(e,n,r,i,o,s,a,l,u,d,f,g=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=f,this.retry=g,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((v,E)=>{this.resolve_=v,this.reject_=E,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Sc(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const s=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;const a=o.getErrorCode()===Ro.NO_ERROR,l=o.getStatus();if(!a||R5(l,this.additionalRetryCodes_)&&this.retry){const d=o.getErrorCode()===Ro.ABORT;r(!1,new Sc(!1,null,d));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new Sc(u,o))})},n=(r,i)=>{const o=this.resolve_,s=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());S5(l)?o(l):o()}catch(l){s(l)}else if(a!==null){const l=Ly();l.serverResponse=a.getErrorText(),this.errorCallback_?s(this.errorCallback_(a,l)):s(l)}else if(i.canceled){const l=this.appDelete_?e2():f5();s(l)}else{const l=h5();s(l)}};this.canceled_?n(!1,new Sc(!1,null,!0)):this.backoffId_=T5(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&I5(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Sc{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function P5(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function k5(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function b5(t,e){e&&(t["X-Firebase-GMPID"]=e)}function x5(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function N5(t,e,n,r,i,o,s=!0){const a=t2(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return b5(u,e),P5(u,n),k5(u,o),x5(u,r),new A5(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D5(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function O5(...t){const e=D5();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(Vy())return new Blob(t);throw new ot(it.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function L5(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M5(t){if(typeof atob>"u")throw w5("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class fp{constructor(e,n){this.data=e,this.contentType=n||null}}function V5(t,e){switch(t){case cr.RAW:return new fp(n2(e));case cr.BASE64:case cr.BASE64URL:return new fp(r2(t,e));case cr.DATA_URL:return new fp(U5(e),B5(e))}throw Ly()}function n2(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const o=r,s=t.charCodeAt(++n);r=65536|(o&1023)<<10|s&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function F5(t){let e;try{e=decodeURIComponent(t)}catch{throw Sl(cr.DATA_URL,"Malformed data URL.")}return n2(e)}function r2(t,e){switch(t){case cr.BASE64:{const i=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(i||o)throw Sl(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case cr.BASE64URL:{const i=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(i||o)throw Sl(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=M5(e)}catch(i){throw i.message.includes("polyfill")?i:Sl(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class i2{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Sl(cr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=j5(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function U5(t){const e=new i2(t);return e.base64?r2(cr.BASE64,e.rest):F5(e.rest)}function B5(t){return new i2(t).contentType}function j5(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(e,n){let r=0,i="";jE(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(jE(this.data_)){const r=this.data_,i=L5(r,e,n);return i===null?null:new Ei(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Ei(r,!0)}}static getBlob(...e){if(Vy()){const n=e.map(r=>r instanceof Ei?r.data_:r);return new Ei(O5.apply(null,n))}else{const n=e.map(s=>My(s)?V5(cr.RAW,s).data:s.data_);let r=0;n.forEach(s=>{r+=s.byteLength});const i=new Uint8Array(r);let o=0;return n.forEach(s=>{for(let a=0;a<s.length;a++)i[o++]=s[a]}),new Ei(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o2(t){let e;try{e=JSON.parse(t)}catch{return null}return C5(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $5(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function z5(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function s2(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H5(t,e){return e}class Jt{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||H5}}let Cc=null;function W5(t){return!My(t)||t.length<2?t:s2(t)}function a2(){if(Cc)return Cc;const t=[];t.push(new Jt("bucket")),t.push(new Jt("generation")),t.push(new Jt("metageneration")),t.push(new Jt("name","fullPath",!0));function e(o,s){return W5(s)}const n=new Jt("name");n.xform=e,t.push(n);function r(o,s){return s!==void 0?Number(s):s}const i=new Jt("size");return i.xform=r,t.push(i),t.push(new Jt("timeCreated")),t.push(new Jt("updated")),t.push(new Jt("md5Hash",null,!0)),t.push(new Jt("cacheControl",null,!0)),t.push(new Jt("contentDisposition",null,!0)),t.push(new Jt("contentEncoding",null,!0)),t.push(new Jt("contentLanguage",null,!0)),t.push(new Jt("contentType",null,!0)),t.push(new Jt("metadata","customMetadata",!0)),Cc=t,Cc}function q5(t,e){function n(){const r=t.bucket,i=t.fullPath,o=new yn(r,i);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function K5(t,e,n){const r={};r.type="file";const i=n.length;for(let o=0;o<i;o++){const s=n[o];r[s.local]=s.xform(r,e[s.server])}return q5(r,t),r}function l2(t,e,n){const r=o2(e);return r===null?null:K5(t,r,n)}function G5(t,e,n,r){const i=o2(e);if(i===null||!My(i.downloadTokens))return null;const o=i.downloadTokens;if(o.length===0)return null;const s=encodeURIComponent;return o.split(",").map(u=>{const d=t.bucket,f=t.fullPath,g="/b/"+s(d)+"/o/"+s(f),v=Fy(g,n,r),E=t2({alt:"media",token:u});return v+E})[0]}function Q5(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}class u2{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c2(t){if(!t)throw Ly()}function Y5(t,e){function n(r,i){const o=l2(t,i,e);return c2(o!==null),o}return n}function X5(t,e){function n(r,i){const o=l2(t,i,e);return c2(o!==null),G5(o,i,t.host,t._protocol)}return n}function d2(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=c5():i=u5():n.getStatus()===402?i=l5(t.bucket):n.getStatus()===403?i=d5(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function J5(t){const e=d2(t);function n(r,i){let o=e(r,i);return r.getStatus()===404&&(o=a5(t.path)),o.serverResponse=i.serverResponse,o}return n}function Z5(t,e,n){const r=e.fullServerUrl(),i=Fy(r,t.host,t._protocol),o="GET",s=t.maxOperationRetryTime,a=new u2(i,o,X5(t,n),s);return a.errorHandler=J5(e),a}function e3(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function t3(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=e3(null,e)),r}function n3(t,e,n,r,i){const o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function a(){let _="";for(let P=0;P<2;P++)_=_+Math.random().toString().slice(2);return _}const l=a();s["Content-Type"]="multipart/related; boundary="+l;const u=t3(e,r,i),d=Q5(u,n),f="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,g=`\r
--`+l+"--",v=Ei.getBlob(f,r,g);if(v===null)throw v5();const E={name:u.fullPath},I=Fy(o,t.host,t._protocol),A="POST",y=t.maxUploadRetryTime,w=new u2(I,A,Y5(t,n),y);return w.urlParams=E,w.headers=s,w.body=v.uploadData(),w.errorHandler=d2(e),w}class r3{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ro.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ro.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ro.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw Ga("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ga("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ga("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ga("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ga("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class i3 extends r3{initXhr(){this.xhr_.responseType="text"}}function h2(){return new i3}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(e,n){this._service=e,n instanceof yn?this._location=n:this._location=yn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Bo(e,n)}get root(){const e=new yn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return s2(this._location.path)}get storage(){return this._service}get parent(){const e=$5(this._location.path);if(e===null)return null;const n=new yn(this._location.bucket,e);return new Bo(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw _5(e)}}function o3(t,e,n){t._throwIfRoot("uploadBytes");const r=n3(t.storage,t._location,a2(),new Ei(e,!0),n);return t.storage.makeRequestWithTokens(r,h2).then(i=>({metadata:i,ref:t}))}function s3(t){t._throwIfRoot("getDownloadURL");const e=Z5(t.storage,t._location,a2());return t.storage.makeRequestWithTokens(e,h2).then(n=>{if(n===null)throw y5();return n})}function a3(t,e){const n=z5(t._location.path,e),r=new yn(t._location.bucket,n);return new Bo(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l3(t){return/^[A-Za-z]+:\/\//.test(t)}function u3(t,e){return new Bo(t,e)}function f2(t,e){if(t instanceof Uy){const n=t;if(n._bucket==null)throw g5();const r=new Bo(n,n._bucket);return e!=null?f2(r,e):r}else return e!==void 0?a3(t,e):t}function c3(t,e){if(e&&l3(e)){if(t instanceof Uy)return u3(t,e);throw ng("To use ref(service, url), the first argument must be a Storage instance.")}else return f2(t,e)}function zE(t,e){const n=e==null?void 0:e[ZA];return n==null?null:yn.makeFromBucketSpec(n,t)}function d3(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:GS(i,t.app.options.projectId))}class Uy{constructor(e,n,r,i,o){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=JA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=o5,this._maxUploadRetryTime=s5,this._requests=new Set,i!=null?this._bucket=yn.makeFromBucketSpec(i,this._host):this._bucket=zE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=yn.makeFromBucketSpec(this._url,e):this._bucket=zE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){$E("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){$E("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Bo(this,e)}_makeRequest(e,n,r,i,o=!0){if(this._deleted)return new E5(e2());{const s=N5(e,this._appId,r,i,n,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const HE="@firebase/storage",WE="0.12.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p2="storage";function rg(t,e,n){return t=nt(t),o3(t,e,n)}function ig(t){return t=nt(t),s3(t)}function og(t,e){return t=nt(t),c3(t,e)}function h3(t=Cv(),e){t=nt(t);const r=ph(t,p2).getImmediate({identifier:e}),i=WS("storage");return i&&f3(r,...i),r}function f3(t,e,n,r={}){d3(t,e,n,r)}function p3(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new Uy(n,r,i,e,Ho)}function m3(){Oo(new $i(p2,p3,"PUBLIC").setMultipleInstances(!0)),fr(HE,WE,""),fr(HE,WE,"esm2017")}m3();const g3={apiKey:"AIzaSyBGC4CbgAQqtaSAwkcpDsDFJwS4FUSONiw",authDomain:"dog-findy.firebaseapp.com",projectId:"dog-findy",storageBucket:"dog-findy.appspot.com",messagingSenderId:"107110841092",appId:"1:107110841092:web:b0f53c6c7d4e5dc545ae51"},By=JS(g3),Fi=z$(By),Xh=K4(By),sg=h3(By),Qo=()=>{const[t,e]=T.useState({}),[n,r]=T.useState(!0);return T.useEffect(()=>{const i=OF(Xh,o=>{console.log("authStateChanged :>> ",Date.now()),o?(e(o),r(!1)):(e(null),r(!1))});return()=>i()},[]),{user:t,loading:n}},m2=()=>{const{user:t,loading:e}=Qo(),n=ch();T.useEffect(()=>{!e&&t&&n("/")},[t,e,n])};var g2={exports:{}};/*!
* sweetalert2 v11.10.6
* Released under the MIT License.
*/(function(t,e){(function(n,r){t.exports=r()})(li,function(){function n(m,c,h){return c=v(c),A(m,i()?Reflect.construct(c,h||[],v(m).constructor):c.apply(m,h))}function r(m,c,h){if(i())return Reflect.construct.apply(null,arguments);var p=[null];p.push.apply(p,c);var C=new(m.bind.apply(m,p));return h&&E(C,h.prototype),C}function i(){try{var m=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(i=function(){return!!m})()}function o(m,c){var h=m==null?null:typeof Symbol<"u"&&m[Symbol.iterator]||m["@@iterator"];if(h!=null){var p,C,O,Q,ye=[],we=!0,Je=!1;try{if(O=(h=h.call(m)).next,c===0){if(Object(h)!==h)return;we=!1}else for(;!(we=(p=O.call(h)).done)&&(ye.push(p.value),ye.length!==c);we=!0);}catch(ka){Je=!0,C=ka}finally{try{if(!we&&h.return!=null&&(Q=h.return(),Object(Q)!==Q))return}finally{if(Je)throw C}}return ye}}function s(m,c){if(typeof m!="object"||!m)return m;var h=m[Symbol.toPrimitive];if(h!==void 0){var p=h.call(m,c||"default");if(typeof p!="object")return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return(c==="string"?String:Number)(m)}function a(m){var c=s(m,"string");return typeof c=="symbol"?c:String(c)}function l(m){"@babel/helpers - typeof";return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},l(m)}function u(m,c){if(!(m instanceof c))throw new TypeError("Cannot call a class as a function")}function d(m,c){for(var h=0;h<c.length;h++){var p=c[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(m,a(p.key),p)}}function f(m,c,h){return c&&d(m.prototype,c),h&&d(m,h),Object.defineProperty(m,"prototype",{writable:!1}),m}function g(m,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");m.prototype=Object.create(c&&c.prototype,{constructor:{value:m,writable:!0,configurable:!0}}),Object.defineProperty(m,"prototype",{writable:!1}),c&&E(m,c)}function v(m){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(h){return h.__proto__||Object.getPrototypeOf(h)},v(m)}function E(m,c){return E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(p,C){return p.__proto__=C,p},E(m,c)}function I(m){if(m===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m}function A(m,c){if(c&&(typeof c=="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return I(m)}function y(m,c){for(;!Object.prototype.hasOwnProperty.call(m,c)&&(m=v(m),m!==null););return m}function w(){return typeof Reflect<"u"&&Reflect.get?w=Reflect.get.bind():w=function(c,h,p){var C=y(c,h);if(C){var O=Object.getOwnPropertyDescriptor(C,h);return O.get?O.get.call(arguments.length<3?c:p):O.value}},w.apply(this,arguments)}function _(m,c){return S(m)||o(m,c)||M(m,c)||ce()}function P(m){return D(m)||N(m)||M(m)||K()}function D(m){if(Array.isArray(m))return z(m)}function S(m){if(Array.isArray(m))return m}function N(m){if(typeof Symbol<"u"&&m[Symbol.iterator]!=null||m["@@iterator"]!=null)return Array.from(m)}function M(m,c){if(m){if(typeof m=="string")return z(m,c);var h=Object.prototype.toString.call(m).slice(8,-1);if(h==="Object"&&m.constructor&&(h=m.constructor.name),h==="Map"||h==="Set")return Array.from(m);if(h==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(h))return z(m,c)}}function z(m,c){(c==null||c>m.length)&&(c=m.length);for(var h=0,p=new Array(c);h<c;h++)p[h]=m[h];return p}function K(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ne(m,c){var h=dt(m,c,"get");return hn(m,h)}function ve(m,c,h){var p=dt(m,c,"set");return wt(m,p,h),h}function dt(m,c,h){if(!c.has(m))throw new TypeError("attempted to "+h+" private field on non-instance");return c.get(m)}function hn(m,c){return c.get?c.get.call(m):c.value}function wt(m,c,h){if(c.set)c.set.call(m,h);else{if(!c.writable)throw new TypeError("attempted to set read only private field");c.value=h}}function Se(m,c){if(c.has(m))throw new TypeError("Cannot initialize the same private elements twice on an object")}function B(m,c,h){Se(m,c),c.set(m,h)}var J=100,j={},me=function(){j.previousActiveElement instanceof HTMLElement?(j.previousActiveElement.focus(),j.previousActiveElement=null):document.body&&document.body.focus()},ke=function(c){return new Promise(function(h){if(!c)return h();var p=window.scrollX,C=window.scrollY;j.restoreFocusTimeout=setTimeout(function(){me(),h()},J),window.scrollTo(p,C)})},ht="swal2-",Be=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"],b=Be.reduce(function(m,c){return m[c]=ht+c,m},{}),qe=["success","warning","info","question","error"],Xt=qe.reduce(function(m,c){return m[c]=ht+c,m},{}),Yo="SweetAlert2:",Ir=function(c){return c.charAt(0).toUpperCase()+c.slice(1)},ft=function(c){console.warn("".concat(Yo," ").concat(l(c)==="object"?c.join(" "):c))},Ke=function(c){console.error("".concat(Yo," ").concat(c))},Mn=[],ei=function(c){Mn.includes(c)||(Mn.push(c),ft(c))},ti=function(c,h){ei('"'.concat(c,'" is deprecated and will be removed in the next major release. Please use "').concat(h,'" instead.'))},Ce=function(c){return typeof c=="function"?c():c},ni=function(c){return c&&typeof c.toPromise=="function"},Vn=function(c){return ni(c)?c.toPromise():Promise.resolve(c)},Ta=function(c){return c&&Promise.resolve(c)===c},kt=function(){return document.body.querySelector(".".concat(b.container))},to=function(c){var h=kt();return h?h.querySelector(c):null},_t=function(c){return to(".".concat(c))},be=function(){return _t(b.popup)},Sr=function(){return _t(b.icon)},Jn=function(){return _t(b["icon-content"])},ri=function(){return _t(b.title)},Xo=function(){return _t(b["html-container"])},no=function(){return _t(b.image)},Ia=function(){return _t(b["progress-steps"])},fn=function(){return _t(b["validation-message"])},pn=function(){return to(".".concat(b.actions," .").concat(b.confirm))},Cr=function(){return to(".".concat(b.actions," .").concat(b.cancel))},Zn=function(){return to(".".concat(b.actions," .").concat(b.deny))},nf=function(){return _t(b["input-label"])},Rr=function(){return to(".".concat(b.loader))},er=function(){return _t(b.actions)},Sa=function(){return _t(b.footer)},ii=function(){return _t(b["timer-progress-bar"])},Ca=function(){return _t(b.close)},zu=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,Ra=function(){var c=be();if(!c)return[];var h=c.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),p=Array.from(h).sort(function(Q,ye){var we=parseInt(Q.getAttribute("tabindex")||"0"),Je=parseInt(ye.getAttribute("tabindex")||"0");return we>Je?1:we<Je?-1:0}),C=c.querySelectorAll(zu),O=Array.from(C).filter(function(Q){return Q.getAttribute("tabindex")!=="-1"});return P(new Set(p.concat(O))).filter(function(Q){return xt(Q)})},Jo=function(){return L(document.body,b.shown)&&!L(document.body,b["toast-shown"])&&!L(document.body,b["no-backdrop"])},Zo=function(){var c=be();return c?L(c,b.toast):!1},k=function(){var c=be();return c?c.hasAttribute("data-loading"):!1},x=function(c,h){if(c.textContent="",h){var p=new DOMParser,C=p.parseFromString(h,"text/html"),O=C.querySelector("head");O&&Array.from(O.childNodes).forEach(function(ye){c.appendChild(ye)});var Q=C.querySelector("body");Q&&Array.from(Q.childNodes).forEach(function(ye){ye instanceof HTMLVideoElement||ye instanceof HTMLAudioElement?c.appendChild(ye.cloneNode(!0)):c.appendChild(ye)})}},L=function(c,h){if(!h)return!1;for(var p=h.split(/\s+/),C=0;C<p.length;C++)if(!c.classList.contains(p[C]))return!1;return!0},H=function(c,h){Array.from(c.classList).forEach(function(p){!Object.values(b).includes(p)&&!Object.values(Xt).includes(p)&&!Object.values(h.showClass||{}).includes(p)&&c.classList.remove(p)})},G=function(c,h,p){if(H(c,h),h.customClass&&h.customClass[p]){if(typeof h.customClass[p]!="string"&&!h.customClass[p].forEach){ft("Invalid type of customClass.".concat(p,'! Expected string or iterable object, got "').concat(l(h.customClass[p]),'"'));return}$(c,h.customClass[p])}},he=function(c,h){if(!h)return null;switch(h){case"select":case"textarea":case"file":return c.querySelector(".".concat(b.popup," > .").concat(b[h]));case"checkbox":return c.querySelector(".".concat(b.popup," > .").concat(b.checkbox," input"));case"radio":return c.querySelector(".".concat(b.popup," > .").concat(b.radio," input:checked"))||c.querySelector(".".concat(b.popup," > .").concat(b.radio," input:first-child"));case"range":return c.querySelector(".".concat(b.popup," > .").concat(b.range," input"));default:return c.querySelector(".".concat(b.popup," > .").concat(b.input))}},te=function(c){if(c.focus(),c.type!=="file"){var h=c.value;c.value="",c.value=h}},Z=function(c,h,p){!c||!h||(typeof h=="string"&&(h=h.split(/\s+/).filter(Boolean)),h.forEach(function(C){Array.isArray(c)?c.forEach(function(O){p?O.classList.add(C):O.classList.remove(C)}):p?c.classList.add(C):c.classList.remove(C)}))},$=function(c,h){Z(c,h,!0)},re=function(c,h){Z(c,h,!1)},Me=function(c,h){for(var p=Array.from(c.children),C=0;C<p.length;C++){var O=p[C];if(O instanceof HTMLElement&&L(O,h))return O}},ne=function(c,h,p){p==="".concat(parseInt(p))&&(p=parseInt(p)),p||parseInt(p)===0?c.style.setProperty(h,typeof p=="number"?"".concat(p,"px"):p):c.style.removeProperty(h)},le=function(c){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";c&&(c.style.display=h)},Re=function(c){c&&(c.style.display="none")},bt=function(c){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"block";c&&new MutationObserver(function(){Cn(c,c.innerHTML,h)}).observe(c,{childList:!0,subtree:!0})},st=function(c,h,p,C){var O=c.querySelector(h);O&&O.style.setProperty(p,C)},Cn=function(c,h){var p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";h?le(c,p):Re(c)},xt=function(c){return!!(c&&(c.offsetWidth||c.offsetHeight||c.getClientRects().length))},oi=function(){return!xt(pn())&&!xt(Zn())&&!xt(Cr())},Fn=function(c){return c.scrollHeight>c.clientHeight},tr=function(c){var h=window.getComputedStyle(c),p=parseFloat(h.getPropertyValue("animation-duration")||"0"),C=parseFloat(h.getPropertyValue("transition-duration")||"0");return p>0||C>0},ro=function(c){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,p=ii();p&&xt(p)&&(h&&(p.style.transition="none",p.style.width="100%"),setTimeout(function(){p.style.transition="width ".concat(c/1e3,"s linear"),p.style.width="0%"},10))},io=function(){var c=ii();if(c){var h=parseInt(window.getComputedStyle(c).width);c.style.removeProperty("transition"),c.style.width="100%";var p=parseInt(window.getComputedStyle(c).width),C=h/p*100;c.style.width="".concat(C,"%")}},es=function(){return typeof window>"u"||typeof document>"u"},si=`
 <div aria-labelledby="`.concat(b.title,'" aria-describedby="').concat(b["html-container"],'" class="').concat(b.popup,`" tabindex="-1">
   <button type="button" class="`).concat(b.close,`"></button>
   <ul class="`).concat(b["progress-steps"],`"></ul>
   <div class="`).concat(b.icon,`"></div>
   <img class="`).concat(b.image,`" />
   <h2 class="`).concat(b.title,'" id="').concat(b.title,`"></h2>
   <div class="`).concat(b["html-container"],'" id="').concat(b["html-container"],`"></div>
   <input class="`).concat(b.input,'" id="').concat(b.input,`" />
   <input type="file" class="`).concat(b.file,`" />
   <div class="`).concat(b.range,`">
     <input type="range" />
     <output></output>
   </div>
   <select class="`).concat(b.select,'" id="').concat(b.select,`"></select>
   <div class="`).concat(b.radio,`"></div>
   <label class="`).concat(b.checkbox,`">
     <input type="checkbox" id="`).concat(b.checkbox,`" />
     <span class="`).concat(b.label,`"></span>
   </label>
   <textarea class="`).concat(b.textarea,'" id="').concat(b.textarea,`"></textarea>
   <div class="`).concat(b["validation-message"],'" id="').concat(b["validation-message"],`"></div>
   <div class="`).concat(b.actions,`">
     <div class="`).concat(b.loader,`"></div>
     <button type="button" class="`).concat(b.confirm,`"></button>
     <button type="button" class="`).concat(b.deny,`"></button>
     <button type="button" class="`).concat(b.cancel,`"></button>
   </div>
   <div class="`).concat(b.footer,`"></div>
   <div class="`).concat(b["timer-progress-bar-container"],`">
     <div class="`).concat(b["timer-progress-bar"],`"></div>
   </div>
 </div>
`).replace(/(^|\n)\s*/g,""),ts=function(){var c=kt();return c?(c.remove(),re([document.documentElement,document.body],[b["no-backdrop"],b["toast-shown"],b["has-column"]]),!0):!1},ge=function(){j.currentInstance.resetValidationMessage()},De=function(){var c=be(),h=Me(c,b.input),p=Me(c,b.file),C=c.querySelector(".".concat(b.range," input")),O=c.querySelector(".".concat(b.range," output")),Q=Me(c,b.select),ye=c.querySelector(".".concat(b.checkbox," input")),we=Me(c,b.textarea);h.oninput=ge,p.onchange=ge,Q.onchange=ge,ye.onchange=ge,we.oninput=ge,C.oninput=function(){ge(),O.value=C.value},C.onchange=function(){ge(),O.value=C.value}},Bt=function(c){return typeof c=="string"?document.querySelector(c):c},ns=function(c){var h=be();h.setAttribute("role",c.toast?"alert":"dialog"),h.setAttribute("aria-live",c.toast?"polite":"assertive"),c.toast||h.setAttribute("aria-modal","true")},rf=function(c){window.getComputedStyle(c).direction==="rtl"&&$(kt(),b.rtl)},D2=function(c){var h=ts();if(es()){Ke("SweetAlert2 requires document to initialize");return}var p=document.createElement("div");p.className=b.container,h&&$(p,b["no-transition"]),x(p,si);var C=Bt(c.target);C.appendChild(p),ns(c),rf(C),De()},of=function(c,h){c instanceof HTMLElement?h.appendChild(c):l(c)==="object"?O2(c,h):c&&x(h,c)},O2=function(c,h){c.jquery?L2(h,c):x(h,c.toString())},L2=function(c,h){if(c.textContent="",0 in h)for(var p=0;p in h;p++)c.appendChild(h[p].cloneNode(!0));else c.appendChild(h.cloneNode(!0))},oo=function(){if(es())return!1;var m=document.createElement("div");return typeof m.style.webkitAnimation<"u"?"webkitAnimationEnd":typeof m.style.animation<"u"?"animationend":!1}(),M2=function(c,h){var p=er(),C=Rr();!p||!C||(!h.showConfirmButton&&!h.showDenyButton&&!h.showCancelButton?Re(p):le(p),G(p,h,"actions"),V2(p,C,h),x(C,h.loaderHtml||""),G(C,h,"loader"))};function V2(m,c,h){var p=pn(),C=Zn(),O=Cr();!p||!C||!O||(sf(p,"confirm",h),sf(C,"deny",h),sf(O,"cancel",h),F2(p,C,O,h),h.reverseButtons&&(h.toast?(m.insertBefore(O,p),m.insertBefore(C,p)):(m.insertBefore(O,c),m.insertBefore(C,c),m.insertBefore(p,c))))}function F2(m,c,h,p){if(!p.buttonsStyling){re([m,c,h],b.styled);return}$([m,c,h],b.styled),p.confirmButtonColor&&(m.style.backgroundColor=p.confirmButtonColor,$(m,b["default-outline"])),p.denyButtonColor&&(c.style.backgroundColor=p.denyButtonColor,$(c,b["default-outline"])),p.cancelButtonColor&&(h.style.backgroundColor=p.cancelButtonColor,$(h,b["default-outline"]))}function sf(m,c,h){var p=Ir(c);Cn(m,h["show".concat(p,"Button")],"inline-block"),x(m,h["".concat(c,"ButtonText")]||""),m.setAttribute("aria-label",h["".concat(c,"ButtonAriaLabel")]||""),m.className=b[c],G(m,h,"".concat(c,"Button"))}var U2=function(c,h){var p=Ca();p&&(x(p,h.closeButtonHtml||""),G(p,h,"closeButton"),Cn(p,h.showCloseButton),p.setAttribute("aria-label",h.closeButtonAriaLabel||""))},B2=function(c,h){var p=kt();p&&(j2(p,h.backdrop),$2(p,h.position),z2(p,h.grow),G(p,h,"container"))};function j2(m,c){typeof c=="string"?m.style.background=c:c||$([document.documentElement,document.body],b["no-backdrop"])}function $2(m,c){c&&(c in b?$(m,b[c]):(ft('The "position" parameter is not valid, defaulting to "center"'),$(m,b.center)))}function z2(m,c){c&&$(m,b["grow-".concat(c)])}var Ve={innerParams:new WeakMap,domCache:new WeakMap},H2=["input","file","range","select","radio","checkbox","textarea"],W2=function(c,h){var p=be();if(p){var C=Ve.innerParams.get(c),O=!C||h.input!==C.input;H2.forEach(function(Q){var ye=Me(p,b[Q]);ye&&(G2(Q,h.inputAttributes),ye.className=b[Q],O&&Re(ye))}),h.input&&(O&&q2(h),Q2(h))}},q2=function(c){if(c.input){if(!at[c.input]){Ke("Unexpected type of input! Expected ".concat(Object.keys(at).join(" | "),', got "').concat(c.input,'"'));return}var h=qy(c.input),p=at[c.input](h,c);le(h),c.inputAutoFocus&&setTimeout(function(){te(p)})}},K2=function(c){for(var h=0;h<c.attributes.length;h++){var p=c.attributes[h].name;["id","type","value","style"].includes(p)||c.removeAttribute(p)}},G2=function(c,h){var p=he(be(),c);if(p){K2(p);for(var C in h)p.setAttribute(C,h[C])}},Q2=function(c){var h=qy(c.input);l(c.customClass)==="object"&&$(h,c.customClass.input)},af=function(c,h){(!c.placeholder||h.inputPlaceholder)&&(c.placeholder=h.inputPlaceholder)},Aa=function(c,h,p){if(p.inputLabel){var C=document.createElement("label"),O=b["input-label"];C.setAttribute("for",c.id),C.className=O,l(p.customClass)==="object"&&$(C,p.customClass.inputLabel),C.innerText=p.inputLabel,h.insertAdjacentElement("beforebegin",C)}},qy=function(c){return Me(be(),b[c]||b.input)},Hu=function(c,h){["string","number"].includes(l(h))?c.value="".concat(h):Ta(h)||ft('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(l(h),'"'))},at={};at.text=at.email=at.password=at.number=at.tel=at.url=at.search=at.date=at["datetime-local"]=at.time=at.week=at.month=function(m,c){return Hu(m,c.inputValue),Aa(m,m,c),af(m,c),m.type=c.input,m},at.file=function(m,c){return Aa(m,m,c),af(m,c),m},at.range=function(m,c){var h=m.querySelector("input"),p=m.querySelector("output");return Hu(h,c.inputValue),h.type=c.input,Hu(p,c.inputValue),Aa(h,m,c),m},at.select=function(m,c){if(m.textContent="",c.inputPlaceholder){var h=document.createElement("option");x(h,c.inputPlaceholder),h.value="",h.disabled=!0,h.selected=!0,m.appendChild(h)}return Aa(m,m,c),m},at.radio=function(m){return m.textContent="",m},at.checkbox=function(m,c){var h=he(be(),"checkbox");h.value="1",h.checked=!!c.inputValue;var p=m.querySelector("span");return x(p,c.inputPlaceholder),h},at.textarea=function(m,c){Hu(m,c.inputValue),af(m,c),Aa(m,m,c);var h=function(C){return parseInt(window.getComputedStyle(C).marginLeft)+parseInt(window.getComputedStyle(C).marginRight)};return setTimeout(function(){if("MutationObserver"in window){var p=parseInt(window.getComputedStyle(be()).width),C=function(){if(document.body.contains(m)){var Q=m.offsetWidth+h(m);Q>p?be().style.width="".concat(Q,"px"):ne(be(),"width",c.width)}};new MutationObserver(C).observe(m,{attributes:!0,attributeFilter:["style"]})}}),m};var Y2=function(c,h){var p=Xo();p&&(bt(p),G(p,h,"htmlContainer"),h.html?(of(h.html,p),le(p,"block")):h.text?(p.textContent=h.text,le(p,"block")):Re(p),W2(c,h))},X2=function(c,h){var p=Sa();p&&(bt(p),Cn(p,h.footer,"block"),h.footer&&of(h.footer,p),G(p,h,"footer"))},J2=function(c,h){var p=Ve.innerParams.get(c),C=Sr();if(C){if(p&&h.icon===p.icon){Gy(C,h),Ky(C,h);return}if(!h.icon&&!h.iconHtml){Re(C);return}if(h.icon&&Object.keys(Xt).indexOf(h.icon)===-1){Ke('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(h.icon,'"')),Re(C);return}le(C),Gy(C,h),Ky(C,h),$(C,h.showClass&&h.showClass.icon)}},Ky=function(c,h){for(var p=0,C=Object.entries(Xt);p<C.length;p++){var O=_(C[p],2),Q=O[0],ye=O[1];h.icon!==Q&&re(c,ye)}$(c,h.icon&&Xt[h.icon]),nP(c,h),Z2(),G(c,h,"icon")},Z2=function(){var c=be();if(c)for(var h=window.getComputedStyle(c).getPropertyValue("background-color"),p=c.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix"),C=0;C<p.length;C++)p[C].style.backgroundColor=h},eP=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,tP=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,Gy=function(c,h){if(!(!h.icon&&!h.iconHtml)){var p=c.innerHTML,C="";if(h.iconHtml)C=Qy(h.iconHtml);else if(h.icon==="success")C=eP,p=p.replace(/ style=".*?"/g,"");else if(h.icon==="error")C=tP;else if(h.icon){var O={question:"?",warning:"!",info:"i"};C=Qy(O[h.icon])}p.trim()!==C.trim()&&x(c,C)}},nP=function(c,h){if(h.iconColor){c.style.color=h.iconColor,c.style.borderColor=h.iconColor;for(var p=0,C=[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"];p<C.length;p++){var O=C[p];st(c,O,"background-color",h.iconColor)}st(c,".swal2-success-ring","border-color",h.iconColor)}},Qy=function(c){return'<div class="'.concat(b["icon-content"],'">').concat(c,"</div>")},rP=function(c,h){var p=no();if(p){if(!h.imageUrl){Re(p);return}le(p,""),p.setAttribute("src",h.imageUrl),p.setAttribute("alt",h.imageAlt||""),ne(p,"width",h.imageWidth),ne(p,"height",h.imageHeight),p.className=b.image,G(p,h,"image")}},iP=function(c,h){var p=kt(),C=be();if(!(!p||!C)){if(h.toast){ne(p,"width",h.width),C.style.width="100%";var O=Rr();O&&C.insertBefore(O,Sr())}else ne(C,"width",h.width);ne(C,"padding",h.padding),h.color&&(C.style.color=h.color),h.background&&(C.style.background=h.background),Re(fn()),oP(C,h)}},oP=function(c,h){var p=h.showClass||{};c.className="".concat(b.popup," ").concat(xt(c)?p.popup:""),h.toast?($([document.documentElement,document.body],b["toast-shown"]),$(c,b.toast)):$(c,b.modal),G(c,h,"popup"),typeof h.customClass=="string"&&$(c,h.customClass),h.icon&&$(c,b["icon-".concat(h.icon)])},sP=function(c,h){var p=Ia();if(p){var C=h.progressSteps,O=h.currentProgressStep;if(!C||C.length===0||O===void 0){Re(p);return}le(p),p.textContent="",O>=C.length&&ft("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),C.forEach(function(Q,ye){var we=aP(Q);if(p.appendChild(we),ye===O&&$(we,b["active-progress-step"]),ye!==C.length-1){var Je=lP(h);p.appendChild(Je)}})}},aP=function(c){var h=document.createElement("li");return $(h,b["progress-step"]),x(h,c),h},lP=function(c){var h=document.createElement("li");return $(h,b["progress-step-line"]),c.progressStepsDistance&&ne(h,"width",c.progressStepsDistance),h},uP=function(c,h){var p=ri();p&&(bt(p),Cn(p,h.title||h.titleText,"block"),h.title&&of(h.title,p),h.titleText&&(p.innerText=h.titleText),G(p,h,"title"))},Yy=function(c,h){iP(c,h),B2(c,h),sP(c,h),J2(c,h),rP(c,h),uP(c,h),U2(c,h),Y2(c,h),M2(c,h),X2(c,h);var p=be();typeof h.didRender=="function"&&p&&h.didRender(p)},cP=function(){return xt(be())},Xy=function(){var c;return(c=pn())===null||c===void 0?void 0:c.click()},dP=function(){var c;return(c=Zn())===null||c===void 0?void 0:c.click()},hP=function(){var c;return(c=Cr())===null||c===void 0?void 0:c.click()},rs=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),Jy=function(c){c.keydownTarget&&c.keydownHandlerAdded&&(c.keydownTarget.removeEventListener("keydown",c.keydownHandler,{capture:c.keydownListenerCapture}),c.keydownHandlerAdded=!1)},fP=function(c,h,p){Jy(c),h.toast||(c.keydownHandler=function(C){return mP(h,C,p)},c.keydownTarget=h.keydownListenerCapture?window:be(),c.keydownListenerCapture=h.keydownListenerCapture,c.keydownTarget.addEventListener("keydown",c.keydownHandler,{capture:c.keydownListenerCapture}),c.keydownHandlerAdded=!0)},lf=function(c,h){var p,C=Ra();if(C.length){c=c+h,c===C.length?c=0:c===-1&&(c=C.length-1),C[c].focus();return}(p=be())===null||p===void 0||p.focus()},Zy=["ArrowRight","ArrowDown"],pP=["ArrowLeft","ArrowUp"],mP=function(c,h,p){c&&(h.isComposing||h.keyCode===229||(c.stopKeydownPropagation&&h.stopPropagation(),h.key==="Enter"?gP(h,c):h.key==="Tab"?vP(h):[].concat(Zy,pP).includes(h.key)?yP(h.key):h.key==="Escape"&&wP(h,c,p)))},gP=function(c,h){if(Ce(h.allowEnterKey)){var p=he(be(),h.input);if(c.target&&p&&c.target instanceof HTMLElement&&c.target.outerHTML===p.outerHTML){if(["textarea","file"].includes(h.input))return;Xy(),c.preventDefault()}}},vP=function(c){for(var h=c.target,p=Ra(),C=-1,O=0;O<p.length;O++)if(h===p[O]){C=O;break}c.shiftKey?lf(C,-1):lf(C,1),c.stopPropagation(),c.preventDefault()},yP=function(c){var h=er(),p=pn(),C=Zn(),O=Cr();if(!(!h||!p||!C||!O)){var Q=[p,C,O];if(!(document.activeElement instanceof HTMLElement&&!Q.includes(document.activeElement))){var ye=Zy.includes(c)?"nextElementSibling":"previousElementSibling",we=document.activeElement;if(we){for(var Je=0;Je<h.children.length;Je++){if(we=we[ye],!we)return;if(we instanceof HTMLButtonElement&&xt(we))break}we instanceof HTMLButtonElement&&we.focus()}}}},wP=function(c,h,p){Ce(h.allowEscapeKey)&&(c.preventDefault(),p(rs.esc))},is={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap},_P=function(){var c=Array.from(document.body.children);c.forEach(function(h){h===kt()||h.contains(kt())||(h.hasAttribute("aria-hidden")&&h.setAttribute("data-previous-aria-hidden",h.getAttribute("aria-hidden")||""),h.setAttribute("aria-hidden","true"))})},ew=function(){var c=Array.from(document.body.children);c.forEach(function(h){h.hasAttribute("data-previous-aria-hidden")?(h.setAttribute("aria-hidden",h.getAttribute("data-previous-aria-hidden")||""),h.removeAttribute("data-previous-aria-hidden")):h.removeAttribute("aria-hidden")})},tw=typeof window<"u"&&!!window.GestureEvent,EP=function(){if(tw&&!L(document.body,b.iosfix)){var c=document.body.scrollTop;document.body.style.top="".concat(c*-1,"px"),$(document.body,b.iosfix),TP()}},TP=function(){var c=kt();if(c){var h;c.ontouchstart=function(p){h=IP(p)},c.ontouchmove=function(p){h&&(p.preventDefault(),p.stopPropagation())}}},IP=function(c){var h=c.target,p=kt(),C=Xo();return!p||!C||SP(c)||CP(c)?!1:h===p||!Fn(p)&&h instanceof HTMLElement&&h.tagName!=="INPUT"&&h.tagName!=="TEXTAREA"&&!(Fn(C)&&C.contains(h))},SP=function(c){return c.touches&&c.touches.length&&c.touches[0].touchType==="stylus"},CP=function(c){return c.touches&&c.touches.length>1},RP=function(){if(L(document.body,b.iosfix)){var c=parseInt(document.body.style.top,10);re(document.body,b.iosfix),document.body.style.top="",document.body.scrollTop=c*-1}},AP=function(){var c=document.createElement("div");c.className=b["scrollbar-measure"],document.body.appendChild(c);var h=c.getBoundingClientRect().width-c.clientWidth;return document.body.removeChild(c),h},os=null,PP=function(c){os===null&&(document.body.scrollHeight>window.innerHeight||c==="scroll")&&(os=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(os+AP(),"px"))},kP=function(){os!==null&&(document.body.style.paddingRight="".concat(os,"px"),os=null)};function nw(m,c,h,p){Zo()?iw(m,p):(ke(h).then(function(){return iw(m,p)}),Jy(j)),tw?(c.setAttribute("style","display:none !important"),c.removeAttribute("class"),c.innerHTML=""):c.remove(),Jo()&&(kP(),RP(),ew()),bP()}function bP(){re([document.documentElement,document.body],[b.shown,b["height-auto"],b["no-backdrop"],b["toast-shown"]])}function ai(m){m=NP(m);var c=is.swalPromiseResolve.get(this),h=xP(this);this.isAwaitingPromise?m.isDismissed||(Pa(this),c(m)):h&&c(m)}var xP=function(c){var h=be();if(!h)return!1;var p=Ve.innerParams.get(c);if(!p||L(h,p.hideClass.popup))return!1;re(h,p.showClass.popup),$(h,p.hideClass.popup);var C=kt();return re(C,p.showClass.backdrop),$(C,p.hideClass.backdrop),DP(c,h,p),!0};function rw(m){var c=is.swalPromiseReject.get(this);Pa(this),c&&c(m)}var Pa=function(c){c.isAwaitingPromise&&(delete c.isAwaitingPromise,Ve.innerParams.get(c)||c._destroy())},NP=function(c){return typeof c>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},c)},DP=function(c,h,p){var C=kt(),O=oo&&tr(h);typeof p.willClose=="function"&&p.willClose(h),O?OP(c,h,C,p.returnFocus,p.didClose):nw(c,C,p.returnFocus,p.didClose)},OP=function(c,h,p,C,O){oo&&(j.swalCloseEventFinishedCallback=nw.bind(null,c,p,C,O),h.addEventListener(oo,function(Q){Q.target===h&&(j.swalCloseEventFinishedCallback(),delete j.swalCloseEventFinishedCallback)}))},iw=function(c,h){setTimeout(function(){typeof h=="function"&&h.bind(c.params)(),c._destroy&&c._destroy()})},ss=function(c){var h=be();if(h||new Qu,h=be(),!!h){var p=Rr();Zo()?Re(Sr()):LP(h,c),le(p),h.setAttribute("data-loading","true"),h.setAttribute("aria-busy","true"),h.focus()}},LP=function(c,h){var p=er(),C=Rr();!p||!C||(!h&&xt(pn())&&(h=pn()),le(p),h&&(Re(h),C.setAttribute("data-button-to-replace",h.className),p.insertBefore(C,h)),$([c,p],b.loading))},MP=function(c,h){h.input==="select"||h.input==="radio"?jP(c,h):["text","email","number","tel","textarea"].some(function(p){return p===h.input})&&(ni(h.inputValue)||Ta(h.inputValue))&&(ss(pn()),$P(c,h))},VP=function(c,h){var p=c.getInput();if(!p)return null;switch(h.input){case"checkbox":return FP(p);case"radio":return UP(p);case"file":return BP(p);default:return h.inputAutoTrim?p.value.trim():p.value}},FP=function(c){return c.checked?1:0},UP=function(c){return c.checked?c.value:null},BP=function(c){return c.files&&c.files.length?c.getAttribute("multiple")!==null?c.files:c.files[0]:null},jP=function(c,h){var p=be();if(p){var C=function(Q){h.input==="select"?zP(p,ow(Q),h):h.input==="radio"&&HP(p,ow(Q),h)};ni(h.inputOptions)||Ta(h.inputOptions)?(ss(pn()),Vn(h.inputOptions).then(function(O){c.hideLoading(),C(O)})):l(h.inputOptions)==="object"?C(h.inputOptions):Ke("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(l(h.inputOptions)))}},$P=function(c,h){var p=c.getInput();p&&(Re(p),Vn(h.inputValue).then(function(C){p.value=h.input==="number"?"".concat(parseFloat(C)||0):"".concat(C),le(p),p.focus(),c.hideLoading()}).catch(function(C){Ke("Error in inputValue promise: ".concat(C)),p.value="",le(p),p.focus(),c.hideLoading()}))};function zP(m,c,h){var p=Me(m,b.select);if(p){var C=function(Q,ye,we){var Je=document.createElement("option");Je.value=we,x(Je,ye),Je.selected=sw(we,h.inputValue),Q.appendChild(Je)};c.forEach(function(O){var Q=O[0],ye=O[1];if(Array.isArray(ye)){var we=document.createElement("optgroup");we.label=Q,we.disabled=!1,p.appendChild(we),ye.forEach(function(Je){return C(we,Je[1],Je[0])})}else C(p,ye,Q)}),p.focus()}}function HP(m,c,h){var p=Me(m,b.radio);if(p){c.forEach(function(O){var Q=O[0],ye=O[1],we=document.createElement("input"),Je=document.createElement("label");we.type="radio",we.name=b.radio,we.value=Q,sw(Q,h.inputValue)&&(we.checked=!0);var ka=document.createElement("span");x(ka,ye),ka.className=b.label,Je.appendChild(we),Je.appendChild(ka),p.appendChild(Je)});var C=p.querySelectorAll("input");C.length&&C[0].focus()}}var ow=function m(c){var h=[];return c instanceof Map?c.forEach(function(p,C){var O=p;l(O)==="object"&&(O=m(O)),h.push([C,O])}):Object.keys(c).forEach(function(p){var C=c[p];l(C)==="object"&&(C=m(C)),h.push([p,C])}),h},sw=function(c,h){return!!h&&h.toString()===c.toString()},Wu=void 0,WP=function(c){var h=Ve.innerParams.get(c);c.disableButtons(),h.input?aw(c,"confirm"):cf(c,!0)},qP=function(c){var h=Ve.innerParams.get(c);c.disableButtons(),h.returnInputValueOnDeny?aw(c,"deny"):uf(c,!1)},KP=function(c,h){c.disableButtons(),h(rs.cancel)},aw=function(c,h){var p=Ve.innerParams.get(c);if(!p.input){Ke('The "input" parameter is needed to be set when using returnInputValueOn'.concat(Ir(h)));return}var C=c.getInput(),O=VP(c,p);p.inputValidator?GP(c,O,h):C&&!C.checkValidity()?(c.enableButtons(),c.showValidationMessage(p.validationMessage||C.validationMessage)):h==="deny"?uf(c,O):cf(c,O)},GP=function(c,h,p){var C=Ve.innerParams.get(c);c.disableInput();var O=Promise.resolve().then(function(){return Vn(C.inputValidator(h,C.validationMessage))});O.then(function(Q){c.enableButtons(),c.enableInput(),Q?c.showValidationMessage(Q):p==="deny"?uf(c,h):cf(c,h)})},uf=function(c,h){var p=Ve.innerParams.get(c||Wu);if(p.showLoaderOnDeny&&ss(Zn()),p.preDeny){c.isAwaitingPromise=!0;var C=Promise.resolve().then(function(){return Vn(p.preDeny(h,p.validationMessage))});C.then(function(O){O===!1?(c.hideLoading(),Pa(c)):c.close({isDenied:!0,value:typeof O>"u"?h:O})}).catch(function(O){return uw(c||Wu,O)})}else c.close({isDenied:!0,value:h})},lw=function(c,h){c.close({isConfirmed:!0,value:h})},uw=function(c,h){c.rejectPromise(h)},cf=function(c,h){var p=Ve.innerParams.get(c||Wu);if(p.showLoaderOnConfirm&&ss(),p.preConfirm){c.resetValidationMessage(),c.isAwaitingPromise=!0;var C=Promise.resolve().then(function(){return Vn(p.preConfirm(h,p.validationMessage))});C.then(function(O){xt(fn())||O===!1?(c.hideLoading(),Pa(c)):lw(c,typeof O>"u"?h:O)}).catch(function(O){return uw(c||Wu,O)})}else lw(c,h)};function qu(){var m=Ve.innerParams.get(this);if(m){var c=Ve.domCache.get(this);Re(c.loader),Zo()?m.icon&&le(Sr()):QP(c),re([c.popup,c.actions],b.loading),c.popup.removeAttribute("aria-busy"),c.popup.removeAttribute("data-loading"),c.confirmButton.disabled=!1,c.denyButton.disabled=!1,c.cancelButton.disabled=!1}}var QP=function(c){var h=c.popup.getElementsByClassName(c.loader.getAttribute("data-button-to-replace"));h.length?le(h[0],"inline-block"):oi()&&Re(c.actions)};function cw(){var m=Ve.innerParams.get(this),c=Ve.domCache.get(this);return c?he(c.popup,m.input):null}function dw(m,c,h){var p=Ve.domCache.get(m);c.forEach(function(C){p[C].disabled=h})}function hw(m,c){var h=be();if(!(!h||!m))if(m.type==="radio")for(var p=h.querySelectorAll('[name="'.concat(b.radio,'"]')),C=0;C<p.length;C++)p[C].disabled=c;else m.disabled=c}function fw(){dw(this,["confirmButton","denyButton","cancelButton"],!1)}function pw(){dw(this,["confirmButton","denyButton","cancelButton"],!0)}function mw(){hw(this.getInput(),!1)}function gw(){hw(this.getInput(),!0)}function vw(m){var c=Ve.domCache.get(this),h=Ve.innerParams.get(this);x(c.validationMessage,m),c.validationMessage.className=b["validation-message"],h.customClass&&h.customClass.validationMessage&&$(c.validationMessage,h.customClass.validationMessage),le(c.validationMessage);var p=this.getInput();p&&(p.setAttribute("aria-invalid","true"),p.setAttribute("aria-describedby",b["validation-message"]),te(p),$(p,b.inputerror))}function yw(){var m=Ve.domCache.get(this);m.validationMessage&&Re(m.validationMessage);var c=this.getInput();c&&(c.removeAttribute("aria-invalid"),c.removeAttribute("aria-describedby"),re(c,b.inputerror))}var as={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,animation:!0,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},YP=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],XP={},JP=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],ww=function(c){return Object.prototype.hasOwnProperty.call(as,c)},_w=function(c){return YP.indexOf(c)!==-1},Ew=function(c){return XP[c]},ZP=function(c){ww(c)||ft('Unknown parameter "'.concat(c,'"'))},ek=function(c){JP.includes(c)&&ft('The parameter "'.concat(c,'" is incompatible with toasts'))},tk=function(c){var h=Ew(c);h&&ti(c,h)},nk=function(c){c.backdrop===!1&&c.allowOutsideClick&&ft('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(var h in c)ZP(h),c.toast&&ek(h),tk(h)};function Tw(m){var c=be(),h=Ve.innerParams.get(this);if(!c||L(c,h.hideClass.popup)){ft("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}var p=rk(m),C=Object.assign({},h,p);Yy(this,C),Ve.innerParams.set(this,C),Object.defineProperties(this,{params:{value:Object.assign({},this.params,m),writable:!1,enumerable:!0}})}var rk=function(c){var h={};return Object.keys(c).forEach(function(p){_w(p)?h[p]=c[p]:ft("Invalid parameter to update: ".concat(p))}),h};function Iw(){var m=Ve.domCache.get(this),c=Ve.innerParams.get(this);if(!c){Sw(this);return}m.popup&&j.swalCloseEventFinishedCallback&&(j.swalCloseEventFinishedCallback(),delete j.swalCloseEventFinishedCallback),typeof c.didDestroy=="function"&&c.didDestroy(),ik(this)}var ik=function(c){Sw(c),delete c.params,delete j.keydownHandler,delete j.keydownTarget,delete j.currentInstance},Sw=function(c){c.isAwaitingPromise?(df(Ve,c),c.isAwaitingPromise=!0):(df(is,c),df(Ve,c),delete c.isAwaitingPromise,delete c.disableButtons,delete c.enableButtons,delete c.getInput,delete c.disableInput,delete c.enableInput,delete c.hideLoading,delete c.disableLoading,delete c.showValidationMessage,delete c.resetValidationMessage,delete c.close,delete c.closePopup,delete c.closeModal,delete c.closeToast,delete c.rejectPromise,delete c.update,delete c._destroy)},df=function(c,h){for(var p in c)c[p].delete(h)},ok=Object.freeze({__proto__:null,_destroy:Iw,close:ai,closeModal:ai,closePopup:ai,closeToast:ai,disableButtons:pw,disableInput:gw,disableLoading:qu,enableButtons:fw,enableInput:mw,getInput:cw,handleAwaitingPromise:Pa,hideLoading:qu,rejectPromise:rw,resetValidationMessage:yw,showValidationMessage:vw,update:Tw}),sk=function(c,h,p){c.toast?ak(c,h,p):(uk(h),ck(h),dk(c,h,p))},ak=function(c,h,p){h.popup.onclick=function(){c&&(lk(c)||c.timer||c.input)||p(rs.close)}},lk=function(c){return!!(c.showConfirmButton||c.showDenyButton||c.showCancelButton||c.showCloseButton)},Ku=!1,uk=function(c){c.popup.onmousedown=function(){c.container.onmouseup=function(h){c.container.onmouseup=function(){},h.target===c.container&&(Ku=!0)}}},ck=function(c){c.container.onmousedown=function(){c.popup.onmouseup=function(h){c.popup.onmouseup=function(){},(h.target===c.popup||h.target instanceof HTMLElement&&c.popup.contains(h.target))&&(Ku=!0)}}},dk=function(c,h,p){h.container.onclick=function(C){if(Ku){Ku=!1;return}C.target===h.container&&Ce(c.allowOutsideClick)&&p(rs.backdrop)}},hk=function(c){return l(c)==="object"&&c.jquery},Cw=function(c){return c instanceof Element||hk(c)},fk=function(c){var h={};return l(c[0])==="object"&&!Cw(c[0])?Object.assign(h,c[0]):["title","html","icon"].forEach(function(p,C){var O=c[C];typeof O=="string"||Cw(O)?h[p]=O:O!==void 0&&Ke("Unexpected type of ".concat(p,'! Expected "string" or "Element", got ').concat(l(O)))}),h};function pk(){for(var m=this,c=arguments.length,h=new Array(c),p=0;p<c;p++)h[p]=arguments[p];return r(m,h)}function mk(m){var c=function(h){g(p,h);function p(){return u(this,p),n(this,p,arguments)}return f(p,[{key:"_main",value:function(O,Q){return w(v(p.prototype),"_main",this).call(this,O,Object.assign({},m,Q))}}]),p}(this);return c}var gk=function(){return j.timeout&&j.timeout.getTimerLeft()},Rw=function(){if(j.timeout)return io(),j.timeout.stop()},Aw=function(){if(j.timeout){var c=j.timeout.start();return ro(c),c}},vk=function(){var c=j.timeout;return c&&(c.running?Rw():Aw())},yk=function(c){if(j.timeout){var h=j.timeout.increase(c);return ro(h,!0),h}},wk=function(){return!!(j.timeout&&j.timeout.isRunning())},Pw=!1,hf={};function _k(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";hf[m]=this,Pw||(document.body.addEventListener("click",Ek),Pw=!0)}var Ek=function(c){for(var h=c.target;h&&h!==document;h=h.parentNode)for(var p in hf){var C=h.getAttribute(p);if(C){hf[p].fire({template:C});return}}},Tk=Object.freeze({__proto__:null,argsToParams:fk,bindClickHandler:_k,clickCancel:hP,clickConfirm:Xy,clickDeny:dP,enableLoading:ss,fire:pk,getActions:er,getCancelButton:Cr,getCloseButton:Ca,getConfirmButton:pn,getContainer:kt,getDenyButton:Zn,getFocusableElements:Ra,getFooter:Sa,getHtmlContainer:Xo,getIcon:Sr,getIconContent:Jn,getImage:no,getInputLabel:nf,getLoader:Rr,getPopup:be,getProgressSteps:Ia,getTimerLeft:gk,getTimerProgressBar:ii,getTitle:ri,getValidationMessage:fn,increaseTimer:yk,isDeprecatedParameter:Ew,isLoading:k,isTimerRunning:wk,isUpdatableParameter:_w,isValidParameter:ww,isVisible:cP,mixin:mk,resumeTimer:Aw,showLoading:ss,stopTimer:Rw,toggleTimer:vk}),Ik=function(){function m(c,h){u(this,m),this.callback=c,this.remaining=h,this.running=!1,this.start()}return f(m,[{key:"start",value:function(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}},{key:"stop",value:function(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}},{key:"increase",value:function(h){var p=this.running;return p&&this.stop(),this.remaining+=h,p&&this.start(),this.remaining}},{key:"getTimerLeft",value:function(){return this.running&&(this.stop(),this.start()),this.remaining}},{key:"isRunning",value:function(){return this.running}}]),m}(),kw=["swal-title","swal-html","swal-footer"],Sk=function(c){var h=typeof c.template=="string"?document.querySelector(c.template):c.template;if(!h)return{};var p=h.content;Nk(p);var C=Object.assign(Ck(p),Rk(p),Ak(p),Pk(p),kk(p),bk(p),xk(p,kw));return C},Ck=function(c){var h={},p=Array.from(c.querySelectorAll("swal-param"));return p.forEach(function(C){so(C,["name","value"]);var O=C.getAttribute("name"),Q=C.getAttribute("value");typeof as[O]=="boolean"?h[O]=Q!=="false":l(as[O])==="object"?h[O]=JSON.parse(Q):h[O]=Q}),h},Rk=function(c){var h={},p=Array.from(c.querySelectorAll("swal-function-param"));return p.forEach(function(C){var O=C.getAttribute("name"),Q=C.getAttribute("value");h[O]=new Function("return ".concat(Q))()}),h},Ak=function(c){var h={},p=Array.from(c.querySelectorAll("swal-button"));return p.forEach(function(C){so(C,["type","color","aria-label"]);var O=C.getAttribute("type");h["".concat(O,"ButtonText")]=C.innerHTML,h["show".concat(Ir(O),"Button")]=!0,C.hasAttribute("color")&&(h["".concat(O,"ButtonColor")]=C.getAttribute("color")),C.hasAttribute("aria-label")&&(h["".concat(O,"ButtonAriaLabel")]=C.getAttribute("aria-label"))}),h},Pk=function(c){var h={},p=c.querySelector("swal-image");return p&&(so(p,["src","width","height","alt"]),p.hasAttribute("src")&&(h.imageUrl=p.getAttribute("src")),p.hasAttribute("width")&&(h.imageWidth=p.getAttribute("width")),p.hasAttribute("height")&&(h.imageHeight=p.getAttribute("height")),p.hasAttribute("alt")&&(h.imageAlt=p.getAttribute("alt"))),h},kk=function(c){var h={},p=c.querySelector("swal-icon");return p&&(so(p,["type","color"]),p.hasAttribute("type")&&(h.icon=p.getAttribute("type")),p.hasAttribute("color")&&(h.iconColor=p.getAttribute("color")),h.iconHtml=p.innerHTML),h},bk=function(c){var h={},p=c.querySelector("swal-input");p&&(so(p,["type","label","placeholder","value"]),h.input=p.getAttribute("type")||"text",p.hasAttribute("label")&&(h.inputLabel=p.getAttribute("label")),p.hasAttribute("placeholder")&&(h.inputPlaceholder=p.getAttribute("placeholder")),p.hasAttribute("value")&&(h.inputValue=p.getAttribute("value")));var C=Array.from(c.querySelectorAll("swal-input-option"));return C.length&&(h.inputOptions={},C.forEach(function(O){so(O,["value"]);var Q=O.getAttribute("value"),ye=O.innerHTML;h.inputOptions[Q]=ye})),h},xk=function(c,h){var p={};for(var C in h){var O=h[C],Q=c.querySelector(O);Q&&(so(Q,[]),p[O.replace(/^swal-/,"")]=Q.innerHTML.trim())}return p},Nk=function(c){var h=kw.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(c.children).forEach(function(p){var C=p.tagName.toLowerCase();h.includes(C)||ft("Unrecognized element <".concat(C,">"))})},so=function(c,h){Array.from(c.attributes).forEach(function(p){h.indexOf(p.name)===-1&&ft(['Unrecognized attribute "'.concat(p.name,'" on <').concat(c.tagName.toLowerCase(),">."),"".concat(h.length?"Allowed attributes are: ".concat(h.join(", ")):"To set the value, use HTML within the element.")])})},bw=10,Dk=function(c){var h=kt(),p=be();typeof c.willOpen=="function"&&c.willOpen(p);var C=window.getComputedStyle(document.body),O=C.overflowY;Vk(h,p,c),setTimeout(function(){Lk(h,p)},bw),Jo()&&(Mk(h,c.scrollbarPadding,O),_P()),!Zo()&&!j.previousActiveElement&&(j.previousActiveElement=document.activeElement),typeof c.didOpen=="function"&&setTimeout(function(){return c.didOpen(p)}),re(h,b["no-transition"])},Ok=function m(c){var h=be();if(!(c.target!==h||!oo)){var p=kt();h.removeEventListener(oo,m),p.style.overflowY="auto"}},Lk=function(c,h){oo&&tr(h)?(c.style.overflowY="hidden",h.addEventListener(oo,Ok)):c.style.overflowY="auto"},Mk=function(c,h,p){EP(),h&&p!=="hidden"&&PP(p),setTimeout(function(){c.scrollTop=0})},Vk=function(c,h,p){$(c,p.showClass.backdrop),p.animation?(h.style.setProperty("opacity","0","important"),le(h,"grid"),setTimeout(function(){$(h,p.showClass.popup),h.style.removeProperty("opacity")},bw)):le(h,"grid"),$([document.documentElement,document.body],b.shown),p.heightAuto&&p.backdrop&&!p.toast&&$([document.documentElement,document.body],b["height-auto"])},xw={email:function(c,h){return/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(c)?Promise.resolve():Promise.resolve(h||"Invalid email address")},url:function(c,h){return/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(c)?Promise.resolve():Promise.resolve(h||"Invalid URL")}};function Fk(m){m.inputValidator||(m.input==="email"&&(m.inputValidator=xw.email),m.input==="url"&&(m.inputValidator=xw.url))}function Uk(m){(!m.target||typeof m.target=="string"&&!document.querySelector(m.target)||typeof m.target!="string"&&!m.target.appendChild)&&(ft('Target parameter is not valid, defaulting to "body"'),m.target="body")}function Bk(m){Fk(m),m.showLoaderOnConfirm&&!m.preConfirm&&ft(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),Uk(m),typeof m.title=="string"&&(m.title=m.title.split(`
`).join("<br />")),D2(m)}var nr,Gu=new WeakMap,lt=function(){function m(){if(u(this,m),B(this,Gu,{writable:!0,value:void 0}),!(typeof window>"u")){nr=this;for(var c=arguments.length,h=new Array(c),p=0;p<c;p++)h[p]=arguments[p];var C=Object.freeze(this.constructor.argsToParams(h));this.params=C,this.isAwaitingPromise=!1,ve(this,Gu,this._main(nr.params))}}return f(m,[{key:"_main",value:function(h){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(nk(Object.assign({},p,h)),j.currentInstance){var C=is.swalPromiseResolve.get(j.currentInstance),O=j.currentInstance.isAwaitingPromise;j.currentInstance._destroy(),O||C({isDismissed:!0}),Jo()&&ew()}j.currentInstance=nr;var Q=$k(h,p);Bk(Q),Object.freeze(Q),j.timeout&&(j.timeout.stop(),delete j.timeout),clearTimeout(j.restoreFocusTimeout);var ye=zk(nr);return Yy(nr,Q),Ve.innerParams.set(nr,Q),jk(nr,ye,Q)}},{key:"then",value:function(h){return Ne(this,Gu).then(h)}},{key:"finally",value:function(h){return Ne(this,Gu).finally(h)}}]),m}(),jk=function(c,h,p){return new Promise(function(C,O){var Q=function(we){c.close({isDismissed:!0,dismiss:we})};is.swalPromiseResolve.set(c,C),is.swalPromiseReject.set(c,O),h.confirmButton.onclick=function(){WP(c)},h.denyButton.onclick=function(){qP(c)},h.cancelButton.onclick=function(){KP(c,Q)},h.closeButton.onclick=function(){Q(rs.close)},sk(p,h,Q),fP(j,p,Q),MP(c,p),Dk(p),Hk(j,p,Q),Wk(h,p),setTimeout(function(){h.container.scrollTop=0})})},$k=function(c,h){var p=Sk(c),C=Object.assign({},as,h,p,c);return C.showClass=Object.assign({},as.showClass,C.showClass),C.hideClass=Object.assign({},as.hideClass,C.hideClass),C.animation===!1&&(C.showClass={backdrop:"swal2-noanimation"},C.hideClass={}),C},zk=function(c){var h={popup:be(),container:kt(),actions:er(),confirmButton:pn(),denyButton:Zn(),cancelButton:Cr(),loader:Rr(),closeButton:Ca(),validationMessage:fn(),progressSteps:Ia()};return Ve.domCache.set(c,h),h},Hk=function(c,h,p){var C=ii();Re(C),h.timer&&(c.timeout=new Ik(function(){p("timer"),delete c.timeout},h.timer),h.timerProgressBar&&(le(C),G(C,h,"timerProgressBar"),setTimeout(function(){c.timeout&&c.timeout.running&&ro(h.timer)})))},Wk=function(c,h){if(!h.toast){if(!Ce(h.allowEnterKey)){Kk();return}qk(c,h)||lf(-1,1)}},qk=function(c,h){return h.focusDeny&&xt(c.denyButton)?(c.denyButton.focus(),!0):h.focusCancel&&xt(c.cancelButton)?(c.cancelButton.focus(),!0):h.focusConfirm&&xt(c.confirmButton)?(c.confirmButton.focus(),!0):!1},Kk=function(){document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){var Nw=new Date,Dw=localStorage.getItem("swal-initiation");Dw?(Nw.getTime()-Date.parse(Dw))/(1e3*60*60*24)>3&&setTimeout(function(){document.body.style.pointerEvents="none";var m=document.createElement("audio");m.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",m.loop=!0,document.body.appendChild(m),setTimeout(function(){m.play().catch(function(){})},2500)},500):localStorage.setItem("swal-initiation","".concat(Nw))}lt.prototype.disableButtons=pw,lt.prototype.enableButtons=fw,lt.prototype.getInput=cw,lt.prototype.disableInput=gw,lt.prototype.enableInput=mw,lt.prototype.hideLoading=qu,lt.prototype.disableLoading=qu,lt.prototype.showValidationMessage=vw,lt.prototype.resetValidationMessage=yw,lt.prototype.close=ai,lt.prototype.closePopup=ai,lt.prototype.closeModal=ai,lt.prototype.closeToast=ai,lt.prototype.rejectPromise=rw,lt.prototype.update=Tw,lt.prototype._destroy=Iw,Object.assign(lt,Tk),Object.keys(ok).forEach(function(m){lt[m]=function(){if(nr&&nr[m]){var c;return(c=nr)[m].apply(c,arguments)}return null}}),lt.DismissReason=rs,lt.version="11.10.6";var Qu=lt;return Qu.default=Qu,Qu}),typeof li<"u"&&li.Sweetalert2&&(li.swal=li.sweetAlert=li.Swal=li.SweetAlert=li.Sweetalert2),typeof document<"u"&&function(n,r){var i=n.createElement("style");if(n.getElementsByTagName("head")[0].appendChild(i),i.styleSheet)i.styleSheet.disabled||(i.styleSheet.cssText=r);else try{i.innerHTML=r}catch{i.innerText=r}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled).swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em;text-align:center}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) .swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:#facea8;color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:#9de0f6;color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:#c9dae1;color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}')})(g2);var v3=g2.exports;const xn=fu(v3),y3=()=>{m2();const[t,e]=T.useState(""),[n,r]=T.useState(""),[i,o]=T.useState(""),[s,a]=T.useState(""),[l,u]=T.useState(""),[d,f]=T.useState(""),[g,v]=T.useState(!1),E=ch(),I=y=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(y),A=async y=>{y.preventDefault(),v(!0);try{const{user:w}=await bF(Xh,i,s);await t5(oa(Fi,"Users",w.uid),{firstName:t,lastName:n,email:w.email,address:l,contactNumber:d,dateCreated:vt.now()}),E("/")}catch(w){console.log("error in creating a user :>>",w),xn.fire({icon:"error",title:"Oops...",text:w.message})}v(!1)};return R.jsxs(Wr,{className:"mt-5",children:[R.jsx("h2",{children:"Register"}),R.jsxs(ie,{onSubmit:A,children:[R.jsxs(Fs,{className:"mb-2",children:[R.jsxs(ie.Group,{as:ar,controlId:"formBasicEmail",md:6,children:[R.jsx(ie.Label,{children:"Email address (required)"}),R.jsx(ie.Control,{type:"email",placeholder:"Enter email",value:i,onChange:y=>o(y.target.value),required:!0,name:"email"})]}),R.jsxs(ie.Group,{as:ar,controlId:"formBasicPassword",md:6,children:[R.jsx(ie.Label,{children:"Password (required, min. of 6 characters)"}),R.jsx(ie.Control,{type:"password",placeholder:"Password",value:s,onChange:y=>a(y.target.value),required:!0,name:"password"})]})]}),R.jsxs(Fs,{className:"mb-2",children:[R.jsxs(ie.Group,{as:ar,controlId:"formBasicFirstName",md:6,children:[R.jsx(ie.Label,{children:"First Name"}),R.jsx(ie.Control,{type:"text",placeholder:"Enter first name",value:t,onChange:y=>e(y.target.value),name:"firstName"})]}),R.jsxs(ie.Group,{as:ar,controlId:"formBasicLastName",md:6,children:[R.jsx(ie.Label,{children:"Last Name"}),R.jsx(ie.Control,{type:"text",placeholder:"Enter last name",value:n,onChange:y=>r(y.target.value),name:"lastName"})]})]}),R.jsxs(Fs,{className:"mb-3",children:[R.jsxs(ie.Group,{controlId:"formBasicAddress",children:[R.jsx(ie.Label,{children:"Address"}),R.jsx(ie.Control,{type:"text",placeholder:"Enter address",value:l,onChange:y=>u(y.target.value),name:"address"})]}),R.jsxs(ie.Group,{controlId:"formBasicContactNumber",children:[R.jsx(ie.Label,{children:"Contact Number"}),R.jsx(ie.Control,{type:"tel",placeholder:"Enter contact number",value:d,onChange:y=>f(y.target.value),name:"contactNumber"})]})]}),R.jsx(Hr,{variant:"primary",type:"submit",disabled:g||!(i&&s&&I(i)),children:g?"Loading...":"Register"})]}),R.jsxs("p",{className:"mt-3",children:["Already have an account? ",R.jsx(ji,{to:"/login",children:"Login here"})]})]})},w3=()=>{m2();const[t,e]=T.useState(""),[n,r]=T.useState(""),i=async o=>{o.preventDefault();try{await xF(Xh,t,n)}catch(s){console.log("error in singing in :>>",s),xn.fire({icon:"error",title:"Oops...",text:s.message})}};return R.jsxs(Wr,{className:"mt-5",children:[R.jsx("h2",{children:"Login"}),R.jsxs(ie,{onSubmit:i,children:[R.jsxs(ie.Group,{controlId:"formBasicEmail",children:[R.jsx(ie.Label,{children:"Email address"}),R.jsx(ie.Control,{name:"email",type:"email",placeholder:"Enter email",value:t,onChange:o=>e(o.target.value)})]}),R.jsxs(ie.Group,{controlId:"formBasicPassword",children:[R.jsx(ie.Label,{children:"Password"}),R.jsx(ie.Control,{name:"password",type:"password",placeholder:"Password",value:n,onChange:o=>r(o.target.value)})]}),R.jsx(Hr,{variant:"primary",type:"submit",children:"Login"})]}),R.jsxs("p",{className:"mt-3",children:["Don't have an account? ",R.jsx(ji,{to:"/register",children:"Sign up here"})]})]})},_3=()=>{var u;const t=(u=Qo())==null?void 0:u.user.uid,[e,n]=T.useState({}),[r,i]=T.useState(!0),[o,s]=T.useState([]),[a,l]=T.useState(!0);return T.useEffect(()=>{const d=$d(oa(Fi,"Users",`${t}`),f=>{n(f.data()),i(!1)});return()=>d()},[t]),T.useEffect(()=>{const d=$d(Ay(Fi,`Users/${t}/Pets`),f=>{const g=[];f.forEach(v=>{g.push({id:v.id,...v.data()})}),s(g),l(!1)});return()=>d()},[t]),T.useEffect(()=>{console.log("pets :>> ",o)},[o]),R.jsxs(Wr,{className:"mt-5",children:[R.jsxs(v_,{direction:"horizontal",gap:3,children:[R.jsx("h2",{children:"User Details"}),R.jsx(Hr,{variant:"primary",className:"mb-3 ms-auto",children:"Edit Profile"})]}),r?R.jsx(US,{animation:"border",role:"status",children:R.jsx("span",{className:"visually-hidden",children:"Loading..."})}):R.jsxs(R.Fragment,{children:[R.jsxs(Fs,{gap:3,direction:"horizontal",children:[R.jsx(ar,{md:"6",children:R.jsxs("p",{children:["Full Name: ",e.firstName," ",e.lastName]})}),R.jsx(ar,{md:"6",children:R.jsxs("p",{children:["Contact Number: ",e.contactNumber]})})]}),R.jsxs("p",{children:["Address: ",e.address]})]}),!r&&e&&!a&&o.length>0&&R.jsxs(R.Fragment,{children:[R.jsxs(v_,{direction:"horizontal",gap:3,children:[R.jsx("h2",{className:"mt-4",children:"Pets"}),R.jsx(Hr,{variant:"primary",className:"mt-3 ms-auto",as:ji,to:"/pet/new",children:"Add Pet"})]}),R.jsx(Fs,{xs:1,md:2,lg:3,className:"g-4",children:o==null?void 0:o.map(d=>R.jsx(ar,{children:R.jsx(ji,{to:`${t}/pets/${d==null?void 0:d.id}`,children:R.jsxs(Ha,{children:[R.jsx(Ha.Img,{variant:"top",src:d==null?void 0:d.pictureUrl}),R.jsxs(Ha.Body,{children:[R.jsx(Ha.Title,{children:d==null?void 0:d.name}),R.jsxs(Ha.Text,{children:[R.jsx("strong",{children:"Date of Birth:"})," ",d==null?void 0:d.dateOfBirth]})]})]})})},d.id))})]})]})},E3=()=>{let t=RI();return T.useEffect(()=>{console.error(t)},[t]),R.jsx(Wr,{className:"mt-5",children:R.jsxs($O,{variant:"danger",children:["Oops! Something went wrong. Please go back to"," ",R.jsx(ji,{to:"/login",children:"login page"})," or ",R.jsx(ji,{to:"/",children:"home page"}),"."]})})},T3=()=>{const{user:t}=Qo(),e=async()=>{try{await LF(Xh)}catch(n){console.log("error in signing out :>> ",n),xn.fire({icon:"error",title:"Oops...",text:n.message})}};return R.jsx(pc,{bg:"light",expand:"lg",children:R.jsxs(Wr,{children:[R.jsx(pc.Brand,{href:"/",children:R.jsx("h2",{children:"Pet findy"})}),R.jsx(pc.Toggle,{"aria-controls":"basic-navbar-nav"}),R.jsx(pc.Collapse,{id:"basic-navbar-nav",className:"justify-content-end",children:t?R.jsx(Hr,{variant:"outline-primary",onClick:e,children:"Logout"}):R.jsx(ji,{to:"/login",children:R.jsx(Hr,{variant:"outline-primary",children:"Login"})})})]})})},I3=()=>R.jsxs(R.Fragment,{children:[R.jsx(T3,{}),R.jsx(AI,{})]}),S3=()=>{const{user:t,loading:e}=Qo(),n=ch();return T.useEffect(()=>{!e&&!t&&n("/login")},[e,t,n]),R.jsx(R.Fragment,{children:R.jsx(AI,{})})},C3=()=>{const{userId:t,petId:e}=TI(),{user:n}=Qo(),[r,i]=T.useState(null),[o,s]=T.useState(!0);return T.useEffect(()=>{const a=$d(oa(Fi,`Users/${t}/Pets/${e}`),l=>{i(l.data()),s(!1)});return()=>a()},[t,e]),o?R.jsx(Wr,{className:"text-center mt-5",children:R.jsx(US,{animation:"border",role:"status",children:R.jsx("span",{className:"visually-hidden",children:"Loading..."})})}):r?R.jsxs(Wr,{children:[R.jsx("h2",{children:"Pet Details"}),R.jsxs("div",{children:[R.jsxs("p",{children:["Name: ",r.name]}),r.pictureUrl&&R.jsxs("div",{children:[R.jsx("p",{children:"Picture:"}),R.jsx("img",{src:r.pictureUrl,alt:"Pet",style:{maxWidth:"200px"}})]}),r.dateOfBirth&&R.jsxs("p",{children:["Date of Birth: ",r.dateOfBirth]})]}),n?R.jsx("p",{children:"To edit this pet's details, you must be authenticated."}):null,R.jsx(Hr,{as:ji,to:n?"edit":"../login",children:"Edit"})]}):R.jsx("div",{children:"Pet not found."})};var ju={},R3=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},v2={},Sn={};let jy;const A3=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];Sn.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};Sn.getSymbolTotalCodewords=function(e){return A3[e]};Sn.getBCHDigit=function(t){let e=0;for(;t!==0;)e++,t>>>=1;return e};Sn.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');jy=e};Sn.isKanjiModeEnabled=function(){return typeof jy<"u"};Sn.toSJIS=function(e){return jy(e)};var Jh={};(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+n)}}t.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},t.from=function(r,i){if(t.isValid(r))return r;try{return e(r)}catch{return i}}})(Jh);function y2(){this.buffer=[],this.length=0}y2.prototype={get:function(t){const e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)===1},put:function(t,e){for(let n=0;n<e;n++)this.putBit((t>>>e-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var P3=y2;function $u(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}$u.prototype.set=function(t,e,n,r){const i=t*this.size+e;this.data[i]=n,r&&(this.reservedBit[i]=!0)};$u.prototype.get=function(t,e){return this.data[t*this.size+e]};$u.prototype.xor=function(t,e,n){this.data[t*this.size+e]^=n};$u.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]};var k3=$u,w2={};(function(t){const e=Sn.getSymbolSize;t.getRowColCoords=function(r){if(r===1)return[];const i=Math.floor(r/7)+2,o=e(r),s=o===145?26:Math.ceil((o-13)/(2*i-2))*2,a=[o-7];for(let l=1;l<i-1;l++)a[l]=a[l-1]-s;return a.push(6),a.reverse()},t.getPositions=function(r){const i=[],o=t.getRowColCoords(r),s=o.length;for(let a=0;a<s;a++)for(let l=0;l<s;l++)a===0&&l===0||a===0&&l===s-1||a===s-1&&l===0||i.push([o[a],o[l]]);return i}})(w2);var _2={};const b3=Sn.getSymbolSize,qE=7;_2.getPositions=function(e){const n=b3(e);return[[0,0],[n-qE,0],[0,n-qE]]};var E2={};(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},t.from=function(i){return t.isValid(i)?parseInt(i,10):void 0},t.getPenaltyN1=function(i){const o=i.size;let s=0,a=0,l=0,u=null,d=null;for(let f=0;f<o;f++){a=l=0,u=d=null;for(let g=0;g<o;g++){let v=i.get(f,g);v===u?a++:(a>=5&&(s+=e.N1+(a-5)),u=v,a=1),v=i.get(g,f),v===d?l++:(l>=5&&(s+=e.N1+(l-5)),d=v,l=1)}a>=5&&(s+=e.N1+(a-5)),l>=5&&(s+=e.N1+(l-5))}return s},t.getPenaltyN2=function(i){const o=i.size;let s=0;for(let a=0;a<o-1;a++)for(let l=0;l<o-1;l++){const u=i.get(a,l)+i.get(a,l+1)+i.get(a+1,l)+i.get(a+1,l+1);(u===4||u===0)&&s++}return s*e.N2},t.getPenaltyN3=function(i){const o=i.size;let s=0,a=0,l=0;for(let u=0;u<o;u++){a=l=0;for(let d=0;d<o;d++)a=a<<1&2047|i.get(u,d),d>=10&&(a===1488||a===93)&&s++,l=l<<1&2047|i.get(d,u),d>=10&&(l===1488||l===93)&&s++}return s*e.N3},t.getPenaltyN4=function(i){let o=0;const s=i.data.length;for(let l=0;l<s;l++)o+=i.data[l];return Math.abs(Math.ceil(o*100/s/5)-10)*e.N4};function n(r,i,o){switch(r){case t.Patterns.PATTERN000:return(i+o)%2===0;case t.Patterns.PATTERN001:return i%2===0;case t.Patterns.PATTERN010:return o%3===0;case t.Patterns.PATTERN011:return(i+o)%3===0;case t.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(o/3))%2===0;case t.Patterns.PATTERN101:return i*o%2+i*o%3===0;case t.Patterns.PATTERN110:return(i*o%2+i*o%3)%2===0;case t.Patterns.PATTERN111:return(i*o%3+(i+o)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}t.applyMask=function(i,o){const s=o.size;for(let a=0;a<s;a++)for(let l=0;l<s;l++)o.isReserved(l,a)||o.xor(l,a,n(i,l,a))},t.getBestMask=function(i,o){const s=Object.keys(t.Patterns).length;let a=0,l=1/0;for(let u=0;u<s;u++){o(u),t.applyMask(u,i);const d=t.getPenaltyN1(i)+t.getPenaltyN2(i)+t.getPenaltyN3(i)+t.getPenaltyN4(i);t.applyMask(u,i),d<l&&(l=d,a=u)}return a}})(E2);var Zh={};const Ci=Jh,Rc=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],Ac=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];Zh.getBlocksCount=function(e,n){switch(n){case Ci.L:return Rc[(e-1)*4+0];case Ci.M:return Rc[(e-1)*4+1];case Ci.Q:return Rc[(e-1)*4+2];case Ci.H:return Rc[(e-1)*4+3];default:return}};Zh.getTotalCodewordsCount=function(e,n){switch(n){case Ci.L:return Ac[(e-1)*4+0];case Ci.M:return Ac[(e-1)*4+1];case Ci.Q:return Ac[(e-1)*4+2];case Ci.H:return Ac[(e-1)*4+3];default:return}};var T2={},ef={};const Cl=new Uint8Array(512),zd=new Uint8Array(256);(function(){let e=1;for(let n=0;n<255;n++)Cl[n]=e,zd[e]=n,e<<=1,e&256&&(e^=285);for(let n=255;n<512;n++)Cl[n]=Cl[n-255]})();ef.log=function(e){if(e<1)throw new Error("log("+e+")");return zd[e]};ef.exp=function(e){return Cl[e]};ef.mul=function(e,n){return e===0||n===0?0:Cl[zd[e]+zd[n]]};(function(t){const e=ef;t.mul=function(r,i){const o=new Uint8Array(r.length+i.length-1);for(let s=0;s<r.length;s++)for(let a=0;a<i.length;a++)o[s+a]^=e.mul(r[s],i[a]);return o},t.mod=function(r,i){let o=new Uint8Array(r);for(;o.length-i.length>=0;){const s=o[0];for(let l=0;l<i.length;l++)o[l]^=e.mul(i[l],s);let a=0;for(;a<o.length&&o[a]===0;)a++;o=o.slice(a)}return o},t.generateECPolynomial=function(r){let i=new Uint8Array([1]);for(let o=0;o<r;o++)i=t.mul(i,new Uint8Array([1,e.exp(o)]));return i}})(T2);const I2=T2;function $y(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}$y.prototype.initialize=function(e){this.degree=e,this.genPoly=I2.generateECPolynomial(this.degree)};$y.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const n=new Uint8Array(e.length+this.degree);n.set(e);const r=I2.mod(n,this.genPoly),i=this.degree-r.length;if(i>0){const o=new Uint8Array(this.degree);return o.set(r,i),o}return r};var x3=$y,S2={},eo={},zy={};zy.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40};var Tr={};const C2="[0-9]+",N3="[A-Z $%*+\\-./:]+";let hu="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";hu=hu.replace(/u/g,"\\u");const D3="(?:(?![A-Z0-9 $%*+\\-./:]|"+hu+`)(?:.|[\r
]))+`;Tr.KANJI=new RegExp(hu,"g");Tr.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");Tr.BYTE=new RegExp(D3,"g");Tr.NUMERIC=new RegExp(C2,"g");Tr.ALPHANUMERIC=new RegExp(N3,"g");const O3=new RegExp("^"+hu+"$"),L3=new RegExp("^"+C2+"$"),M3=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");Tr.testKanji=function(e){return O3.test(e)};Tr.testNumeric=function(e){return L3.test(e)};Tr.testAlphanumeric=function(e){return M3.test(e)};(function(t){const e=zy,n=Tr;t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(o,s){if(!o.ccBits)throw new Error("Invalid mode: "+o);if(!e.isValid(s))throw new Error("Invalid version: "+s);return s>=1&&s<10?o.ccBits[0]:s<27?o.ccBits[1]:o.ccBits[2]},t.getBestModeForData=function(o){return n.testNumeric(o)?t.NUMERIC:n.testAlphanumeric(o)?t.ALPHANUMERIC:n.testKanji(o)?t.KANJI:t.BYTE},t.toString=function(o){if(o&&o.id)return o.id;throw new Error("Invalid mode")},t.isValid=function(o){return o&&o.bit&&o.ccBits};function r(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+i)}}t.from=function(o,s){if(t.isValid(o))return o;try{return r(o)}catch{return s}}})(eo);(function(t){const e=Sn,n=Zh,r=Jh,i=eo,o=zy,s=7973,a=e.getBCHDigit(s);function l(g,v,E){for(let I=1;I<=40;I++)if(v<=t.getCapacity(I,E,g))return I}function u(g,v){return i.getCharCountIndicator(g,v)+4}function d(g,v){let E=0;return g.forEach(function(I){const A=u(I.mode,v);E+=A+I.getBitsLength()}),E}function f(g,v){for(let E=1;E<=40;E++)if(d(g,E)<=t.getCapacity(E,v,i.MIXED))return E}t.from=function(v,E){return o.isValid(v)?parseInt(v,10):E},t.getCapacity=function(v,E,I){if(!o.isValid(v))throw new Error("Invalid QR Code version");typeof I>"u"&&(I=i.BYTE);const A=e.getSymbolTotalCodewords(v),y=n.getTotalCodewordsCount(v,E),w=(A-y)*8;if(I===i.MIXED)return w;const _=w-u(I,v);switch(I){case i.NUMERIC:return Math.floor(_/10*3);case i.ALPHANUMERIC:return Math.floor(_/11*2);case i.KANJI:return Math.floor(_/13);case i.BYTE:default:return Math.floor(_/8)}},t.getBestVersionForData=function(v,E){let I;const A=r.from(E,r.M);if(Array.isArray(v)){if(v.length>1)return f(v,A);if(v.length===0)return 1;I=v[0]}else I=v;return l(I.mode,I.getLength(),A)},t.getEncodedBits=function(v){if(!o.isValid(v)||v<7)throw new Error("Invalid QR Code version");let E=v<<12;for(;e.getBCHDigit(E)-a>=0;)E^=s<<e.getBCHDigit(E)-a;return v<<12|E}})(S2);var R2={};const ag=Sn,A2=1335,V3=21522,KE=ag.getBCHDigit(A2);R2.getEncodedBits=function(e,n){const r=e.bit<<3|n;let i=r<<10;for(;ag.getBCHDigit(i)-KE>=0;)i^=A2<<ag.getBCHDigit(i)-KE;return(r<<10|i)^V3};var P2={};const F3=eo;function la(t){this.mode=F3.NUMERIC,this.data=t.toString()}la.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};la.prototype.getLength=function(){return this.data.length};la.prototype.getBitsLength=function(){return la.getBitsLength(this.data.length)};la.prototype.write=function(e){let n,r,i;for(n=0;n+3<=this.data.length;n+=3)r=this.data.substr(n,3),i=parseInt(r,10),e.put(i,10);const o=this.data.length-n;o>0&&(r=this.data.substr(n),i=parseInt(r,10),e.put(i,o*3+1))};var U3=la;const B3=eo,pp=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function ua(t){this.mode=B3.ALPHANUMERIC,this.data=t}ua.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};ua.prototype.getLength=function(){return this.data.length};ua.prototype.getBitsLength=function(){return ua.getBitsLength(this.data.length)};ua.prototype.write=function(e){let n;for(n=0;n+2<=this.data.length;n+=2){let r=pp.indexOf(this.data[n])*45;r+=pp.indexOf(this.data[n+1]),e.put(r,11)}this.data.length%2&&e.put(pp.indexOf(this.data[n]),6)};var j3=ua,$3=function(e){for(var n=[],r=e.length,i=0;i<r;i++){var o=e.charCodeAt(i);if(o>=55296&&o<=56319&&r>i+1){var s=e.charCodeAt(i+1);s>=56320&&s<=57343&&(o=(o-55296)*1024+s-56320+65536,i+=1)}if(o<128){n.push(o);continue}if(o<2048){n.push(o>>6|192),n.push(o&63|128);continue}if(o<55296||o>=57344&&o<65536){n.push(o>>12|224),n.push(o>>6&63|128),n.push(o&63|128);continue}if(o>=65536&&o<=1114111){n.push(o>>18|240),n.push(o>>12&63|128),n.push(o>>6&63|128),n.push(o&63|128);continue}n.push(239,191,189)}return new Uint8Array(n).buffer};const z3=$3,H3=eo;function ca(t){this.mode=H3.BYTE,typeof t=="string"&&(t=z3(t)),this.data=new Uint8Array(t)}ca.getBitsLength=function(e){return e*8};ca.prototype.getLength=function(){return this.data.length};ca.prototype.getBitsLength=function(){return ca.getBitsLength(this.data.length)};ca.prototype.write=function(t){for(let e=0,n=this.data.length;e<n;e++)t.put(this.data[e],8)};var W3=ca;const q3=eo,K3=Sn;function da(t){this.mode=q3.KANJI,this.data=t}da.getBitsLength=function(e){return e*13};da.prototype.getLength=function(){return this.data.length};da.prototype.getBitsLength=function(){return da.getBitsLength(this.data.length)};da.prototype.write=function(t){let e;for(e=0;e<this.data.length;e++){let n=K3.toSJIS(this.data[e]);if(n>=33088&&n<=40956)n-=33088;else if(n>=57408&&n<=60351)n-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);n=(n>>>8&255)*192+(n&255),t.put(n,13)}};var G3=da,k2={exports:{}};(function(t){var e={single_source_shortest_paths:function(n,r,i){var o={},s={};s[r]=0;var a=e.PriorityQueue.make();a.push(r,0);for(var l,u,d,f,g,v,E,I,A;!a.empty();){l=a.pop(),u=l.value,f=l.cost,g=n[u]||{};for(d in g)g.hasOwnProperty(d)&&(v=g[d],E=f+v,I=s[d],A=typeof s[d]>"u",(A||I>E)&&(s[d]=E,a.push(d,E),o[d]=u))}if(typeof i<"u"&&typeof s[i]>"u"){var y=["Could not find a path from ",r," to ",i,"."].join("");throw new Error(y)}return o},extract_shortest_path_from_predecessor_list:function(n,r){for(var i=[],o=r;o;)i.push(o),n[o],o=n[o];return i.reverse(),i},find_path:function(n,r,i){var o=e.single_source_shortest_paths(n,r,i);return e.extract_shortest_path_from_predecessor_list(o,i)},PriorityQueue:{make:function(n){var r=e.PriorityQueue,i={},o;n=n||{};for(o in r)r.hasOwnProperty(o)&&(i[o]=r[o]);return i.queue=[],i.sorter=n.sorter||r.default_sorter,i},default_sorter:function(n,r){return n.cost-r.cost},push:function(n,r){var i={value:n,cost:r};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=e})(k2);var Q3=k2.exports;(function(t){const e=eo,n=U3,r=j3,i=W3,o=G3,s=Tr,a=Sn,l=Q3;function u(y){return unescape(encodeURIComponent(y)).length}function d(y,w,_){const P=[];let D;for(;(D=y.exec(_))!==null;)P.push({data:D[0],index:D.index,mode:w,length:D[0].length});return P}function f(y){const w=d(s.NUMERIC,e.NUMERIC,y),_=d(s.ALPHANUMERIC,e.ALPHANUMERIC,y);let P,D;return a.isKanjiModeEnabled()?(P=d(s.BYTE,e.BYTE,y),D=d(s.KANJI,e.KANJI,y)):(P=d(s.BYTE_KANJI,e.BYTE,y),D=[]),w.concat(_,P,D).sort(function(N,M){return N.index-M.index}).map(function(N){return{data:N.data,mode:N.mode,length:N.length}})}function g(y,w){switch(w){case e.NUMERIC:return n.getBitsLength(y);case e.ALPHANUMERIC:return r.getBitsLength(y);case e.KANJI:return o.getBitsLength(y);case e.BYTE:return i.getBitsLength(y)}}function v(y){return y.reduce(function(w,_){const P=w.length-1>=0?w[w.length-1]:null;return P&&P.mode===_.mode?(w[w.length-1].data+=_.data,w):(w.push(_),w)},[])}function E(y){const w=[];for(let _=0;_<y.length;_++){const P=y[_];switch(P.mode){case e.NUMERIC:w.push([P,{data:P.data,mode:e.ALPHANUMERIC,length:P.length},{data:P.data,mode:e.BYTE,length:P.length}]);break;case e.ALPHANUMERIC:w.push([P,{data:P.data,mode:e.BYTE,length:P.length}]);break;case e.KANJI:w.push([P,{data:P.data,mode:e.BYTE,length:u(P.data)}]);break;case e.BYTE:w.push([{data:P.data,mode:e.BYTE,length:u(P.data)}])}}return w}function I(y,w){const _={},P={start:{}};let D=["start"];for(let S=0;S<y.length;S++){const N=y[S],M=[];for(let z=0;z<N.length;z++){const K=N[z],ce=""+S+z;M.push(ce),_[ce]={node:K,lastCount:0},P[ce]={};for(let Ne=0;Ne<D.length;Ne++){const ve=D[Ne];_[ve]&&_[ve].node.mode===K.mode?(P[ve][ce]=g(_[ve].lastCount+K.length,K.mode)-g(_[ve].lastCount,K.mode),_[ve].lastCount+=K.length):(_[ve]&&(_[ve].lastCount=K.length),P[ve][ce]=g(K.length,K.mode)+4+e.getCharCountIndicator(K.mode,w))}}D=M}for(let S=0;S<D.length;S++)P[D[S]].end=0;return{map:P,table:_}}function A(y,w){let _;const P=e.getBestModeForData(y);if(_=e.from(w,P),_!==e.BYTE&&_.bit<P.bit)throw new Error('"'+y+'" cannot be encoded with mode '+e.toString(_)+`.
 Suggested mode is: `+e.toString(P));switch(_===e.KANJI&&!a.isKanjiModeEnabled()&&(_=e.BYTE),_){case e.NUMERIC:return new n(y);case e.ALPHANUMERIC:return new r(y);case e.KANJI:return new o(y);case e.BYTE:return new i(y)}}t.fromArray=function(w){return w.reduce(function(_,P){return typeof P=="string"?_.push(A(P,null)):P.data&&_.push(A(P.data,P.mode)),_},[])},t.fromString=function(w,_){const P=f(w,a.isKanjiModeEnabled()),D=E(P),S=I(D,_),N=l.find_path(S.map,"start","end"),M=[];for(let z=1;z<N.length-1;z++)M.push(S.table[N[z]].node);return t.fromArray(v(M))},t.rawSplit=function(w){return t.fromArray(f(w,a.isKanjiModeEnabled()))}})(P2);const tf=Sn,mp=Jh,Y3=P3,X3=k3,J3=w2,Z3=_2,lg=E2,ug=Zh,e6=x3,Hd=S2,t6=R2,n6=eo,gp=P2;function r6(t,e){const n=t.size,r=Z3.getPositions(e);for(let i=0;i<r.length;i++){const o=r[i][0],s=r[i][1];for(let a=-1;a<=7;a++)if(!(o+a<=-1||n<=o+a))for(let l=-1;l<=7;l++)s+l<=-1||n<=s+l||(a>=0&&a<=6&&(l===0||l===6)||l>=0&&l<=6&&(a===0||a===6)||a>=2&&a<=4&&l>=2&&l<=4?t.set(o+a,s+l,!0,!0):t.set(o+a,s+l,!1,!0))}}function i6(t){const e=t.size;for(let n=8;n<e-8;n++){const r=n%2===0;t.set(n,6,r,!0),t.set(6,n,r,!0)}}function o6(t,e){const n=J3.getPositions(e);for(let r=0;r<n.length;r++){const i=n[r][0],o=n[r][1];for(let s=-2;s<=2;s++)for(let a=-2;a<=2;a++)s===-2||s===2||a===-2||a===2||s===0&&a===0?t.set(i+s,o+a,!0,!0):t.set(i+s,o+a,!1,!0)}}function s6(t,e){const n=t.size,r=Hd.getEncodedBits(e);let i,o,s;for(let a=0;a<18;a++)i=Math.floor(a/3),o=a%3+n-8-3,s=(r>>a&1)===1,t.set(i,o,s,!0),t.set(o,i,s,!0)}function vp(t,e,n){const r=t.size,i=t6.getEncodedBits(e,n);let o,s;for(o=0;o<15;o++)s=(i>>o&1)===1,o<6?t.set(o,8,s,!0):o<8?t.set(o+1,8,s,!0):t.set(r-15+o,8,s,!0),o<8?t.set(8,r-o-1,s,!0):o<9?t.set(8,15-o-1+1,s,!0):t.set(8,15-o-1,s,!0);t.set(r-8,8,1,!0)}function a6(t,e){const n=t.size;let r=-1,i=n-1,o=7,s=0;for(let a=n-1;a>0;a-=2)for(a===6&&a--;;){for(let l=0;l<2;l++)if(!t.isReserved(i,a-l)){let u=!1;s<e.length&&(u=(e[s]>>>o&1)===1),t.set(i,a-l,u),o--,o===-1&&(s++,o=7)}if(i+=r,i<0||n<=i){i-=r,r=-r;break}}}function l6(t,e,n){const r=new Y3;n.forEach(function(l){r.put(l.mode.bit,4),r.put(l.getLength(),n6.getCharCountIndicator(l.mode,t)),l.write(r)});const i=tf.getSymbolTotalCodewords(t),o=ug.getTotalCodewordsCount(t,e),s=(i-o)*8;for(r.getLengthInBits()+4<=s&&r.put(0,4);r.getLengthInBits()%8!==0;)r.putBit(0);const a=(s-r.getLengthInBits())/8;for(let l=0;l<a;l++)r.put(l%2?17:236,8);return u6(r,t,e)}function u6(t,e,n){const r=tf.getSymbolTotalCodewords(e),i=ug.getTotalCodewordsCount(e,n),o=r-i,s=ug.getBlocksCount(e,n),a=r%s,l=s-a,u=Math.floor(r/s),d=Math.floor(o/s),f=d+1,g=u-d,v=new e6(g);let E=0;const I=new Array(s),A=new Array(s);let y=0;const w=new Uint8Array(t.buffer);for(let N=0;N<s;N++){const M=N<l?d:f;I[N]=w.slice(E,E+M),A[N]=v.encode(I[N]),E+=M,y=Math.max(y,M)}const _=new Uint8Array(r);let P=0,D,S;for(D=0;D<y;D++)for(S=0;S<s;S++)D<I[S].length&&(_[P++]=I[S][D]);for(D=0;D<g;D++)for(S=0;S<s;S++)_[P++]=A[S][D];return _}function c6(t,e,n,r){let i;if(Array.isArray(t))i=gp.fromArray(t);else if(typeof t=="string"){let u=e;if(!u){const d=gp.rawSplit(t);u=Hd.getBestVersionForData(d,n)}i=gp.fromString(t,u||40)}else throw new Error("Invalid data");const o=Hd.getBestVersionForData(i,n);if(!o)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=o;else if(e<o)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+o+`.
`);const s=l6(e,n,i),a=tf.getSymbolSize(e),l=new X3(a);return r6(l,e),i6(l),o6(l,e),vp(l,n,0),e>=7&&s6(l,e),a6(l,s),isNaN(r)&&(r=lg.getBestMask(l,vp.bind(null,l,n))),lg.applyMask(r,l),vp(l,n,r),{modules:l,version:e,errorCorrectionLevel:n,maskPattern:r,segments:i}}v2.create=function(e,n){if(typeof e>"u"||e==="")throw new Error("No input text");let r=mp.M,i,o;return typeof n<"u"&&(r=mp.from(n.errorCorrectionLevel,mp.M),i=Hd.from(n.version),o=lg.from(n.maskPattern),n.toSJISFunc&&tf.setToSJISFunction(n.toSJISFunc)),c6(e,i,r,o)};var b2={},Hy={};(function(t){function e(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let r=n.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+n);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(o){return[o,o]}))),r.length===6&&r.push("F","F");const i=parseInt(r.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+r.slice(0,6).join("")}}t.getOptions=function(r){r||(r={}),r.color||(r.color={});const i=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,o=r.width&&r.width>=21?r.width:void 0,s=r.scale||4;return{width:o,scale:o?4:s,margin:i,color:{dark:e(r.color.dark||"#000000ff"),light:e(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},t.getScale=function(r,i){return i.width&&i.width>=r+i.margin*2?i.width/(r+i.margin*2):i.scale},t.getImageWidth=function(r,i){const o=t.getScale(r,i);return Math.floor((r+i.margin*2)*o)},t.qrToImageData=function(r,i,o){const s=i.modules.size,a=i.modules.data,l=t.getScale(s,o),u=Math.floor((s+o.margin*2)*l),d=o.margin*l,f=[o.color.light,o.color.dark];for(let g=0;g<u;g++)for(let v=0;v<u;v++){let E=(g*u+v)*4,I=o.color.light;if(g>=d&&v>=d&&g<u-d&&v<u-d){const A=Math.floor((g-d)/l),y=Math.floor((v-d)/l);I=f[a[A*s+y]?1:0]}r[E++]=I.r,r[E++]=I.g,r[E++]=I.b,r[E]=I.a}}})(Hy);(function(t){const e=Hy;function n(i,o,s){i.clearRect(0,0,o.width,o.height),o.style||(o.style={}),o.height=s,o.width=s,o.style.height=s+"px",o.style.width=s+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(o,s,a){let l=a,u=s;typeof l>"u"&&(!s||!s.getContext)&&(l=s,s=void 0),s||(u=r()),l=e.getOptions(l);const d=e.getImageWidth(o.modules.size,l),f=u.getContext("2d"),g=f.createImageData(d,d);return e.qrToImageData(g.data,o,l),n(f,u,d),f.putImageData(g,0,0),u},t.renderToDataURL=function(o,s,a){let l=a;typeof l>"u"&&(!s||!s.getContext)&&(l=s,s=void 0),l||(l={});const u=t.render(o,s,l),d=l.type||"image/png",f=l.rendererOpts||{};return u.toDataURL(d,f.quality)}})(b2);var x2={};const d6=Hy;function GE(t,e){const n=t.a/255,r=e+'="'+t.hex+'"';return n<1?r+" "+e+'-opacity="'+n.toFixed(2).slice(1)+'"':r}function yp(t,e,n){let r=t+e;return typeof n<"u"&&(r+=" "+n),r}function h6(t,e,n){let r="",i=0,o=!1,s=0;for(let a=0;a<t.length;a++){const l=Math.floor(a%e),u=Math.floor(a/e);!l&&!o&&(o=!0),t[a]?(s++,a>0&&l>0&&t[a-1]||(r+=o?yp("M",l+n,.5+u+n):yp("m",i,0),i=0,o=!1),l+1<e&&t[a+1]||(r+=yp("h",s),s=0)):i++}return r}x2.render=function(e,n,r){const i=d6.getOptions(n),o=e.modules.size,s=e.modules.data,a=o+i.margin*2,l=i.color.light.a?"<path "+GE(i.color.light,"fill")+' d="M0 0h'+a+"v"+a+'H0z"/>':"",u="<path "+GE(i.color.dark,"stroke")+' d="'+h6(s,o,i.margin)+'"/>',d='viewBox="0 0 '+a+" "+a+'"',g='<svg xmlns="http://www.w3.org/2000/svg" '+(i.width?'width="'+i.width+'" height="'+i.width+'" ':"")+d+' shape-rendering="crispEdges">'+l+u+`</svg>
`;return typeof r=="function"&&r(null,g),g};const f6=R3,cg=v2,N2=b2,p6=x2;function Wy(t,e,n,r,i){const o=[].slice.call(arguments,1),s=o.length,a=typeof o[s-1]=="function";if(!a&&!f6())throw new Error("Callback required as last argument");if(a){if(s<2)throw new Error("Too few arguments provided");s===2?(i=n,n=e,e=r=void 0):s===3&&(e.getContext&&typeof i>"u"?(i=r,r=void 0):(i=r,r=n,n=e,e=void 0))}else{if(s<1)throw new Error("Too few arguments provided");return s===1?(n=e,e=r=void 0):s===2&&!e.getContext&&(r=n,n=e,e=void 0),new Promise(function(l,u){try{const d=cg.create(n,r);l(t(d,e,r))}catch(d){u(d)}})}try{const l=cg.create(n,r);i(null,t(l,e,r))}catch(l){i(l)}}ju.create=cg.create;ju.toCanvas=Wy.bind(null,N2.render);ju.toDataURL=Wy.bind(null,N2.renderToDataURL);ju.toString=Wy.bind(null,function(t,e,n){return p6.render(t,n)});const m6="http://localhost:5173",g6=()=>{var o;const t=(o=Qo())==null?void 0:o.user.uid,[e,n]=T.useState({picture:"",name:"",dateOfBirth:""});T.useEffect(()=>{console.log("petData :>> ",e)},[e]);const r=async()=>{const{picture:s,name:a,dateOfBirth:l}=e;if(!s||!a){xn.fire({icon:"error",title:"Oops...",text:"Please fill out all fields!"});return}try{xn.fire({title:"Adding Pet",html:"Please wait...",allowOutsideClick:!1,didOpen:()=>{xn.showLoading()}});const u=await YA(Ay(Fi,`Users/${t}/Pets`),{name:a,dateOfBirth:l,createdAt:XA()}),d=og(sg,`users/${t}/pets/${u.id}/${new Date}`);await rg(d,s);const f=`${t}/pets/${u.id}`,g=`${m6}/${f}`,v=await ju.toDataURL(g),E=og(sg,`users/${t}/pets/${u.id}/qrcode`);await rg(E,v),await QA(u,{pictureUrl:await ig(d),qrCodeUrl:await ig(E)}),n({picture:"",name:"",dateOfBirth:""}),xn.fire({icon:"success",title:"Success!",html:`<img src="${v}" alt="QR Code" style="max-width: 100%;">`,showCancelButton:!0,cancelButtonText:"Close",confirmButtonText:"Download QR Code",reverseButtons:!0}).then(I=>{if(I.isConfirmed){const A=document.createElement("a");A.href=v,A.download="pet_qr_code.png",A.click()}})}catch(u){console.error("Error adding pet: ",u),xn.fire({icon:"error",title:"Oops...",text:"An error occurred. Please try again later!"})}},i=s=>{const{name:a,value:l}=s.target;n(u=>({...u,[a]:a==="picture"?s.target.files[0]:l}))};return R.jsxs(Wr,{className:"mt-5",children:[R.jsx("h2",{children:"Add Pet"}),R.jsxs(ie,{children:[R.jsxs(ie.Group,{className:"mb-3",controlId:"formPetPicture",children:[R.jsx(ie.Label,{children:"Pet Picture"}),R.jsx(ie.Control,{type:"file",name:"picture",onChange:i})]}),R.jsxs(ie.Group,{className:"mb-3",controlId:"formPetName",children:[R.jsx(ie.Label,{children:"Pet Name"}),R.jsx(ie.Control,{type:"text",name:"name",value:e.name,onChange:i})]}),R.jsxs(ie.Group,{className:"mb-3",controlId:"formPetDateOfBirth",children:[R.jsx(ie.Label,{children:"Date of Birth"}),R.jsx(ie.Control,{type:"date",name:"dateOfBirth",value:e.dateOfBirth,onChange:i})]}),R.jsx(Hr,{variant:"primary",type:"button",onClick:r,children:"Add Pet"})]})]})},v6=()=>{var f;const t=(f=Qo())==null?void 0:f.user.uid,{userId:e,petId:n}=TI(),[r,i]=T.useState(null),[o,s]=T.useState(!0),[a,l]=T.useState({name:"",picture:"",dateOfBirth:""});T.useEffect(()=>{const g=$d(oa(Fi,`Users/${e}/Pets/${n}`),v=>{if(v.exists()){const E=v.data();i(E),l({name:E.name,picture:E.pictureUrl||"",dateOfBirth:(E==null?void 0:E.dateOfBirth)||""}),s(!1)}});return()=>g()},[e,n]);const u=g=>{const{name:v,value:E}=g.target;l(I=>({...I,[v]:v==="picture"?g.target.files[0]:E}))},d=async g=>{g.preventDefault();try{xn.fire({title:"Editing Pet",html:"Please wait...",allowOutsideClick:!1,didOpen:()=>{xn.showLoading()}}),console.log("swal fired");let v={};for(const[E,I]of Object.entries(a))console.log("key :>> ",E),E!=="picture"&&I!==r[E]&&(v[E]=I);if(console.log(v),console.log("adding in docs in Logs subcollection"),await YA(Ay(Fi,`Users/${e}/Pets/${n}/Logs`),{userId:t,timestamp:XA(),payload:v}),console.log("adding in picture in storage"),!(a!=null&&a.picture)){const E=og(sg,`users/${e}/pets/${n}/${new Date}`);await rg(E,a==null?void 0:a.picture),v.pictureUrl=ig(E)}console.log("updating document in pets subcollection"),await QA(oa(Fi,`Users/${e}/Pets/${n}`),v),l({picture:"",name:r.name,dateOfBirth:r.dateOfBirth}),xn.fire({icon:"success",title:"Success!",showCancelButton:!0,cancelButtonText:"Close"})}catch(v){console.error("Error editing pet: ",v),xn.fire({icon:"error",title:"Oops...",text:"An error occurred. Please try again later!"})}};return o?R.jsx("div",{children:"Loading..."}):r?R.jsxs(Wr,{children:[R.jsx("h2",{children:"Edit Pet Details"}),R.jsxs(ie,{onSubmit:d,children:[R.jsxs(Fs,{children:[R.jsx(ar,{xs:12,md:6,children:R.jsxs(ie.Group,{controlId:"formPetPicture",children:[R.jsx(ie.Label,{children:"Picture"}),R.jsx("div",{children:r.pictureUrl&&R.jsx("img",{src:r.pictureUrl,alt:"Pet",style:{maxWidth:"200px",marginBottom:"10px"}})}),R.jsx(ie.Control,{type:"file",onChange:u,name:"picture"})]})}),R.jsxs(ar,{xs:12,md:6,children:[R.jsxs(ie.Group,{controlId:"formPetName",children:[R.jsx(ie.Label,{children:"Name"}),R.jsx(ie.Control,{type:"text",name:"name",value:a.name,onChange:u})]}),R.jsxs(ie.Group,{controlId:"formPetDateOfBirth",children:[R.jsx(ie.Label,{children:"Date of Birth"}),R.jsx(ie.Control,{type:"date",name:"dateOfBirth",value:a.dateOfBirth,onChange:u})]})]})]}),R.jsx(Hr,{variant:"primary",type:"submit",children:"Save Changes"})]})]}):R.jsx("div",{children:"Pet not found."})},y6=ND([{element:R.jsx(I3,{}),children:[{path:"/register",element:R.jsx(y3,{})},{path:"/login",element:R.jsx(w3,{})},{element:R.jsx(S3,{}),children:[{path:"/",element:R.jsx(_3,{})},{path:"pet",children:[{path:"new",element:R.jsx(g6,{})}]},{path:":userId/pets/:petId/edit",element:R.jsx(v6,{})}]},{path:":userId/pets/:petId",element:R.jsx(C3,{})}],errorElement:R.jsx(E3,{})}]),w6=()=>R.jsx(jD,{router:y6});function _6(){return R.jsx(R.Fragment,{children:R.jsx(w6,{})})}wp.createRoot(document.getElementById("root")).render(R.jsx(Wn.StrictMode,{children:R.jsx(_6,{})}));
